var Xf=Object.defineProperty;var Zf=(t,e,n)=>e in t?Xf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Z=(t,e,n)=>Zf(t,typeof e!="symbol"?e+"":e,n);import{j as Pi,u as Jf,a as Qf,B as k,L as gs,A as el,T as L,b as ts,c as em,d as xt,e as ns,f as Iu,g as tl,I as Xe,M as tm,h as gi,i as ku,k as nm,N as sm,P as an,l as im,D as nl,C as Lu,m as sl,n as ge,S as Mu,o as Ri,p as Fu,q as rm,r as am,s as Vu,H as om,t as zu,v as lm,w as ju,x as ys,y as qa,R as Ga,z as Uu,E as Fe,G,F as Lt,J as Bu,K as Hu,O as $u,Q as un,U as Wu,V as qu,W as Gu,X as Be,Y as Ku,Z as Ee,$ as cm,a0 as um,a1 as J,a2 as ve,a3 as dm,a4 as bs,a5 as Yu,a6 as Ka,a7 as ha,a8 as hm,a9 as fm,aa as mm,ab as Er,ac as Ke,ad as pm,ae as gm,af as fa,ag as ma,ah as pa,ai as Xu,aj as Zu,ak as ym,al as Ju,am as il,an as rl,ao as bm,ap as xm,aq as vm,ar as Ye,as as _m,at as Sm,au as al,av as wm,aw as Tm,ax as Am,ay as Em,az as Cm,aA as Pm,aB as Rm,aC as Dm,aD as Nm}from"../js/chunk-CaWMBJy7.js";import{h as Qu,E as ed,e as td,c as nd,C as Om}from"../js/chunk-BUru4sWo.js";import{c as Im,r as b,a as dt}from"../js/chunk-WZv-a8Cg.js";import{u as km,a as Lm,b as Mm,Q as Fm,c as Vm}from"../js/chunk-68COqs3p.js";import{u as Ya,a as zm,N as Cr,R as sd,b as Y,c as jm,B as Um}from"../js/chunk-CcsQjfzM.js";import{p as Bm,s as Hm}from"../js/chunk-QtobQ8s7.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();var u=function(e,n,s){return Qu.call(n,"css")?Pi.jsx(ed,td(e,n),s):Pi.jsx(e,n,s)},g=function(e,n,s){return Qu.call(n,"css")?Pi.jsxs(ed,td(e,n),s):Pi.jsxs(e,n,s)},ga={},ol=Im;ga.createRoot=ol.createRoot,ga.hydrateRoot=ol.hydrateRoot;var id=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(id||{}),Pr={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}};Object.values(id);var Xa={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"};Object.entries(Xa).reduce((t,[e,n])=>(t[n]=e,t),{});var xs="data-rh",$m=t=>Array.isArray(t)?t.join(""):t,Wm=(t,e)=>{const n=Object.keys(t);for(let s=0;s<n.length;s+=1)if(e[n[s]]&&e[n[s]].includes(t[n[s]]))return!0;return!1},Rr=(t,e)=>Array.isArray(t)?t.reduce((n,s)=>(Wm(s,e)?n.priority.push(s):n.default.push(s),n),{priority:[],default:[]}):{default:t,priority:[]},qm=["noscript","script","style"],ya=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),rd=t=>Object.keys(t).reduce((e,n)=>{const s=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${s}`:s},""),Gm=(t,e,n,s)=>{const i=rd(n),r=$m(e);return i?`<${t} ${xs}="true" ${i}>${ya(r,s)}</${t}>`:`<${t} ${xs}="true">${ya(r,s)}</${t}>`},Km=(t,e,n=!0)=>e.reduce((s,i)=>{const r=i,a=Object.keys(r).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,d)=>{const h=typeof r[d]>"u"?d:`${d}="${ya(r[d],n)}"`;return c?`${c} ${h}`:h},""),o=r.innerHTML||r.cssText||"",l=qm.indexOf(t)===-1;return`${s}<${t} ${xs}="true" ${a}${l?"/>":`>${o}</${t}>`}`},""),ad=(t,e={})=>Object.keys(t).reduce((n,s)=>{const i=Xa[s];return n[i||s]=t[s],n},e),Ym=(t,e,n)=>{const s={key:e,[xs]:!0},i=ad(n,s);return[dt.createElement("title",i,e)]},yi=(t,e)=>e.map((n,s)=>{const i={key:s,[xs]:!0};return Object.keys(n).forEach(r=>{const o=Xa[r]||r;if(o==="innerHTML"||o==="cssText"){const l=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[o]=n[r]}),dt.createElement(t,i)}),tt=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>Ym(t,e.title,e.titleAttributes),toString:()=>Gm(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>ad(e),toString:()=>rd(e)};default:return{toComponent:()=>yi(t,e),toString:()=>Km(t,e,n)}}},Xm=({metaTags:t,linkTags:e,scriptTags:n,encode:s})=>{const i=Rr(t,Pr.meta),r=Rr(e,Pr.link),a=Rr(n,Pr.script);return{priorityMethods:{toComponent:()=>[...yi("meta",i.priority),...yi("link",r.priority),...yi("script",a.priority)],toString:()=>`${tt("meta",i.priority,s)} ${tt("link",r.priority,s)} ${tt("script",a.priority,s)}`},metaTags:i.default,linkTags:r.default,scriptTags:a.default}},Zm=t=>{const{baseTag:e,bodyAttributes:n,encode:s=!0,htmlAttributes:i,noscriptTags:r,styleTags:a,title:o="",titleAttributes:l,prioritizeSeoTags:c}=t;let{linkTags:d,metaTags:h,scriptTags:f}=t,m={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:m,linkTags:d,metaTags:h,scriptTags:f}=Xm(t)),{priority:m,base:tt("base",e,s),bodyAttributes:tt("bodyAttributes",n,s),htmlAttributes:tt("htmlAttributes",i,s),link:tt("link",d,s),meta:tt("meta",h,s),noscript:tt("noscript",r,s),script:tt("script",f,s),style:tt("style",a,s),title:tt("title",{title:o,titleAttributes:l},s)}},Jm=Zm,Ks=[],od=!!(typeof window<"u"&&window.document&&window.document.createElement),Qm=class{constructor(t,e){Z(this,"instances",[]);Z(this,"canUseDOM",od);Z(this,"context");Z(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?Ks:this.instances,add:t=>{(this.canUseDOM?Ks:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?Ks:this.instances).indexOf(t);(this.canUseDOM?Ks:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=Jm({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},ep={},tp=dt.createContext(ep),rn,np=(rn=class extends b.Component{constructor(n){super(n);Z(this,"helmetData");this.helmetData=new Qm(this.props.context||{},rn.canUseDOM)}render(){return dt.createElement(tp.Provider,{value:this.helmetData.value},this.props.children)}},Z(rn,"canUseDOM",od),rn);let sp={data:""},ip=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||sp,rp=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ap=/\/\*[^]*?\*\/|  +/g,ll=/\n+/g,kt=(t,e)=>{let n="",s="",i="";for(let r in t){let a=t[r];r[0]=="@"?r[1]=="i"?n=r+" "+a+";":s+=r[1]=="f"?kt(a,r):r+"{"+kt(a,r[1]=="k"?"":e)+"}":typeof a=="object"?s+=kt(a,e?e.replace(/([^,])+/g,o=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):r):a!=null&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=kt.p?kt.p(r,a):r+":"+a+";")}return n+(e&&i?e+"{"+i+"}":i)+s},gt={},ld=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+ld(t[n]);return e}return t},op=(t,e,n,s,i)=>{let r=ld(t),a=gt[r]||(gt[r]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(r));if(!gt[a]){let l=r!==t?t:(c=>{let d,h,f=[{}];for(;d=rp.exec(c.replace(ap,""));)d[4]?f.shift():d[3]?(h=d[3].replace(ll," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(ll," ").trim();return f[0]})(t);gt[a]=kt(i?{["@keyframes "+a]:l}:l,n?"":"."+a)}let o=n&&gt.g?gt.g:null;return n&&(gt.g=gt[a]),((l,c,d,h)=>{h?c.data=c.data.replace(h,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(gt[a],e,s,o),a},lp=(t,e,n)=>t.reduce((s,i,r)=>{let a=e[r];if(a&&a.call){let o=a(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":kt(o,""):o===!1?"":o}return s+i+(a??"")},"");function Yi(t){let e=this||{},n=t.call?t(e.p):t;return op(n.unshift?n.raw?lp(n,[].slice.call(arguments,1),e.p):n.reduce((s,i)=>Object.assign(s,i&&i.call?i(e.p):i),{}):n,ip(e.target),e.g,e.o,e.k)}let cd,ba,xa;Yi.bind({g:1});let At=Yi.bind({k:1});function cp(t,e,n,s){kt.p=e,cd=t,ba=n,xa=s}function Bt(t,e){let n=this||{};return function(){let s=arguments;function i(r,a){let o=Object.assign({},r),l=o.className||i.className;n.p=Object.assign({theme:ba&&ba()},o),n.o=/ *go\d+/.test(l),o.className=Yi.apply(n,s)+(l?" "+l:"");let c=t;return t[0]&&(c=o.as||t,delete o.as),xa&&c[0]&&xa(o),cd(c,o)}return i}}var up=t=>typeof t=="function",Di=(t,e)=>up(t)?t(e):t,dp=(()=>{let t=0;return()=>(++t).toString()})(),ud=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),hp=20,dd=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,hp)};case 1:return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case 2:let{toast:n}=e;return dd(t,{type:t.toasts.find(r=>r.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(r=>r.id===s||s===void 0?{...r,dismissed:!0,visible:!1}:r)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(r=>({...r,pauseDuration:r.pauseDuration+i}))}}},bi=[],en={toasts:[],pausedAt:void 0},fn=t=>{en=dd(en,t),bi.forEach(e=>{e(en)})},fp={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},mp=(t={})=>{let[e,n]=b.useState(en),s=b.useRef(en);b.useEffect(()=>(s.current!==en&&n(en),bi.push(n),()=>{let r=bi.indexOf(n);r>-1&&bi.splice(r,1)}),[]);let i=e.toasts.map(r=>{var a,o,l;return{...t,...t[r.type],...r,removeDelay:r.removeDelay||((a=t[r.type])==null?void 0:a.removeDelay)||t?.removeDelay,duration:r.duration||((o=t[r.type])==null?void 0:o.duration)||t?.duration||fp[r.type],style:{...t.style,...(l=t[r.type])==null?void 0:l.style,...r.style}}});return{...e,toasts:i}},pp=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||dp()}),Rs=t=>(e,n)=>{let s=pp(e,t,n);return fn({type:2,toast:s}),s.id},He=(t,e)=>Rs("blank")(t,e);He.error=Rs("error");He.success=Rs("success");He.loading=Rs("loading");He.custom=Rs("custom");He.dismiss=t=>{fn({type:3,toastId:t})};He.remove=t=>fn({type:4,toastId:t});He.promise=(t,e,n)=>{let s=He.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let r=e.success?Di(e.success,i):void 0;return r?He.success(r,{id:s,...n,...n?.success}):He.dismiss(s),i}).catch(i=>{let r=e.error?Di(e.error,i):void 0;r?He.error(r,{id:s,...n,...n?.error}):He.dismiss(s)}),t};var gp=(t,e)=>{fn({type:1,toast:{id:t,height:e}})},yp=()=>{fn({type:5,time:Date.now()})},os=new Map,bp=1e3,xp=(t,e=bp)=>{if(os.has(t))return;let n=setTimeout(()=>{os.delete(t),fn({type:4,toastId:t})},e);os.set(t,n)},vp=t=>{let{toasts:e,pausedAt:n}=mp(t);b.useEffect(()=>{if(n)return;let r=Date.now(),a=e.map(o=>{if(o.duration===1/0)return;let l=(o.duration||0)+o.pauseDuration-(r-o.createdAt);if(l<0){o.visible&&He.dismiss(o.id);return}return setTimeout(()=>He.dismiss(o.id),l)});return()=>{a.forEach(o=>o&&clearTimeout(o))}},[e,n]);let s=b.useCallback(()=>{n&&fn({type:6,time:Date.now()})},[n]),i=b.useCallback((r,a)=>{let{reverseOrder:o=!1,gutter:l=8,defaultPosition:c}=a||{},d=e.filter(m=>(m.position||c)===(r.position||c)&&m.height),h=d.findIndex(m=>m.id===r.id),f=d.filter((m,p)=>p<h&&m.visible).length;return d.filter(m=>m.visible).slice(...o?[f+1]:[0,f]).reduce((m,p)=>m+(p.height||0)+l,0)},[e]);return b.useEffect(()=>{e.forEach(r=>{if(r.dismissed)xp(r.id,r.removeDelay);else{let a=os.get(r.id);a&&(clearTimeout(a),os.delete(r.id))}})},[e]),{toasts:e,handlers:{updateHeight:gp,startPause:yp,endPause:s,calculateOffset:i}}},_p=At`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Sp=At`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wp=At`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Tp=Bt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_p} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Sp} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${wp} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Ap=At`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Ep=Bt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Ap} 1s linear infinite;
`,Cp=At`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Pp=At`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Rp=Bt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Cp} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Pp} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Dp=Bt("div")`
  position: absolute;
`,Np=Bt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Op=At`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ip=Bt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Op} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,kp=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?b.createElement(Ip,null,e):e:n==="blank"?null:b.createElement(Np,null,b.createElement(Ep,{...s}),n!=="loading"&&b.createElement(Dp,null,n==="error"?b.createElement(Tp,{...s}):b.createElement(Rp,{...s})))},Lp=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Mp=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Fp="0%{opacity:0;} 100%{opacity:1;}",Vp="0%{opacity:1;} 100%{opacity:0;}",zp=Bt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,jp=Bt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Up=(t,e)=>{let n=t.includes("top")?1:-1,[s,i]=ud()?[Fp,Vp]:[Lp(n),Mp(n)];return{animation:e?`${At(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${At(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Bp=b.memo(({toast:t,position:e,style:n,children:s})=>{let i=t.height?Up(t.position||e||"top-center",t.visible):{opacity:0},r=b.createElement(kp,{toast:t}),a=b.createElement(jp,{...t.ariaProps},Di(t.message,t));return b.createElement(zp,{className:t.className,style:{...i,...n,...t.style}},typeof s=="function"?s({icon:r,message:a}):b.createElement(b.Fragment,null,r,a))});cp(b.createElement);var Hp=({id:t,className:e,style:n,onHeightUpdate:s,children:i})=>{let r=b.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;s(t,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return b.createElement("div",{ref:r,className:e,style:n},i)},$p=(t,e)=>{let n=t.includes("top"),s=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ud()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...i}},Wp=Yi`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ys=16,qp=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:s,children:i,containerStyle:r,containerClassName:a})=>{let{toasts:o,handlers:l}=vp(n);return b.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Ys,left:Ys,right:Ys,bottom:Ys,pointerEvents:"none",...r},className:a,onMouseEnter:l.startPause,onMouseLeave:l.endPause},o.map(c=>{let d=c.position||e,h=l.calculateOffset(c,{reverseOrder:t,gutter:s,defaultPosition:e}),f=$p(d,h);return b.createElement(Hp,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?Wp:"",style:f},c.type==="custom"?Di(c.message,c):i?i(c):b.createElement(Bp,{toast:c,position:d}))}))};const Xi=b.createContext(),Dr={ar:{dashboard:"لوحة التحكم",healthcare:"الرعاية الصحية",nphies:"نفيس",rcm:"إدارة دورة الإيرادات",aiAnalytics:"تحليلات الذكاء الاصطناعي",oidTree:"شجرة المعرفات",register:"تسجيل",assistant:"المساعد",doctorPortal:"بوابة الطبيب",patientPortal:"بوابة المريض",nursePortal:"بوابة الممرض",adminPortal:"بوابة المدير",overview:"نظرة عامة",patients:"المرضى",appointments:"المواعيد",patientDetails:"تفاصيل المريض",aiAssistant:"المساعد الذكي",myAppointments:"مواعيدي",medicalHistory:"التاريخ الطبي",requestAppointment:"طلب موعد",medicalPlatform:"منصة برين سايت الطبية",fhirCompliant:"متوافق مع معايير FHIR R4",digitalPatientServices:"خدمات المرضى الرقمية",yourCareMatters:"رعايتك تهمنا",upcomingAppointments:"المواعيد القادمة",activePrescriptions:"الأدوية الحالية",visitsThisYear:"الزيارات هذا العام",noAppointments:"لا توجد مواعيد مجدولة",appointmentRequested:"تم إرسال طلب الموعد بنجاح",newPatients:"المرضى الجدد",todaysStats:"إحصائيات اليوم",todaysAppointments:"مواعيد اليوم",quickActions:"إجراءات سريعة",searchPatient:"البحث عن مريض",refresh:"تحديث",systemOnline:"النظام نشط",nphiesConnected:"نفيس متصل",save:"حفظ",cancel:"إلغاء",delete:"حذف",edit:"تعديل",view:"عرض",search:"بحث",filter:"تصفية",export:"تصدير",import:"استيراد",loading:"جاري التحميل...",error:"خطأ",success:"نجح",warning:"تحذير",info:"معلومات",close:"إغلاق",submit:"إرسال",clear:"مسح",select:"اختيار",confirm:"تأكيد",retry:"إعادة المحاولة",welcomeMessage:"مرحباً بك في منصة برينسايت للرعاية الصحية الموحدة",totalIdentities:"إجمالي الهويات",activeProviders:"مقدمي الخدمة النشطين",nphiesClaims:"مطالبات نفيس",aiAnalyses:"تحليلات الذكاء الاصطناعي",patientManagement:"إدارة المرضى",providerManagement:"إدارة مقدمي الخدمة",organizationManagement:"إدارة المؤسسات",identityRegistration:"تسجيل الهوية",claimsSubmission:"تقديم المطالبات",claimsTracking:"تتبع المطالبات",eligibilityVerification:"التحقق من الأهلية",preAuthorization:"الترخيص المسبق",revenueAnalytics:"تحليلات الإيرادات",denialManagement:"إدارة الرفض",collectionMetrics:"مقاييس التحصيل",duplicateDetection:"كشف التكرار",name:"الاسم",nameAr:"الاسم بالعربية",role:"الدور",accessLevel:"مستوى الوصول",organization:"المؤسسة",department:"القسم",nationalId:"رقم الهوية الوطنية",nphiesId:"معرف نفيس",expirationDate:"تاريخ الانتهاء",patient:"مريض",physician:"طبيب",nurse:"ممرض/ممرضة",pharmacist:"صيدلي",technician:"فني",administrator:"مدير",researcher:"باحث",aiAnalyst:"محلل ذكاء اصطناعي",low:"منخفض",medium:"متوسط",high:"عالي",critical:"حرج",provider:"مقدم خدمة",device:"جهاز",procedure:"إجراء",medication:"دواء",record:"سجل",insurance:"تأمين",appointment:"موعد",aiService:"خدمة ذكاء اصطناعي",pdplCompliant:"متوافق مع قانون حماية البيانات الشخصية",hipaaReady:"جاهز لمعيار هيبا",nphiesIntegrated:"متكامل مع نفيس",fhirR4Support:"يدعم FHIR R4",totalClaims:"إجمالي المطالبات",approvedClaims:"المطالبات المعتمدة",deniedClaims:"المطالبات المرفوضة",pendingClaims:"المطالبات المعلقة",collectionRate:"معدل التحصيل",denialRate:"معدل الرفض",avgCollectionDays:"متوسط أيام التحصيل",costSavings:"وفورات التكلفة"},en:{dashboard:"Dashboard",healthcare:"Healthcare",nphies:"NPHIES",rcm:"Revenue Cycle Management",aiAnalytics:"AI Analytics",oidTree:"OID Tree",register:"Register",assistant:"Assistant",doctorPortal:"Doctor Portal",patientPortal:"Patient Portal",nursePortal:"Nurse Portal",adminPortal:"Admin Portal",overview:"Overview",patients:"Patients",appointments:"Appointments",patientDetails:"Patient Details",aiAssistant:"AI Assistant",myAppointments:"My Appointments",medicalHistory:"Medical History",requestAppointment:"Request Appointment",medicalPlatform:"BrainSAIT Medical Platform",fhirCompliant:"FHIR R4 Compliant",digitalPatientServices:"Digital Patient Services",yourCareMatters:"Your Care Matters",upcomingAppointments:"Upcoming Appointments",activePrescriptions:"Active Prescriptions",visitsThisYear:"Visits This Year",noAppointments:"No appointments scheduled",appointmentRequested:"Appointment request submitted successfully",newPatients:"New Patients",todaysStats:"Today's Stats",todaysAppointments:"Today's Appointments",quickActions:"Quick Actions",searchPatient:"Search Patient",refresh:"Refresh",systemOnline:"System Online",nphiesConnected:"NPHIES Connected",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",view:"View",search:"Search",filter:"Filter",export:"Export",import:"Import",loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Information",close:"Close",submit:"Submit",clear:"Clear",select:"Select",confirm:"Confirm",retry:"Retry",welcomeMessage:"Welcome to BrainSAIT Healthcare Unification Platform",totalIdentities:"Total Identities",activeProviders:"Active Providers",nphiesClaims:"NPHIES Claims",aiAnalyses:"AI Analyses",patientManagement:"Patient Management",providerManagement:"Provider Management",organizationManagement:"Organization Management",identityRegistration:"Identity Registration",claimsSubmission:"Claims Submission",claimsTracking:"Claims Tracking",eligibilityVerification:"Eligibility Verification",preAuthorization:"Pre-Authorization",revenueAnalytics:"Revenue Analytics",denialManagement:"Denial Management",collectionMetrics:"Collection Metrics",duplicateDetection:"Duplicate Detection",name:"Name",nameAr:"Arabic Name",role:"Role",accessLevel:"Access Level",organization:"Organization",department:"Department",nationalId:"National ID",nphiesId:"NPHIES ID",expirationDate:"Expiration Date",patient:"Patient",physician:"Physician",nurse:"Nurse",pharmacist:"Pharmacist",technician:"Technician",administrator:"Administrator",researcher:"Researcher",aiAnalyst:"AI Analyst",low:"Low",medium:"Medium",high:"High",critical:"Critical",provider:"Provider",device:"Device",procedure:"Procedure",medication:"Medication",record:"Record",insurance:"Insurance",appointment:"Appointment",aiService:"AI Service",pdplCompliant:"PDPL Compliant",hipaaReady:"HIPAA Ready",nphiesIntegrated:"NPHIES Integrated",fhirR4Support:"FHIR R4 Support",totalClaims:"Total Claims",approvedClaims:"Approved Claims",deniedClaims:"Denied Claims",pendingClaims:"Pending Claims",collectionRate:"Collection Rate",denialRate:"Denial Rate",avgCollectionDays:"Avg Collection Days",costSavings:"Cost Savings"}},Gp=({children:t})=>{const[e,n]=b.useState(()=>{const v=localStorage.getItem("brainsait-language");return v==="en"||v==="ar"?v:"ar"}),s=e==="ar",i=(v,T={})=>{const{defaultValue:D,namespace:C}=T,E=C?`${C}.${v}`:v;return Dr[e]?.[E]||Dr[e]?.[v]||D||v},r=(v,T=1,D={})=>{const C=i(v,D),E=i(`${v}_plural`,{...D,defaultValue:C});return T===1?C:E},a=v=>{n(v),localStorage.setItem("brainsait-language",v),document.documentElement.dir=v==="ar"?"rtl":"ltr",document.documentElement.lang=v},o=()=>{a(e==="ar"?"en":"ar")};b.useEffect(()=>{document.documentElement.dir=s?"rtl":"ltr",document.documentElement.lang=e},[e,s]);const l=s?"rtl":"ltr",c=s?"text-right":"text-left",d=s?"ml":"mr",h=s?"mr":"ml",f=s?"pl":"pr",m=s?"pr":"pl",p=s?"rounded-r":"rounded-l",x=s?"rounded-l":"rounded-r",S=(v,T={})=>v?new Date(v).toLocaleDateString(e==="ar"?"ar-SA":"en-US",T):"",A=(v,T={})=>v?new Date(v).toLocaleTimeString(e==="ar"?"ar-SA":"en-US",T):"",w=(v,T={})=>v==null?"":v.toLocaleString(e==="ar"?"ar-SA":"en-US",T),y={language:e,isRTL:s,dir:l,t:i,tp:r,changeLanguage:a,toggleLanguage:o,translations:Dr[e],textAlign:c,marginStart:d,marginEnd:h,paddingStart:f,paddingEnd:m,roundedStart:p,roundedEnd:x,formatDate:S,formatTime:A,formatNumber:w,getPatientName:v=>v?s?v.nameAr||v.name:v.name||v.nameAr:"",getDoctorName:v=>{if(!v)return"";const T=s?"د. ":"Dr. ",D=s?v.nameAr||v.name:v.name||v.nameAr;return T+D}};return u(Xi.Provider,{value:y,children:t})},hd=()=>{const t=b.useContext(Xi);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},Se=()=>{const t=b.useContext(Xi);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},wn=280,Kp=({children:t})=>{const e=Jf(),n=Ya(),s=zm(),{language:i,setLanguage:r,isRTL:a}=Se(),o=Qf(e.breakpoints.down("md")),[l,c]=b.useState(!1),[d,h]=b.useState(null),[f,m]=b.useState(null),p=[{text:a?"لوحة القيادة الموحدة":"Unified Dashboard",icon:u(Vu,{}),path:"/",category:"main"},{text:a?"مساحة العمل":"Workspace",icon:u(om,{}),path:"/workspace",category:"main"},{text:a?"شجرة المعرفات الطبية":"Healthcare OID Tree",icon:u(zu,{}),path:"/oid-tree",category:"main"},{text:a?"الرعاية الصحية":"Healthcare",icon:u(gs,{}),path:"/healthcare",category:"healthcare"},{text:a?"التحليلات الذكية":"AI Analytics",icon:u(lm,{}),path:"/ai-analytics",category:"analytics"},{text:a?"التدريب الطبي":"Medical Training",icon:u(ju,{}),path:"/training",category:"training"},{text:a?"البوابات المتخصصة":"Specialized Portals",icon:u(ys,{}),path:"/portals",category:"portals"}],x=()=>{c(!l)},S=C=>{h(C.currentTarget)},A=()=>{h(null)},w=C=>{m(C.currentTarget)},y=()=>{m(null)},v=C=>{n(C),o&&c(!1)},T=()=>{r(i==="ar"?"en":"ar")},D=g(k,{children:[g(k,{sx:{p:2,display:"flex",alignItems:"center",gap:2,borderBottom:1,borderColor:"divider"},children:[u(el,{sx:{bgcolor:"primary.main",width:40,height:40},children:u(gs,{})}),g(k,{children:[u(L,{variant:"h6",sx:{fontWeight:"bold",lineHeight:1.2},children:a?"برين سايت":"BrainSAIT"}),u(L,{variant:"caption",color:"text.secondary",children:a?"منصة الرعاية الصحية الموحدة":"Unified Healthcare Platform"})]})]}),u(Iu,{sx:{px:1,py:2},children:p.map(C=>{const E=s.pathname===C.path;return u(ts,{disablePadding:!0,sx:{mb:.5},children:g(em,{onClick:()=>v(C.path),sx:{borderRadius:2,mx:1,bgcolor:E?"primary.main":"transparent",color:E?"primary.contrastText":"text.primary","&:hover":{bgcolor:E?"primary.dark":"action.hover"}},children:[u(xt,{sx:{color:E?"primary.contrastText":"text.secondary",minWidth:40},children:C.icon}),u(ns,{primary:C.text,sx:{"& .MuiTypography-root":{fontSize:"0.9rem",fontWeight:E?600:400}}})]})},C.path)})}),u(k,{sx:{p:2,mt:"auto"},children:g(k,{sx:{p:2,bgcolor:"success.main",borderRadius:2,color:"success.contrastText"},children:[u(L,{variant:"body2",sx:{fontWeight:600,mb:1},children:a?"حالة النظام":"System Status"}),u(L,{variant:"caption",children:a?"جميع الأنظمة تعمل بشكل طبيعي":"All systems operational"})]})})]});return g(k,{sx:{display:"flex",minHeight:"100vh"},children:[u(im,{position:"fixed",sx:{width:{md:`calc(100% - ${wn}px)`},ml:{md:`${wn}px`},bgcolor:"background.paper",color:"text.primary",borderBottom:1,borderColor:"divider",boxShadow:"none"},children:g(tl,{children:[u(Xe,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:x,sx:{mr:2,display:{md:"none"}},children:u(tm,{})}),u(L,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1},children:a?"منصة الرعاية الصحية الموحدة":"Unified Healthcare Platform"}),u(gi,{title:a?"تغيير اللغة":"Change Language",children:u(Xe,{onClick:T,color:"inherit",children:u(ku,{})})}),u(gi,{title:a?"الإشعارات":"Notifications",children:u(Xe,{color:"inherit",onClick:w,children:u(nm,{badgeContent:3,color:"error",children:u(sm,{})})})}),u(gi,{title:a?"الملف الشخصي":"Profile",children:u(Xe,{onClick:S,sx:{ml:1},children:u(el,{sx:{width:32,height:32,bgcolor:"secondary.main"},children:u(an,{})})})})]})}),g(k,{component:"nav",sx:{width:{md:wn},flexShrink:{md:0}},children:[u(nl,{variant:"temporary",open:l,onClose:x,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:wn,bgcolor:"background.paper",borderRight:1,borderColor:"divider"}},children:D}),u(nl,{variant:"permanent",sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:wn,bgcolor:"background.paper",borderRight:1,borderColor:"divider"}},open:!0,children:D})]}),g(k,{component:"main",sx:{flexGrow:1,width:{md:`calc(100% - ${wn}px)`},minHeight:"100vh",bgcolor:"background.default"},children:[u(tl,{}),u(Lu,{maxWidth:!1,sx:{py:3,px:3},children:t})]}),g(sl,{anchorEl:d,open:!!d,onClose:A,onClick:A,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[g(ge,{onClick:()=>n("/profile"),children:[u(xt,{children:u(an,{fontSize:"small"})}),a?"الملف الشخصي":"Profile"]}),g(ge,{onClick:()=>n("/settings"),children:[u(xt,{children:u(Mu,{fontSize:"small"})}),a?"الإعدادات":"Settings"]}),u(Ri,{}),g(ge,{children:[u(xt,{children:u(Fu,{fontSize:"small"})}),a?"الأمان":"Security"]}),g(ge,{children:[u(xt,{children:u(rm,{fontSize:"small"})}),a?"الدعم":"Support"]}),u(Ri,{}),g(ge,{children:[u(xt,{children:u(am,{fontSize:"small"})}),a?"تسجيل الخروج":"Logout"]})]}),g(sl,{anchorEl:f,open:!!f,onClose:y,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},PaperProps:{sx:{width:320,maxHeight:400}},children:[u(k,{sx:{p:2,bgcolor:"primary.main",color:"primary.contrastText"},children:u(L,{variant:"h6",children:a?"الإشعارات":"Notifications"})}),u(ge,{children:g(k,{children:[u(L,{variant:"body2",sx:{fontWeight:600},children:a?"تم استلام مطالبة جديدة":"New NPHIES claim received"}),u(L,{variant:"caption",color:"text.secondary",children:a?"منذ 5 دقائق":"5 minutes ago"})]})}),u(ge,{children:g(k,{children:[u(L,{variant:"body2",sx:{fontWeight:600},children:a?"تحديث النظام مكتمل":"System update completed"}),u(L,{variant:"caption",color:"text.secondary",children:a?"منذ ساعة":"1 hour ago"})]})}),u(ge,{children:g(k,{children:[u(L,{variant:"body2",sx:{fontWeight:600},children:a?"تذكير: مراجعة التدريب":"Reminder: Training review"}),u(L,{variant:"caption",color:"text.secondary",children:a?"منذ ساعتين":"2 hours ago"})]})})]})]})},Yp=()=>{const{isRTL:t}=Se(),[e,n]=b.useState(!1),[s,i]=b.useState(new Set(["root"])),[r,a]=b.useState(null),[o,l]=b.useState(!1),[c,d]=b.useState({name:"",description:"",type:"organization"}),[h]=b.useState({id:"1.2.840.114494.100.1",name:t?"النظام الصحي السعودي":"Saudi Healthcare System",description:t?"الجذر الرئيسي للنظام الصحي السعودي":"Root of Saudi Healthcare System",type:"root",children:[{id:"1.2.840.114494.100.1.1",name:t?"مقدمي الخدمات الصحية":"Healthcare Providers",description:t?"جميع مقدمي الخدمات الصحية":"All healthcare providers",type:"category",children:[{id:"1.2.840.114494.100.1.1.1",name:t?"مستشفى الملك فيصل التخصصي":"King Faisal Specialist Hospital",description:t?"مستشفى تخصصي رائد":"Leading specialized hospital",type:"provider",status:"active",children:[]},{id:"1.2.840.114494.100.1.1.2",name:t?"مجمع الملك عبدالله الطبي":"King Abdullah Medical Complex",description:t?"مجمع طبي شامل":"Comprehensive medical complex",type:"provider",status:"active",children:[]}]},{id:"1.2.840.114494.100.1.2",name:t?"الأجهزة الطبية":"Medical Devices",description:t?"جميع الأجهزة الطبية المعتمدة":"All certified medical devices",type:"category",children:[{id:"1.2.840.114494.100.1.2.1",name:t?"أجهزة التصوير الطبي":"Medical Imaging Devices",description:t?"أجهزة الأشعة والتصوير":"Radiology and imaging equipment",type:"device_category",children:[]}]},{id:"1.2.840.114494.100.1.3",name:t?"نفيس NPHIES":"NPHIES Integration",description:t?"تكامل مع نظام نفيس":"Integration with NPHIES system",type:"system",children:[{id:"1.2.840.114494.100.1.3.1",name:t?"مطالبات التأمين":"Insurance Claims",description:t?"معرفات مطالبات التأمين":"Insurance claim identifiers",type:"claims",children:[]}]},{id:"1.2.840.114494.100.1.4",name:t?"الذكاء الاصطناعي الطبي":"Medical AI Services",description:t?"خدمات الذكاء الاصطناعي الطبية":"Medical artificial intelligence services",type:"ai_services",children:[]}]}),f=y=>{const v=new Set(s);v.has(y)?v.delete(y):v.add(y),i(v)},m=()=>{n(!0),setTimeout(()=>{n(!1)},1e3)},p=y=>{switch(y){case"root":return u(zu,{color:"primary"});case"provider":return u(gs,{color:"secondary"});case"organization":return u(bs,{color:"info"});case"device_category":case"device":return u(dm,{color:"warning"});case"person":return u(an,{color:"success"});case"system":case"ai_services":return u(Fu,{color:"error"});default:return u(ys,{})}},x=y=>{switch(y){case"root":return"primary";case"provider":return"secondary";case"organization":return"info";case"device_category":case"device":return"warning";case"person":return"success";case"system":case"ai_services":return"error";default:return"default"}},S=(y,v=0)=>{const T=s.has(y.id),D=y.children&&y.children.length>0;return g(k,{children:[u(ve,{sx:{mb:1,ml:v*2,bgcolor:r?.id===y.id?"action.selected":"background.paper",border:r?.id===y.id?2:1,borderColor:r?.id===y.id?"primary.main":"divider"},children:u(Ee,{sx:{py:1,"&:last-child":{pb:1}},children:g(k,{display:"flex",alignItems:"center",gap:1,children:[D&&u(Xe,{size:"small",onClick:()=>f(y.id),children:T?u(cm,{}):u(um,{})}),p(y.type),g(k,{flexGrow:1,onClick:()=>a(y),sx:{cursor:"pointer"},children:[u(L,{variant:"body1",fontWeight:500,children:y.name}),u(L,{variant:"caption",color:"text.secondary",children:y.id})]}),u(J,{label:y.type,size:"small",color:x(y.type),variant:"outlined"}),y.status&&u(J,{label:y.status,size:"small",color:y.status==="active"?"success":"default"})]})})}),D&&T&&u(k,{children:y.children.map(C=>S(C,v+1))})]},y.id)},A=()=>{l(!0)},w=()=>{console.log("Saving OID:",c),l(!1),d({name:"",description:"",type:"organization"})};return g(k,{children:[g(k,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[g(k,{children:[u(L,{variant:"h4",gutterBottom:!0,children:t?"شجرة المعرفات الطبية (OID)":"Healthcare OID Tree"}),u(L,{variant:"body2",color:"text.secondary",children:t?"إدارة وتنظيم معرفات النظام الصحي السعودي":"Manage Saudi Healthcare System Identifiers"})]}),g(k,{display:"flex",gap:1,children:[u(gi,{title:t?"تحديث":"Refresh",children:u(Xe,{onClick:m,disabled:e,children:e?u(qa,{size:20}):u(Ga,{})})}),u(Fe,{variant:"contained",startIcon:u(Uu,{}),onClick:A,children:t?"إضافة معرف جديد":"Add New OID"})]})]}),g(G,{container:!0,spacing:3,children:[u(G,{item:!0,xs:12,md:8,children:g(Lt,{sx:{p:2,height:"70vh",overflow:"auto"},children:[u(L,{variant:"h6",gutterBottom:!0,children:t?"هيكل المعرفات":"OID Structure"}),u(Ri,{sx:{mb:2}}),S(h)]})}),u(G,{item:!0,xs:12,md:4,children:g(Lt,{sx:{p:2,height:"70vh"},children:[u(L,{variant:"h6",gutterBottom:!0,children:t?"تفاصيل المعرف":"OID Details"}),u(Ri,{sx:{mb:2}}),r?g(k,{children:[g(Iu,{children:[g(ts,{children:[u(xt,{children:u(ys,{})}),u(ns,{primary:t?"الاسم":"Name",secondary:r.name})]}),g(ts,{children:[u(xt,{children:u(Bu,{})}),u(ns,{primary:t?"المعرف":"Identifier",secondary:r.id})]}),g(ts,{children:[u(xt,{children:p(r.type)}),u(ns,{primary:t?"النوع":"Type",secondary:r.type})]}),u(ts,{children:u(ns,{primary:t?"الوصف":"Description",secondary:r.description})})]}),g(k,{mt:2,display:"flex",gap:1,children:[u(Fe,{variant:"outlined",startIcon:u(Hu,{}),size:"small",fullWidth:!0,children:t?"تعديل":"Edit"}),u(Fe,{variant:"outlined",color:"error",startIcon:u($u,{}),size:"small",fullWidth:!0,children:t?"حذف":"Delete"})]})]}):u(un,{severity:"info",children:t?"اختر معرف لعرض التفاصيل":"Select an OID to view details"})]})})]}),g(Wu,{open:o,onClose:()=>l(!1),maxWidth:"sm",fullWidth:!0,children:[u(qu,{children:t?"إضافة معرف جديد":"Add New OID"}),g(Gu,{children:[u(Be,{autoFocus:!0,margin:"dense",label:t?"الاسم":"Name",fullWidth:!0,variant:"outlined",value:c.name,onChange:y=>d({...c,name:y.target.value})}),u(Be,{margin:"dense",label:t?"الوصف":"Description",fullWidth:!0,variant:"outlined",multiline:!0,rows:3,value:c.description,onChange:y=>d({...c,description:y.target.value})})]}),g(Ku,{children:[u(Fe,{onClick:()=>l(!1),children:t?"إلغاء":"Cancel"}),u(Fe,{onClick:w,variant:"contained",children:t?"حفظ":"Save"})]})]})]})},fd=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Zi=b.createContext({}),Ji=b.createContext(null),Qi=typeof document<"u",Za=Qi?b.useLayoutEffect:b.useEffect,md=b.createContext({strict:!1}),Ja=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Xp="framerAppearId",pd="data-"+Ja(Xp);function Zp(t,e,n,s){const{visualElement:i}=b.useContext(Zi),r=b.useContext(md),a=b.useContext(Ji),o=b.useContext(fd).reducedMotion,l=b.useRef();s=s||r.renderer,!l.current&&s&&(l.current=s(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:o}));const c=l.current;b.useInsertionEffect(()=>{c&&c.update(n,a)});const d=b.useRef(!!(n[pd]&&!window.HandoffComplete));return Za(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),b.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function En(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Jp(t,e,n){return b.useCallback(s=>{s&&t.mount&&t.mount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):En(n)&&(n.current=s))},[e])}function vs(t){return typeof t=="string"||Array.isArray(t)}function er(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Qa=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eo=["initial",...Qa];function tr(t){return er(t.animate)||eo.some(e=>vs(t[e]))}function gd(t){return!!(tr(t)||t.variants)}function Qp(t,e){if(tr(t)){const{initial:n,animate:s}=t;return{initial:n===!1||vs(n)?n:void 0,animate:vs(s)?s:void 0}}return t.inherit!==!1?e:{}}function eg(t){const{initial:e,animate:n}=Qp(t,b.useContext(Zi));return b.useMemo(()=>({initial:e,animate:n}),[cl(e),cl(n)])}function cl(t){return Array.isArray(t)?t.join(" "):t}const ul={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_s={};for(const t in ul)_s[t]={isEnabled:e=>ul[t].some(n=>!!e[n])};function tg(t){for(const e in t)_s[e]={..._s[e],...t[e]}}const to=b.createContext({}),yd=b.createContext({}),ng=Symbol.for("motionComponentSymbol");function sg({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:i}){t&&tg(t);function r(o,l){let c;const d={...b.useContext(fd),...o,layoutId:ig(o)},{isStatic:h}=d,f=eg(o),m=s(o,h);if(!h&&Qi){f.visualElement=Zp(i,m,d,e);const p=b.useContext(yd),x=b.useContext(md).strict;f.visualElement&&(c=f.visualElement.loadFeatures(d,x,t,p))}return b.createElement(Zi.Provider,{value:f},c&&f.visualElement?b.createElement(c,{visualElement:f.visualElement,...d}):null,n(i,o,Jp(m,f.visualElement,l),m,h,f.visualElement))}const a=b.forwardRef(r);return a[ng]=i,a}function ig({layoutId:t}){const e=b.useContext(to).id;return e&&t!==void 0?e+"-"+t:t}function rg(t){function e(s,i={}){return sg(t(s,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(s,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const ag=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function no(t){return typeof t!="string"||t.includes("-")?!1:!!(ag.indexOf(t)>-1||/[A-Z]/.test(t))}const Ni={};function og(t){Object.assign(Ni,t)}const Ds=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mn=new Set(Ds);function bd(t,{layout:e,layoutId:n}){return mn.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ni[t]||t==="opacity")}const Ge=t=>!!(t&&t.getVelocity),lg={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cg=Ds.length;function ug(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},s,i){let r="";for(let a=0;a<cg;a++){const o=Ds[a];if(t[o]!==void 0){const l=lg[o]||o;r+=`${l}(${t[o]}) `}}return e&&!t.z&&(r+="translateZ(0)"),r=r.trim(),i?r=i(t,s?"":r):n&&s&&(r="none"),r}const xd=t=>e=>typeof e=="string"&&e.startsWith(t),vd=xd("--"),va=xd("var(--"),dg=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,hg=(t,e)=>e&&typeof t=="number"?e.transform(t):t,zt=(t,e,n)=>Math.min(Math.max(n,t),e),pn={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ls={...pn,transform:t=>zt(0,1,t)},Xs={...pn,default:1},cs=t=>Math.round(t*1e5)/1e5,nr=/(-)?([\d]*\.?[\d])+/g,_d=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,fg=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ns(t){return typeof t=="string"}const Os=t=>({test:e=>Ns(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ot=Os("deg"),ut=Os("%"),$=Os("px"),mg=Os("vh"),pg=Os("vw"),dl={...ut,parse:t=>ut.parse(t)/100,transform:t=>ut.transform(t*100)},hl={...pn,transform:Math.round},Sd={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,size:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,rotate:Ot,rotateX:Ot,rotateY:Ot,rotateZ:Ot,scale:Xs,scaleX:Xs,scaleY:Xs,scaleZ:Xs,skew:Ot,skewX:Ot,skewY:Ot,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:ls,originX:dl,originY:dl,originZ:$,zIndex:hl,fillOpacity:ls,strokeOpacity:ls,numOctaves:hl};function so(t,e,n,s){const{style:i,vars:r,transform:a,transformOrigin:o}=t;let l=!1,c=!1,d=!0;for(const h in e){const f=e[h];if(vd(h)){r[h]=f;continue}const m=Sd[h],p=hg(f,m);if(mn.has(h)){if(l=!0,a[h]=p,!d)continue;f!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(c=!0,o[h]=p):i[h]=p}if(e.transform||(l||s?i.transform=ug(t.transform,n,d,s):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:m=0}=o;i.transformOrigin=`${h} ${f} ${m}`}}const io=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wd(t,e,n){for(const s in e)!Ge(e[s])&&!bd(s,n)&&(t[s]=e[s])}function gg({transformTemplate:t},e,n){return b.useMemo(()=>{const s=io();return so(s,e,{enableHardwareAcceleration:!n},t),Object.assign({},s.vars,s.style)},[e])}function yg(t,e,n){const s=t.style||{},i={};return wd(i,s,t),Object.assign(i,gg(t,e,n)),t.transformValues?t.transformValues(i):i}function bg(t,e,n){const s={},i=yg(t,e,n);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=i,s}const xg=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Oi(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||xg.has(t)}let Td=t=>!Oi(t);function vg(t){t&&(Td=e=>e.startsWith("on")?!Oi(e):t(e))}try{vg(require("@emotion/is-prop-valid").default)}catch{}function _g(t,e,n){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(Td(i)||n===!0&&Oi(i)||!e&&!Oi(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}function fl(t,e,n){return typeof t=="string"?t:$.transform(e+n*t)}function Sg(t,e,n){const s=fl(e,t.x,t.width),i=fl(n,t.y,t.height);return`${s} ${i}`}const wg={offset:"stroke-dashoffset",array:"stroke-dasharray"},Tg={offset:"strokeDashoffset",array:"strokeDasharray"};function Ag(t,e,n=1,s=0,i=!0){t.pathLength=1;const r=i?wg:Tg;t[r.offset]=$.transform(-s);const a=$.transform(e),o=$.transform(n);t[r.array]=`${a} ${o}`}function ro(t,{attrX:e,attrY:n,attrScale:s,originX:i,originY:r,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},d,h,f){if(so(t,c,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p,dimensions:x}=t;m.transform&&(x&&(p.transform=m.transform),delete m.transform),x&&(i!==void 0||r!==void 0||p.transform)&&(p.transformOrigin=Sg(x,i!==void 0?i:.5,r!==void 0?r:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),a!==void 0&&Ag(m,a,o,l,!1)}const Ad=()=>({...io(),attrs:{}}),ao=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Eg(t,e,n,s){const i=b.useMemo(()=>{const r=Ad();return ro(r,e,{enableHardwareAcceleration:!1},ao(s),t.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(t.style){const r={};wd(r,t.style,t),i.style={...r,...i.style}}return i}function Cg(t=!1){return(n,s,i,{latestValues:r},a)=>{const l=(no(n)?Eg:bg)(s,r,a,n),d={..._g(s,typeof n=="string",t),...l,ref:i},{children:h}=s,f=b.useMemo(()=>Ge(h)?h.get():h,[h]);return b.createElement(n,{...d,children:f})}}function Ed(t,{style:e,vars:n},s,i){Object.assign(t.style,e,i&&i.getProjectionStyles(s));for(const r in n)t.style.setProperty(r,n[r])}const Cd=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Pd(t,e,n,s){Ed(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(Cd.has(i)?i:Ja(i),e.attrs[i])}function oo(t,e){const{style:n}=t,s={};for(const i in n)(Ge(n[i])||e.style&&Ge(e.style[i])||bd(i,t))&&(s[i]=n[i]);return s}function Rd(t,e){const n=oo(t,e);for(const s in t)if(Ge(t[s])||Ge(e[s])){const i=Ds.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=t[s]}return n}function lo(t,e,n,s={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,i)),e}function Dd(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ii=t=>Array.isArray(t),Pg=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Rg=t=>Ii(t)?t[t.length-1]||0:t;function xi(t){const e=Ge(t)?t.get():t;return Pg(e)?e.toValue():e}function Dg({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},s,i,r){const a={latestValues:Ng(s,i,r,t),renderState:e()};return n&&(a.mount=o=>n(s,o,a)),a}const Nd=t=>(e,n)=>{const s=b.useContext(Zi),i=b.useContext(Ji),r=()=>Dg(t,e,s,i);return n?r():Dd(r)};function Ng(t,e,n,s){const i={},r=s(t,{});for(const f in r)i[f]=xi(r[f]);let{initial:a,animate:o}=t;const l=tr(t),c=gd(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?o:a;return h&&typeof h!="boolean"&&!er(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const p=lo(t,m);if(!p)return;const{transitionEnd:x,transition:S,...A}=p;for(const w in A){let y=A[w];if(Array.isArray(y)){const v=d?y.length-1:0;y=y[v]}y!==null&&(i[w]=y)}for(const w in x)i[w]=x[w]}),i}const ue=t=>t;class ml{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Og(t){let e=new ml,n=new ml,s=0,i=!1,r=!1;const a=new WeakSet,o={schedule:(l,c=!1,d=!1)=>{const h=d&&i,f=h?e:n;return c&&a.add(l),f.add(l)&&h&&i&&(s=e.order.length),l},cancel:l=>{n.remove(l),a.delete(l)},process:l=>{if(i){r=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),s=e.order.length,s)for(let c=0;c<s;c++){const d=e.order[c];d(l),a.has(d)&&(o.schedule(d),t())}i=!1,r&&(r=!1,o.process(l))}};return o}const Zs=["prepare","read","update","preRender","render","postRender"],Ig=40;function kg(t,e){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=Zs.reduce((h,f)=>(h[f]=Og(()=>n=!0),h),{}),a=h=>r[h].process(i),o=()=>{const h=performance.now();n=!1,i.delta=s?1e3/60:Math.max(Math.min(h-i.timestamp,Ig),1),i.timestamp=h,i.isProcessing=!0,Zs.forEach(a),i.isProcessing=!1,n&&e&&(s=!1,t(o))},l=()=>{n=!0,s=!0,i.isProcessing||t(o)};return{schedule:Zs.reduce((h,f)=>{const m=r[f];return h[f]=(p,x=!1,S=!1)=>(n||l(),m.schedule(p,x,S)),h},{}),cancel:h=>Zs.forEach(f=>r[f].cancel(h)),state:i,steps:r}}const{schedule:ie,cancel:Et,state:De,steps:Nr}=kg(typeof requestAnimationFrame<"u"?requestAnimationFrame:ue,!0),Lg={useVisualState:Nd({scrapeMotionValuesFromProps:Rd,createRenderState:Ad,onMount:(t,e,{renderState:n,latestValues:s})=>{ie.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ie.render(()=>{ro(n,s,{enableHardwareAcceleration:!1},ao(e.tagName),t.transformTemplate),Pd(e,n)})}})},Mg={useVisualState:Nd({scrapeMotionValuesFromProps:oo,createRenderState:io})};function Fg(t,{forwardMotionProps:e=!1},n,s){return{...no(t)?Lg:Mg,preloadedFeatures:n,useRender:Cg(e),createVisualElement:s,Component:t}}function _t(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const Od=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function sr(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Vg=t=>e=>Od(e)&&t(e,sr(e));function wt(t,e,n,s){return _t(t,e,Vg(n),s)}const zg=(t,e)=>n=>e(t(n)),Ft=(...t)=>t.reduce(zg);function Id(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const pl=Id("dragHorizontal"),gl=Id("dragVertical");function kd(t){let e=!1;if(t==="y")e=gl();else if(t==="x")e=pl();else{const n=pl(),s=gl();n&&s?e=()=>{n(),s()}:(n&&n(),s&&s())}return e}function Ld(){const t=kd(!0);return t?(t(),!1):!0}class Ht{constructor(e){this.isMounted=!1,this.node=e}update(){}}function yl(t,e){const n="pointer"+(e?"enter":"leave"),s="onHover"+(e?"Start":"End"),i=(r,a)=>{if(r.pointerType==="touch"||Ld())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e),o[s]&&ie.update(()=>o[s](r,a))};return wt(t.current,n,i,{passive:!t.getProps()[s]})}class jg extends Ht{mount(){this.unmount=Ft(yl(this.node,!0),yl(this.node,!1))}unmount(){}}class Ug extends Ht{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ft(_t(this.node.current,"focus",()=>this.onFocus()),_t(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Md=(t,e)=>e?t===e?!0:Md(t,e.parentElement):!1;function Or(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,sr(n))}class Bg extends Ht{constructor(){super(...arguments),this.removeStartListeners=ue,this.removeEndListeners=ue,this.removeAccessibleListeners=ue,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),r=wt(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:h}=this.node.getProps();ie.update(()=>{!h&&!Md(this.node.current,o.target)?d&&d(o,l):c&&c(o,l)})},{passive:!(s.onTap||s.onPointerUp)}),a=wt(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=Ft(r,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=r=>{if(r.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||Or("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&ie.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=_t(this.node.current,"keyup",a),Or("down",(o,l)=>{this.startPress(o,l)})},n=_t(this.node.current,"keydown",e),s=()=>{this.isPressing&&Or("cancel",(r,a)=>this.cancelPress(r,a))},i=_t(this.node.current,"blur",s);this.removeAccessibleListeners=Ft(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:s,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&ie.update(()=>s(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Ld()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&ie.update(()=>s(e,n))}mount(){const e=this.node.getProps(),n=wt(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),s=_t(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ft(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const _a=new WeakMap,Ir=new WeakMap,Hg=t=>{const e=_a.get(t.target);e&&e(t)},$g=t=>{t.forEach(Hg)};function Wg({root:t,...e}){const n=t||document;Ir.has(n)||Ir.set(n,{});const s=Ir.get(n),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver($g,{root:t,...e})),s[i]}function qg(t,e,n){const s=Wg(e);return _a.set(t,n),s.observe(t),()=>{_a.delete(t),s.unobserve(t)}}const Gg={some:0,all:1};class Kg extends Ht{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:r}=e,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:Gg[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return qg(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Yg(e,n))&&this.startObserver()}unmount(){}}function Yg({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Xg={inView:{Feature:Kg},tap:{Feature:Bg},focus:{Feature:Ug},hover:{Feature:jg}};function Fd(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function Zg(t){const e={};return t.values.forEach((n,s)=>e[s]=n.get()),e}function Jg(t){const e={};return t.values.forEach((n,s)=>e[s]=n.getVelocity()),e}function ir(t,e,n){const s=t.getProps();return lo(s,e,n!==void 0?n:s.custom,Zg(t),Jg(t))}let co=ue;const on=t=>t*1e3,Tt=t=>t/1e3,Qg={current:!1},Vd=t=>Array.isArray(t)&&typeof t[0]=="number";function zd(t){return!!(!t||typeof t=="string"&&jd[t]||Vd(t)||Array.isArray(t)&&t.every(zd))}const ss=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,jd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ss([0,.65,.55,1]),circOut:ss([.55,0,1,.45]),backIn:ss([.31,.01,.66,-.59]),backOut:ss([.33,1.53,.69,.99])};function Ud(t){if(t)return Vd(t)?ss(t):Array.isArray(t)?t.map(Ud):jd[t]}function ey(t,e,n,{delay:s=0,duration:i,repeat:r=0,repeatType:a="loop",ease:o,times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=Ud(o);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:s,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"})}function ty(t,{repeat:e,repeatType:n="loop"}){const s=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[s]}const Bd=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ny=1e-7,sy=12;function iy(t,e,n,s,i){let r,a,o=0;do a=e+(n-e)/2,r=Bd(a,s,i)-t,r>0?n=a:e=a;while(Math.abs(r)>ny&&++o<sy);return a}function Is(t,e,n,s){if(t===e&&n===s)return ue;const i=r=>iy(r,0,1,t,n);return r=>r===0||r===1?r:Bd(i(r),e,s)}const ry=Is(.42,0,1,1),ay=Is(0,0,.58,1),Hd=Is(.42,0,.58,1),oy=t=>Array.isArray(t)&&typeof t[0]!="number",$d=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Wd=t=>e=>1-t(1-e),uo=t=>1-Math.sin(Math.acos(t)),qd=Wd(uo),ly=$d(uo),Gd=Is(.33,1.53,.69,.99),ho=Wd(Gd),cy=$d(ho),uy=t=>(t*=2)<1?.5*ho(t):.5*(2-Math.pow(2,-10*(t-1))),dy={linear:ue,easeIn:ry,easeInOut:Hd,easeOut:ay,circIn:uo,circInOut:ly,circOut:qd,backIn:ho,backInOut:cy,backOut:Gd,anticipate:uy},bl=t=>{if(Array.isArray(t)){co(t.length===4);const[e,n,s,i]=t;return Is(e,n,s,i)}else if(typeof t=="string")return dy[t];return t},fo=(t,e)=>n=>!!(Ns(n)&&fg.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),Kd=(t,e,n)=>s=>{if(!Ns(s))return s;const[i,r,a,o]=s.match(nr);return{[t]:parseFloat(i),[e]:parseFloat(r),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},hy=t=>zt(0,255,t),kr={...pn,transform:t=>Math.round(hy(t))},tn={test:fo("rgb","red"),parse:Kd("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+kr.transform(t)+", "+kr.transform(e)+", "+kr.transform(n)+", "+cs(ls.transform(s))+")"};function fy(t){let e="",n="",s="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const Sa={test:fo("#"),parse:fy,transform:tn.transform},Cn={test:fo("hsl","hue"),parse:Kd("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ut.transform(cs(e))+", "+ut.transform(cs(n))+", "+cs(ls.transform(s))+")"},Me={test:t=>tn.test(t)||Sa.test(t)||Cn.test(t),parse:t=>tn.test(t)?tn.parse(t):Cn.test(t)?Cn.parse(t):Sa.parse(t),transform:t=>Ns(t)?t:t.hasOwnProperty("red")?tn.transform(t):Cn.transform(t)},ae=(t,e,n)=>-n*t+n*e+t;function Lr(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function my({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let i=0,r=0,a=0;if(!e)i=r=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=Lr(l,o,t+1/3),r=Lr(l,o,t),a=Lr(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:s}}const Mr=(t,e,n)=>{const s=t*t;return Math.sqrt(Math.max(0,n*(e*e-s)+s))},py=[Sa,tn,Cn],gy=t=>py.find(e=>e.test(t));function xl(t){const e=gy(t);let n=e.parse(t);return e===Cn&&(n=my(n)),n}const Yd=(t,e)=>{const n=xl(t),s=xl(e),i={...n};return r=>(i.red=Mr(n.red,s.red,r),i.green=Mr(n.green,s.green,r),i.blue=Mr(n.blue,s.blue,r),i.alpha=ae(n.alpha,s.alpha,r),tn.transform(i))};function yy(t){var e,n;return isNaN(t)&&Ns(t)&&(((e=t.match(nr))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(_d))===null||n===void 0?void 0:n.length)||0)>0}const Xd={regex:dg,countKey:"Vars",token:"${v}",parse:ue},Zd={regex:_d,countKey:"Colors",token:"${c}",parse:Me.parse},Jd={regex:nr,countKey:"Numbers",token:"${n}",parse:pn.parse};function Fr(t,{regex:e,countKey:n,token:s,parse:i}){const r=t.tokenised.match(e);r&&(t["num"+n]=r.length,t.tokenised=t.tokenised.replace(e,s),t.values.push(...r.map(i)))}function ki(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Fr(n,Xd),Fr(n,Zd),Fr(n,Jd),n}function Qd(t){return ki(t).values}function eh(t){const{values:e,numColors:n,numVars:s,tokenised:i}=ki(t),r=e.length;return a=>{let o=i;for(let l=0;l<r;l++)l<s?o=o.replace(Xd.token,a[l]):l<s+n?o=o.replace(Zd.token,Me.transform(a[l])):o=o.replace(Jd.token,cs(a[l]));return o}}const by=t=>typeof t=="number"?0:t;function xy(t){const e=Qd(t);return eh(t)(e.map(by))}const jt={test:yy,parse:Qd,createTransformer:eh,getAnimatableNone:xy},th=(t,e)=>n=>`${n>0?e:t}`;function nh(t,e){return typeof t=="number"?n=>ae(t,e,n):Me.test(t)?Yd(t,e):t.startsWith("var(")?th(t,e):ih(t,e)}const sh=(t,e)=>{const n=[...t],s=n.length,i=t.map((r,a)=>nh(r,e[a]));return r=>{for(let a=0;a<s;a++)n[a]=i[a](r);return n}},vy=(t,e)=>{const n={...t,...e},s={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(s[i]=nh(t[i],e[i]));return i=>{for(const r in s)n[r]=s[r](i);return n}},ih=(t,e)=>{const n=jt.createTransformer(e),s=ki(t),i=ki(e);return s.numVars===i.numVars&&s.numColors===i.numColors&&s.numNumbers>=i.numNumbers?Ft(sh(s.values,i.values),n):th(t,e)},Ss=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},vl=(t,e)=>n=>ae(t,e,n);function _y(t){return typeof t=="number"?vl:typeof t=="string"?Me.test(t)?Yd:ih:Array.isArray(t)?sh:typeof t=="object"?vy:vl}function Sy(t,e,n){const s=[],i=n||_y(t[0]),r=t.length-1;for(let a=0;a<r;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||ue:e;o=Ft(l,o)}s.push(o)}return s}function rh(t,e,{clamp:n=!0,ease:s,mixer:i}={}){const r=t.length;if(co(r===e.length),r===1)return()=>e[0];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Sy(e,s,i),o=a.length,l=c=>{let d=0;if(o>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const h=Ss(t[d],t[d+1],c);return a[d](h)};return n?c=>l(zt(t[0],t[r-1],c)):l}function wy(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const i=Ss(0,e,s);t.push(ae(n,1,i))}}function Ty(t){const e=[0];return wy(e,t.length-1),e}function Ay(t,e){return t.map(n=>n*e)}function Ey(t,e){return t.map(()=>e||Hd).splice(0,t.length-1)}function Li({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const i=oy(s)?s.map(bl):bl(s),r={done:!1,value:e[0]},a=Ay(n&&n.length===e.length?n:Ty(e),t),o=rh(a,e,{ease:Array.isArray(i)?i:Ey(e,i)});return{calculatedDuration:t,next:l=>(r.value=o(l),r.done=l>=t,r)}}function ah(t,e){return e?t*(1e3/e):0}const Cy=5;function oh(t,e,n){const s=Math.max(e-Cy,0);return ah(n-t(s),e-s)}const Vr=.001,Py=.01,Ry=10,Dy=.05,Ny=1;function Oy({duration:t=800,bounce:e=.25,velocity:n=0,mass:s=1}){let i,r,a=1-e;a=zt(Dy,Ny,a),t=zt(Py,Ry,Tt(t)),a<1?(i=c=>{const d=c*a,h=d*t,f=d-n,m=wa(c,a),p=Math.exp(-h);return Vr-f/m*p},r=c=>{const h=c*a*t,f=h*n+n,m=Math.pow(a,2)*Math.pow(c,2)*t,p=Math.exp(-h),x=wa(Math.pow(c,2),a);return(-i(c)+Vr>0?-1:1)*((f-m)*p)/x}):(i=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-Vr+d*h},r=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const o=5/t,l=ky(i,r,o);if(t=on(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*s;return{stiffness:c,damping:a*2*Math.sqrt(s*c),duration:t}}}const Iy=12;function ky(t,e,n){let s=n;for(let i=1;i<Iy;i++)s=s-t(s)/e(s);return s}function wa(t,e){return t*Math.sqrt(1-e*e)}const Ly=["duration","bounce"],My=["stiffness","damping","mass"];function _l(t,e){return e.some(n=>t[n]!==void 0)}function Fy(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!_l(t,My)&&_l(t,Ly)){const n=Oy(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function lh({keyframes:t,restDelta:e,restSpeed:n,...s}){const i=t[0],r=t[t.length-1],a={done:!1,value:i},{stiffness:o,damping:l,mass:c,duration:d,velocity:h,isResolvedFromDuration:f}=Fy({...s,velocity:-Tt(s.velocity||0)}),m=h||0,p=l/(2*Math.sqrt(o*c)),x=r-i,S=Tt(Math.sqrt(o/c)),A=Math.abs(x)<5;n||(n=A?.01:2),e||(e=A?.005:.5);let w;if(p<1){const y=wa(S,p);w=v=>{const T=Math.exp(-p*S*v);return r-T*((m+p*S*x)/y*Math.sin(y*v)+x*Math.cos(y*v))}}else if(p===1)w=y=>r-Math.exp(-S*y)*(x+(m+S*x)*y);else{const y=S*Math.sqrt(p*p-1);w=v=>{const T=Math.exp(-p*S*v),D=Math.min(y*v,300);return r-T*((m+p*S*x)*Math.sinh(D)+y*x*Math.cosh(D))/y}}return{calculatedDuration:f&&d||null,next:y=>{const v=w(y);if(f)a.done=y>=d;else{let T=m;y!==0&&(p<1?T=oh(w,y,v):T=0);const D=Math.abs(T)<=n,C=Math.abs(r-v)<=e;a.done=D&&C}return a.value=a.done?r:v,a}}}function Sl({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=E=>o!==void 0&&E<o||l!==void 0&&E>l,p=E=>o===void 0?l:l===void 0||Math.abs(o-E)<Math.abs(l-E)?o:l;let x=n*e;const S=h+x,A=a===void 0?S:a(S);A!==S&&(x=A-h);const w=E=>-x*Math.exp(-E/s),y=E=>A+w(E),v=E=>{const R=w(E),F=y(E);f.done=Math.abs(R)<=c,f.value=f.done?A:F};let T,D;const C=E=>{m(f.value)&&(T=E,D=lh({keyframes:[f.value,p(f.value)],velocity:oh(y,E,f.value),damping:i,stiffness:r,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:E=>{let R=!1;return!D&&T===void 0&&(R=!0,v(E),C(E)),T!==void 0&&E>T?D.next(E-T):(!R&&v(E),f)}}}const Vy=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ie.update(e,!0),stop:()=>Et(e),now:()=>De.isProcessing?De.timestamp:performance.now()}},wl=2e4;function Tl(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<wl;)e+=n,s=t.next(e);return e>=wl?1/0:e}const zy={decay:Sl,inertia:Sl,tween:Li,keyframes:Li,spring:lh};function Mi({autoplay:t=!0,delay:e=0,driver:n=Vy,keyframes:s,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:h,...f}){let m=1,p=!1,x,S;const A=()=>{S=new Promise(H=>{x=H})};A();let w;const y=zy[i]||Li;let v;y!==Li&&typeof s[0]!="number"&&(v=rh([0,100],s,{clamp:!1}),s=[0,100]);const T=y({...f,keyframes:s});let D;o==="mirror"&&(D=y({...f,keyframes:[...s].reverse(),velocity:-(f.velocity||0)}));let C="idle",E=null,R=null,F=null;T.calculatedDuration===null&&r&&(T.calculatedDuration=Tl(T));const{calculatedDuration:z}=T;let N=1/0,U=1/0;z!==null&&(N=z+a,U=N*(r+1)-a);let O=0;const B=H=>{if(R===null)return;m>0&&(R=Math.min(R,H)),m<0&&(R=Math.min(H-U/m,R)),E!==null?O=E:O=Math.round(H-R)*m;const we=O-e*(m>=0?1:-1),ne=m>=0?we<0:we>U;O=Math.max(we,0),C==="finished"&&E===null&&(O=U);let ke=O,X=T;if(r){const M=Math.min(O,U)/N;let le=Math.floor(M),st=M%1;!st&&M>=1&&(st=1),st===1&&le--,le=Math.min(le,r+1),!!(le%2)&&(o==="reverse"?(st=1-st,a&&(st-=a/N)):o==="mirror"&&(X=D)),ke=zt(0,1,st)*N}const oe=ne?{done:!1,value:s[0]}:X.next(ke);v&&(oe.value=v(oe.value));let{done:Rt}=oe;!ne&&z!==null&&(Rt=m>=0?O>=U:O<=0);const gn=E===null&&(C==="finished"||C==="running"&&Rt);return h&&h(oe.value),gn&&Ce(),oe},W=()=>{w&&w.stop(),w=void 0},te=()=>{C="idle",W(),x(),A(),R=F=null},Ce=()=>{C="finished",d&&d(),W(),x()},ye=()=>{if(p)return;w||(w=n(B));const H=w.now();l&&l(),E!==null?R=H-E:(!R||C==="finished")&&(R=H),C==="finished"&&A(),F=R,E=null,C="running",w.start()};t&&ye();const je={then(H,we){return S.then(H,we)},get time(){return Tt(O)},set time(H){H=on(H),O=H,E!==null||!w||m===0?E=H:R=w.now()-H/m},get duration(){const H=T.calculatedDuration===null?Tl(T):T.calculatedDuration;return Tt(H)},get speed(){return m},set speed(H){H===m||!w||(m=H,je.time=Tt(O))},get state(){return C},play:ye,pause:()=>{C="paused",E=O},stop:()=>{p=!0,C!=="idle"&&(C="idle",c&&c(),te())},cancel:()=>{F!==null&&B(F),te()},complete:()=>{C="finished"},sample:H=>(R=0,B(H))};return je}function jy(t){let e;return()=>(e===void 0&&(e=t()),e)}const Uy=jy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),By=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Js=10,Hy=2e4,$y=(t,e)=>e.type==="spring"||t==="backgroundColor"||!zd(e.ease);function Wy(t,e,{onUpdate:n,onComplete:s,...i}){if(!(Uy()&&By.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let a=!1,o,l,c=!1;const d=()=>{l=new Promise(y=>{o=y})};d();let{keyframes:h,duration:f=300,ease:m,times:p}=i;if($y(e,i)){const y=Mi({...i,repeat:0,delay:0});let v={done:!1,value:h[0]};const T=[];let D=0;for(;!v.done&&D<Hy;)v=y.sample(D),T.push(v.value),D+=Js;p=void 0,h=T,f=D-Js,m="linear"}const x=ey(t.owner.current,e,h,{...i,duration:f,ease:m,times:p}),S=()=>{c=!1,x.cancel()},A=()=>{c=!0,ie.update(S),o(),d()};return x.onfinish=()=>{c||(t.set(ty(h,i)),s&&s(),A())},{then(y,v){return l.then(y,v)},attachTimeline(y){return x.timeline=y,x.onfinish=null,ue},get time(){return Tt(x.currentTime||0)},set time(y){x.currentTime=on(y)},get speed(){return x.playbackRate},set speed(y){x.playbackRate=y},get duration(){return Tt(f)},play:()=>{a||(x.play(),Et(S))},pause:()=>x.pause(),stop:()=>{if(a=!0,x.playState==="idle")return;const{currentTime:y}=x;if(y){const v=Mi({...i,autoplay:!1});t.setWithVelocity(v.sample(y-Js).value,v.sample(y).value,Js)}A()},complete:()=>{c||x.finish()},cancel:A}}function qy({keyframes:t,delay:e,onUpdate:n,onComplete:s}){const i=()=>(n&&n(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:ue,pause:ue,stop:ue,then:r=>(r(),Promise.resolve()),cancel:ue,complete:ue});return e?Mi({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const Gy={type:"spring",stiffness:500,damping:25,restSpeed:10},Ky=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Yy={type:"keyframes",duration:.8},Xy={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Zy=(t,{keyframes:e})=>e.length>2?Yy:mn.has(t)?t.startsWith("scale")?Ky(e[1]):Gy:Xy,Ta=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(jt.test(e)||e==="0")&&!e.startsWith("url(")),Jy=new Set(["brightness","contrast","saturate","opacity"]);function Qy(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(nr)||[];if(!s)return t;const i=n.replace(s,"");let r=Jy.has(e)?1:0;return s!==n&&(r*=100),e+"("+r+i+")"}const eb=/([a-z-]*)\(.*?\)/g,Aa={...jt,getAnimatableNone:t=>{const e=t.match(eb);return e?e.map(Qy).join(" "):t}},tb={...Sd,color:Me,backgroundColor:Me,outlineColor:Me,fill:Me,stroke:Me,borderColor:Me,borderTopColor:Me,borderRightColor:Me,borderBottomColor:Me,borderLeftColor:Me,filter:Aa,WebkitFilter:Aa},mo=t=>tb[t];function ch(t,e){let n=mo(t);return n!==Aa&&(n=jt),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const uh=t=>/^0[^.\s]+$/.test(t);function nb(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||uh(t)}function sb(t,e,n,s){const i=Ta(e,n);let r;Array.isArray(n)?r=[...n]:r=[null,n];const a=s.from!==void 0?s.from:t.get();let o;const l=[];for(let c=0;c<r.length;c++)r[c]===null&&(r[c]=c===0?a:r[c-1]),nb(r[c])&&l.push(c),typeof r[c]=="string"&&r[c]!=="none"&&r[c]!=="0"&&(o=r[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++){const d=l[c];r[d]=ch(e,o)}return r}function ib({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:r,repeatType:a,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function po(t,e){return t[e]||t.default||t}const rb={skipAnimations:!1},go=(t,e,n,s={})=>i=>{const r=po(s,t)||{},a=r.delay||s.delay||0;let{elapsed:o=0}=s;o=o-on(a);const l=sb(e,t,n,r),c=l[0],d=l[l.length-1],h=Ta(t,c),f=Ta(t,d);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...r,delay:-o,onUpdate:p=>{e.set(p),r.onUpdate&&r.onUpdate(p)},onComplete:()=>{i(),r.onComplete&&r.onComplete()}};if(ib(r)||(m={...m,...Zy(t,m)}),m.duration&&(m.duration=on(m.duration)),m.repeatDelay&&(m.repeatDelay=on(m.repeatDelay)),!h||!f||Qg.current||r.type===!1||rb.skipAnimations)return qy(m);if(!s.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const p=Wy(e,t,m);if(p)return p}return Mi(m)};function Fi(t){return!!(Ge(t)&&t.add)}const dh=t=>/^\-?\d*\.?\d+$/.test(t);function yo(t,e){t.indexOf(e)===-1&&t.push(e)}function bo(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class xo{constructor(){this.subscriptions=[]}add(e){return yo(this.subscriptions,e),()=>bo(this.subscriptions,e)}notify(e,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,s);else for(let r=0;r<i;r++){const a=this.subscriptions[r];a&&a(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ab=t=>!isNaN(parseFloat(t));class ob{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,i=!0)=>{this.prev=this.current,this.current=s;const{delta:r,timestamp:a}=De;this.lastUpdated!==a&&(this.timeDelta=r,this.lastUpdated=a,ie.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ie.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=ab(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new xo);const s=this.events[e].add(n);return e==="change"?()=>{s(),ie.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=e,this.timeDelta=s}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?ah(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nn(t,e){return new ob(t,e)}const hh=t=>e=>e.test(t),lb={test:t=>t==="auto",parse:t=>t},fh=[pn,$,ut,Ot,pg,mg,lb],Un=t=>fh.find(hh(t)),cb=[...fh,Me,jt],ub=t=>cb.find(hh(t));function db(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Nn(n))}function hb(t,e){const n=ir(t,e);let{transitionEnd:s={},transition:i={},...r}=n?t.makeTargetAnimatable(n,!1):{};r={...r,...s};for(const a in r){const o=Rg(r[a]);db(t,a,o)}}function fb(t,e,n){var s,i;const r=Object.keys(e).filter(o=>!t.hasValue(o)),a=r.length;if(a)for(let o=0;o<a;o++){const l=r[o],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(s=n[l])!==null&&s!==void 0?s:t.readValue(l))!==null&&i!==void 0?i:e[l]),d!=null&&(typeof d=="string"&&(dh(d)||uh(d))?d=parseFloat(d):!ub(d)&&jt.test(c)&&(d=ch(l,c)),t.addValue(l,Nn(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function mb(t,e){return e?(e[t]||e.default||e).from:void 0}function pb(t,e,n){const s={};for(const i in t){const r=mb(i,e);if(r!==void 0)s[i]=r;else{const a=n.getValue(i);a&&(s[i]=a.get())}}return s}function gb({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function yb(t,e){const n=t.get();if(Array.isArray(e)){for(let s=0;s<e.length;s++)if(e[s]!==n)return!0}else return n!==e}function mh(t,e,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:r=t.getDefaultTransition(),transitionEnd:a,...o}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");s&&(r=s);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in o){const f=t.getValue(h),m=o[h];if(!f||m===void 0||d&&gb(d,h))continue;const p={delay:n,elapsed:0,...po(r||{},h)};if(window.HandoffAppearAnimations){const A=t.getProps()[pd];if(A){const w=window.HandoffAppearAnimations(A,h,f,ie);w!==null&&(p.elapsed=w,p.isHandoff=!0)}}let x=!p.isHandoff&&!yb(f,m);if(p.type==="spring"&&(f.getVelocity()||p.velocity)&&(x=!1),f.animation&&(x=!1),x)continue;f.start(go(h,f,m,t.shouldReduceMotion&&mn.has(h)?{type:!1}:p));const S=f.animation;Fi(l)&&(l.add(h),S.then(()=>l.remove(h))),c.push(S)}return a&&Promise.all(c).then(()=>{a&&hb(t,a)}),c}function Ea(t,e,n={}){const s=ir(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const r=s?()=>Promise.all(mh(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=i;return bb(t,e,c+l,d,h,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[r,a]:[a,r];return l().then(()=>c())}else return Promise.all([r(),a(n.delay)])}function bb(t,e,n=0,s=0,i=1,r){const a=[],o=(t.variantChildren.size-1)*s,l=i===1?(c=0)=>c*s:(c=0)=>o-c*s;return Array.from(t.variantChildren).sort(xb).forEach((c,d)=>{c.notify("AnimationStart",e),a.push(Ea(c,e,{...r,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function xb(t,e){return t.sortNodePosition(e)}function vb(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(r=>Ea(t,r,n));s=Promise.all(i)}else if(typeof e=="string")s=Ea(t,e,n);else{const i=typeof e=="function"?ir(t,e,n.custom):e;s=Promise.all(mh(t,i,n))}return s.then(()=>t.notify("AnimationComplete",e))}const _b=[...Qa].reverse(),Sb=Qa.length;function wb(t){return e=>Promise.all(e.map(({animation:n,options:s})=>vb(t,n,s)))}function Tb(t){let e=wb(t);const n=Eb();let s=!0;const i=(l,c)=>{const d=ir(t,c);if(d){const{transition:h,transitionEnd:f,...m}=d;l={...l,...m,...f}}return l};function r(l){e=l(t)}function a(l,c){const d=t.getProps(),h=t.getVariantContext(!0)||{},f=[],m=new Set;let p={},x=1/0;for(let A=0;A<Sb;A++){const w=_b[A],y=n[w],v=d[w]!==void 0?d[w]:h[w],T=vs(v),D=w===c?y.isActive:null;D===!1&&(x=A);let C=v===h[w]&&v!==d[w]&&T;if(C&&s&&t.manuallyAnimateOnMount&&(C=!1),y.protectedKeys={...p},!y.isActive&&D===null||!v&&!y.prevProp||er(v)||typeof v=="boolean")continue;let R=Ab(y.prevProp,v)||w===c&&y.isActive&&!C&&T||A>x&&T,F=!1;const z=Array.isArray(v)?v:[v];let N=z.reduce(i,{});D===!1&&(N={});const{prevResolvedValues:U={}}=y,O={...U,...N},B=W=>{R=!0,m.has(W)&&(F=!0,m.delete(W)),y.needsAnimating[W]=!0};for(const W in O){const te=N[W],Ce=U[W];if(p.hasOwnProperty(W))continue;let ye=!1;Ii(te)&&Ii(Ce)?ye=!Fd(te,Ce):ye=te!==Ce,ye?te!==void 0?B(W):m.add(W):te!==void 0&&m.has(W)?B(W):y.protectedKeys[W]=!0}y.prevProp=v,y.prevResolvedValues=N,y.isActive&&(p={...p,...N}),s&&t.blockInitialAnimation&&(R=!1),R&&(!C||F)&&f.push(...z.map(W=>({animation:W,options:{type:w,...l}})))}if(m.size){const A={};m.forEach(w=>{const y=t.getBaseTarget(w);y!==void 0&&(A[w]=y)}),f.push({animation:A})}let S=!!f.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(S=!1),s=!1,S?e(f):Promise.resolve()}function o(l,c,d){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const f=a(d,l);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:r,getState:()=>n}}function Ab(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Fd(e,t):!1}function qt(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Eb(){return{animate:qt(!0),whileInView:qt(),whileHover:qt(),whileTap:qt(),whileDrag:qt(),whileFocus:qt(),exit:qt()}}class Cb extends Ht{constructor(e){super(e),e.animationState||(e.animationState=Tb(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),er(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Pb=0;class Rb extends Ht{constructor(){super(...arguments),this.id=Pb++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e,{custom:s??this.node.getProps().custom});n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Db={animation:{Feature:Cb},exit:{Feature:Rb}},Al=(t,e)=>Math.abs(t-e);function Nb(t,e){const n=Al(t.x,e.x),s=Al(t.y,e.y);return Math.sqrt(n**2+s**2)}class ph{constructor(e,n,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=jr(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=Nb(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:p}=h,{timestamp:x}=De;this.history.push({...p,timestamp:x});const{onStart:S,onMove:A}=this.handlers;f||(S&&S(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=zr(f,this.transformPagePoint),ie.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=jr(h.type==="pointercancel"?this.lastMoveEventInfo:zr(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,S),p&&p(h,S)},!Od(e))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=s,this.contextWindow=i||window;const a=sr(e),o=zr(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=De;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,jr(o,this.history)),this.removeListeners=Ft(wt(this.contextWindow,"pointermove",this.handlePointerMove),wt(this.contextWindow,"pointerup",this.handlePointerUp),wt(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Et(this.updatePoint)}}function zr(t,e){return e?{point:e(t.point)}:t}function El(t,e){return{x:t.x-e.x,y:t.y-e.y}}function jr({point:t},e){return{point:t,delta:El(t,gh(e)),offset:El(t,Ob(e)),velocity:Ib(e,.1)}}function Ob(t){return t[0]}function gh(t){return t[t.length-1]}function Ib(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=gh(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>on(e)));)n--;if(!s)return{x:0,y:0};const r=Tt(i.timestamp-s.timestamp);if(r===0)return{x:0,y:0};const a={x:(i.x-s.x)/r,y:(i.y-s.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Ze(t){return t.max-t.min}function Ca(t,e=0,n=.01){return Math.abs(t-e)<=n}function Cl(t,e,n,s=.5){t.origin=s,t.originPoint=ae(e.min,e.max,t.origin),t.scale=Ze(n)/Ze(e),(Ca(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ae(n.min,n.max,t.origin)-t.originPoint,(Ca(t.translate)||isNaN(t.translate))&&(t.translate=0)}function us(t,e,n,s){Cl(t.x,e.x,n.x,s?s.originX:void 0),Cl(t.y,e.y,n.y,s?s.originY:void 0)}function Pl(t,e,n){t.min=n.min+e.min,t.max=t.min+Ze(e)}function kb(t,e,n){Pl(t.x,e.x,n.x),Pl(t.y,e.y,n.y)}function Rl(t,e,n){t.min=e.min-n.min,t.max=t.min+Ze(e)}function ds(t,e,n){Rl(t.x,e.x,n.x),Rl(t.y,e.y,n.y)}function Lb(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?ae(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?ae(n,t,s.max):Math.min(t,n)),t}function Dl(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Mb(t,{top:e,left:n,bottom:s,right:i}){return{x:Dl(t.x,n,i),y:Dl(t.y,e,s)}}function Nl(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Fb(t,e){return{x:Nl(t.x,e.x),y:Nl(t.y,e.y)}}function Vb(t,e){let n=.5;const s=Ze(t),i=Ze(e);return i>s?n=Ss(e.min,e.max-s,t.min):s>i&&(n=Ss(t.min,t.max-i,e.min)),zt(0,1,n)}function zb(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Pa=.35;function jb(t=Pa){return t===!1?t=0:t===!0&&(t=Pa),{x:Ol(t,"left","right"),y:Ol(t,"top","bottom")}}function Ol(t,e,n){return{min:Il(t,e),max:Il(t,n)}}function Il(t,e){return typeof t=="number"?t:t[e]||0}const kl=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pn=()=>({x:kl(),y:kl()}),Ll=()=>({min:0,max:0}),he=()=>({x:Ll(),y:Ll()});function et(t){return[t("x"),t("y")]}function yh({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function Ub({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Bb(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Ur(t){return t===void 0||t===1}function Ra({scale:t,scaleX:e,scaleY:n}){return!Ur(t)||!Ur(e)||!Ur(n)}function Xt(t){return Ra(t)||bh(t)||t.z||t.rotate||t.rotateX||t.rotateY}function bh(t){return Ml(t.x)||Ml(t.y)}function Ml(t){return t&&t!=="0%"}function Vi(t,e,n){const s=t-n,i=e*s;return n+i}function Fl(t,e,n,s,i){return i!==void 0&&(t=Vi(t,i,s)),Vi(t,n,s)+e}function Da(t,e=0,n=1,s,i){t.min=Fl(t.min,e,n,s,i),t.max=Fl(t.max,e,n,s,i)}function xh(t,{x:e,y:n}){Da(t.x,e.translate,e.scale,e.originPoint),Da(t.y,n.translate,n.scale,n.originPoint)}function Hb(t,e,n,s=!1){const i=n.length;if(!i)return;e.x=e.y=1;let r,a;for(let o=0;o<i;o++){r=n[o],a=r.projectionDelta;const l=r.instance;l&&l.style&&l.style.display==="contents"||(s&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Rn(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,xh(t,a)),s&&Xt(r.latestValues)&&Rn(t,r.latestValues))}e.x=Vl(e.x),e.y=Vl(e.y)}function Vl(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function It(t,e){t.min=t.min+e,t.max=t.max+e}function zl(t,e,[n,s,i]){const r=e[i]!==void 0?e[i]:.5,a=ae(t.min,t.max,r);Da(t,e[n],e[s],a,e.scale)}const $b=["x","scaleX","originX"],Wb=["y","scaleY","originY"];function Rn(t,e){zl(t.x,e,$b),zl(t.y,e,Wb)}function vh(t,e){return yh(Bb(t.getBoundingClientRect(),e))}function qb(t,e,n){const s=vh(t,n),{scroll:i}=e;return i&&(It(s.x,i.offset.x),It(s.y,i.offset.y)),s}const _h=({current:t})=>t?t.ownerDocument.defaultView:null,Gb=new WeakMap;class Kb{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=he(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(sr(d,"page").point)},r=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:p}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=kd(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),et(S=>{let A=this.getAxisMotionValue(S).get()||0;if(ut.test(A)){const{projection:w}=this.visualElement;if(w&&w.layout){const y=w.layout.layoutBox[S];y&&(A=Ze(y)*(parseFloat(A)/100))}}this.originPoint[S]=A}),p&&ie.update(()=>p(d,h),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:p,onDrag:x}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:S}=h;if(m&&this.currentDirection===null){this.currentDirection=Yb(S),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",h.point,S),this.updateAxis("y",h.point,S),this.visualElement.render(),x&&x(d,h)},o=(d,h)=>this.stop(d,h),l=()=>et(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new ph(e,{onSessionStart:i,onStart:r,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:_h(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:r}=this.getProps();r&&ie.update(()=>r(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:i}=this.getProps();if(!s||!Qs(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=Lb(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,r=this.constraints;n&&En(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Mb(i.layoutBox,n):this.constraints=!1,this.elastic=jb(s),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&et(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=zb(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!En(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=qb(s,i.root,this.visualElement.getTransformPagePoint());let a=Fb(i.layout.layoutBox,r);if(n){const o=n(Ub(a));this.hasMutatedConstraints=!!o,o&&(a=yh(o))}return a}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=et(d=>{if(!Qs(d,n,this.currentDirection))return;let h=l&&l[d]||{};a&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:s?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(d,p)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return s.start(go(e,s,0,n))}stopAnimation(){et(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){et(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){et(n=>{const{drag:s}=this.getProps();if(!Qs(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];r.set(e[n]-ae(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!En(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};et(a=>{const o=this.getAxisMotionValue(a);if(o){const l=o.get();i[a]=Vb({min:l,max:l},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),et(a=>{if(!Qs(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(ae(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;Gb.set(this.visualElement,this);const e=this.visualElement.current,n=wt(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),s=()=>{const{dragConstraints:l}=this.getProps();En(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),s();const a=_t(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(et(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{a(),n(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:a=Pa,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:r,dragElastic:a,dragMomentum:o}}}function Qs(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Yb(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Xb extends Ht{constructor(e){super(e),this.removeGroupControls=ue,this.removeListeners=ue,this.controls=new Kb(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ue}unmount(){this.removeGroupControls(),this.removeListeners()}}const jl=t=>(e,n)=>{t&&ie.update(()=>t(e,n))};class Zb extends Ht{constructor(){super(...arguments),this.removePointerDownListener=ue}onPointerDown(e){this.session=new ph(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_h(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:jl(e),onStart:jl(n),onMove:s,onEnd:(r,a)=>{delete this.session,i&&ie.update(()=>i(r,a))}}}mount(){this.removePointerDownListener=wt(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Jb(){const t=b.useContext(Ji);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:s}=t,i=b.useId();return b.useEffect(()=>s(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const vi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ul(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Bn={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($.test(t))t=parseFloat(t);else return t;const n=Ul(t,e.target.x),s=Ul(t,e.target.y);return`${n}% ${s}%`}},Qb={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,i=jt.parse(t);if(i.length>5)return s;const r=jt.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=ae(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),r(i)}};class e0 extends dt.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:r}=e;og(t0),r&&(n.group&&n.group.add(r),s&&s.register&&i&&s.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),vi.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:i,isPresent:r}=this.props,a=s.projection;return a&&(a.isPresent=r,i||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||ie.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Sh(t){const[e,n]=Jb(),s=b.useContext(to);return dt.createElement(e0,{...t,layoutGroup:s,switchLayoutGroup:b.useContext(yd),isPresent:e,safeToRemove:n})}const t0={borderRadius:{...Bn,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bn,borderTopRightRadius:Bn,borderBottomLeftRadius:Bn,borderBottomRightRadius:Bn,boxShadow:Qb},wh=["TopLeft","TopRight","BottomLeft","BottomRight"],n0=wh.length,Bl=t=>typeof t=="string"?parseFloat(t):t,Hl=t=>typeof t=="number"||$.test(t);function s0(t,e,n,s,i,r){i?(t.opacity=ae(0,n.opacity!==void 0?n.opacity:1,i0(s)),t.opacityExit=ae(e.opacity!==void 0?e.opacity:1,0,r0(s))):r&&(t.opacity=ae(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let a=0;a<n0;a++){const o=`border${wh[a]}Radius`;let l=$l(e,o),c=$l(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Hl(l)===Hl(c)?(t[o]=Math.max(ae(Bl(l),Bl(c),s),0),(ut.test(c)||ut.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=ae(e.rotate||0,n.rotate||0,s))}function $l(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const i0=Th(0,.5,qd),r0=Th(.5,.95,ue);function Th(t,e,n){return s=>s<t?0:s>e?1:n(Ss(t,e,s))}function Wl(t,e){t.min=e.min,t.max=e.max}function Je(t,e){Wl(t.x,e.x),Wl(t.y,e.y)}function ql(t,e,n,s,i){return t-=e,t=Vi(t,1/n,s),i!==void 0&&(t=Vi(t,1/i,s)),t}function a0(t,e=0,n=1,s=.5,i,r=t,a=t){if(ut.test(e)&&(e=parseFloat(e),e=ae(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=ae(r.min,r.max,s);t===r&&(o-=e),t.min=ql(t.min,e,n,o,i),t.max=ql(t.max,e,n,o,i)}function Gl(t,e,[n,s,i],r,a){a0(t,e[n],e[s],e[i],e.scale,r,a)}const o0=["x","scaleX","originX"],l0=["y","scaleY","originY"];function Kl(t,e,n,s){Gl(t.x,e,o0,n?n.x:void 0,s?s.x:void 0),Gl(t.y,e,l0,n?n.y:void 0,s?s.y:void 0)}function Yl(t){return t.translate===0&&t.scale===1}function Ah(t){return Yl(t.x)&&Yl(t.y)}function c0(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function Eh(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Xl(t){return Ze(t.x)/Ze(t.y)}class u0{constructor(){this.members=[]}add(e){yo(this.members,e),e.scheduleRender()}remove(e){if(bo(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){s=r;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Zl(t,e,n){let s="";const i=t.x.translate/e.x,r=t.y.translate/e.y;if((i||r)&&(s=`translate3d(${i}px, ${r}px, 0) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(s+=`rotate(${l}deg) `),c&&(s+=`rotateX(${c}deg) `),d&&(s+=`rotateY(${d}deg) `)}const a=t.x.scale*e.x,o=t.y.scale*e.y;return(a!==1||o!==1)&&(s+=`scale(${a}, ${o})`),s||"none"}const d0=(t,e)=>t.depth-e.depth;class h0{constructor(){this.children=[],this.isDirty=!1}add(e){yo(this.children,e),this.isDirty=!0}remove(e){bo(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(d0),this.isDirty=!1,this.children.forEach(e)}}function f0(t,e){const n=performance.now(),s=({timestamp:i})=>{const r=i-n;r>=e&&(Et(s),t(r-e))};return ie.read(s,!0),()=>Et(s)}function m0(t){window.MotionDebug&&window.MotionDebug.record(t)}function p0(t){return t instanceof SVGElement&&t.tagName!=="svg"}function g0(t,e,n){const s=Ge(t)?t:Nn(t);return s.start(go("",s,e,n)),s.animation}const Jl=["","X","Y","Z"],y0={visibility:"hidden"},Ql=1e3;let b0=0;const Zt={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Ch({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(a={},o=e?.()){this.id=b0++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Zt.totalNodes=Zt.resolvedTargetDeltas=Zt.recalculatedProjection=0,this.nodes.forEach(_0),this.nodes.forEach(E0),this.nodes.forEach(C0),this.nodes.forEach(S0),m0(Zt)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new h0)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new xo),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=p0(a),this.instance=a;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=f0(f,250),vi.hasAnimatedSinceResize&&(vi.hasAnimatedSinceResize=!1,this.nodes.forEach(tc))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||O0,{onLayoutAnimationStart:S,onLayoutAnimationComplete:A}=d.getProps(),w=!this.targetLayout||!Eh(this.targetLayout,p)||m,y=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const v={...po(x,"layout"),onPlay:S,onComplete:A};(d.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else f||tc(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Et(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(P0),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ec);return}this.isUpdating||this.nodes.forEach(T0),this.isUpdating=!1,this.nodes.forEach(A0),this.nodes.forEach(x0),this.nodes.forEach(v0),this.clearAllSnapshots();const o=performance.now();De.delta=zt(0,1e3/60,o-De.timestamp),De.timestamp=o,De.isProcessing=!0,Nr.update.process(De),Nr.preRender.process(De),Nr.render.process(De),De.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(w0),this.sharedNodes.forEach(R0)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=he(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!Ah(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&(o||Xt(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),I0(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return he();const o=a.measureViewportBox(),{scroll:l}=this.root;return l&&(It(o.x,l.offset.x),It(o.y,l.offset.y)),o}removeElementScroll(a){const o=he();Je(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:h}=c;if(c!==this.root&&d&&h.layoutScroll){if(d.isRoot){Je(o,a);const{scroll:f}=this.root;f&&(It(o.x,-f.offset.x),It(o.y,-f.offset.y))}It(o.x,d.offset.x),It(o.y,d.offset.y)}}return o}applyTransform(a,o=!1){const l=he();Je(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Rn(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Xt(d.latestValues)&&Rn(l,d.latestValues)}return Xt(this.latestValues)&&Rn(l,this.latestValues),l}removeTransform(a){const o=he();Je(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Xt(c.latestValues))continue;Ra(c.latestValues)&&c.updateSnapshot();const d=he(),h=c.measurePageBox();Je(d,h),Kl(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Xt(this.latestValues)&&Kl(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==De.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=De.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=he(),this.relativeTargetOrigin=he(),ds(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Je(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=he(),this.targetWithTransforms=he()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kb(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Je(this.target,this.layout.layoutBox),xh(this.target,this.targetDelta)):Je(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=he(),this.relativeTargetOrigin=he(),ds(this.relativeTargetOrigin,this.target,m.target),Je(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Zt.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ra(this.parent.latestValues)||bh(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===De.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Je(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;Hb(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=Pn(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Pn(),this.projectionDeltaWithTransform=Pn());const x=this.projectionTransform;us(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=Zl(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Zt.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Pn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=he(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,x=m!==p,S=this.getStack(),A=!S||S.members.length<=1,w=!!(x&&!A&&this.options.crossfade===!0&&!this.path.some(N0));this.animationProgress=0;let y;this.mixTargetDelta=v=>{const T=v/1e3;nc(h.x,a.x,T),nc(h.y,a.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ds(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),D0(this.relativeTarget,this.relativeTargetOrigin,f,T),y&&c0(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=he()),Je(y,this.relativeTarget)),x&&(this.animationValues=d,s0(d,c,this.latestValues,T,w,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Et(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ie.update(()=>{vi.hasAnimatedSinceResize=!0,this.currentAnimation=g0(0,Ql,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ql),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&Ph(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||he();const h=Ze(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+h;const f=Ze(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}Je(o,l),Rn(o,d),us(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new u0),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const c={};for(let d=0;d<Jl.length;d++){const h="rotate"+Jl[d];l[h]&&(c[h]=l[h],a.setStaticValue(h,0))}a.render();for(const d in c)a.setStaticValue(d,c[d]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return y0;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=xi(a?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=xi(a?.pointerEvents)||""),this.hasProjected&&!Xt(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=Zl(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:m,y:p}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in Ni){if(f[x]===void 0)continue;const{correct:S,applyTo:A}=Ni[x],w=c.transform==="none"?f[x]:S(f[x],h);if(A){const y=A.length;for(let v=0;v<y;v++)c[A[v]]=w}else c[x]=w}return this.options.layoutId&&(c.pointerEvents=h===this?xi(a?.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(ec),this.root.sharedNodes.clear()}}}function x0(t){t.updateLayout()}function v0(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=t.layout,{animationType:r}=t.options,a=n.source!==t.layout.source;r==="size"?et(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],m=Ze(f);f.min=s[h].min,f.max=f.min+m}):Ph(r,n.layoutBox,s)&&et(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],m=Ze(s[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const o=Pn();us(o,s,n.layoutBox);const l=Pn();a?us(l,t.applyTransform(i,!0),n.measuredBox):us(l,s,n.layoutBox);const c=!Ah(o);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const p=he();ds(p,n.layoutBox,f.layoutBox);const x=he();ds(x,s,m.layoutBox),Eh(p,x)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=p,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function _0(t){Zt.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function S0(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function w0(t){t.clearSnapshot()}function ec(t){t.clearMeasurements()}function T0(t){t.isLayoutDirty=!1}function A0(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tc(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function E0(t){t.resolveTargetDelta()}function C0(t){t.calcProjection()}function P0(t){t.resetRotation()}function R0(t){t.removeLeadSnapshot()}function nc(t,e,n){t.translate=ae(e.translate,0,n),t.scale=ae(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function sc(t,e,n,s){t.min=ae(e.min,n.min,s),t.max=ae(e.max,n.max,s)}function D0(t,e,n,s){sc(t.x,e.x,n.x,s),sc(t.y,e.y,n.y,s)}function N0(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const O0={duration:.45,ease:[.4,0,.1,1]},ic=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),rc=ic("applewebkit/")&&!ic("chrome/")?Math.round:ue;function ac(t){t.min=rc(t.min),t.max=rc(t.max)}function I0(t){ac(t.x),ac(t.y)}function Ph(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ca(Xl(e),Xl(n),.2)}const k0=Ch({attachResizeListener:(t,e)=>_t(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Br={current:void 0},Rh=Ch({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Br.current){const t=new k0({});t.mount(window),t.setOptions({layoutScroll:!0}),Br.current=t}return Br.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),L0={pan:{Feature:Zb},drag:{Feature:Xb,ProjectionNode:Rh,MeasureLayout:Sh}},M0=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function F0(t){const e=M0.exec(t);if(!e)return[,];const[,n,s]=e;return[n,s]}function Na(t,e,n=1){const[s,i]=F0(t);if(!s)return;const r=window.getComputedStyle(e).getPropertyValue(s);if(r){const a=r.trim();return dh(a)?parseFloat(a):a}else return va(i)?Na(i,e,n+1):i}function V0(t,{...e},n){const s=t.current;if(!(s instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const r=i.get();if(!va(r))return;const a=Na(r,s);a&&i.set(a)});for(const i in e){const r=e[i];if(!va(r))continue;const a=Na(r,s);a&&(e[i]=a,n||(n={}),n[i]===void 0&&(n[i]=r))}return{target:e,transitionEnd:n}}const z0=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Dh=t=>z0.has(t),j0=t=>Object.keys(t).some(Dh),oc=t=>t===pn||t===$,lc=(t,e)=>parseFloat(t.split(", ")[e]),cc=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/);if(i)return lc(i[1],e);{const r=s.match(/^matrix\((.+)\)$/);return r?lc(r[1],t):0}},U0=new Set(["x","y","z"]),B0=Ds.filter(t=>!U0.has(t));function H0(t){const e=[];return B0.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const On={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:cc(4,13),y:cc(5,14)};On.translateX=On.x;On.translateY=On.y;const $0=(t,e,n)=>{const s=e.measureViewportBox(),i=e.current,r=getComputedStyle(i),{display:a}=r,o={};a==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{o[c]=On[c](s,r)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const d=e.getValue(c);d&&d.jump(o[c]),t[c]=On[c](l,r)}),t},W0=(t,e,n={},s={})=>{e={...e},s={...s};const i=Object.keys(e).filter(Dh);let r=[],a=!1;const o=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],h=Un(d);const f=e[l];let m;if(Ii(f)){const p=f.length,x=f[0]===null?1:0;d=f[x],h=Un(d);for(let S=x;S<p&&f[S]!==null;S++)m?co(Un(f[S])===m):m=Un(f[S])}else m=Un(f);if(h!==m)if(oc(h)&&oc(m)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&m===$&&(e[l]=f.map(parseFloat))}else h?.transform&&m?.transform&&(d===0||f===0)?d===0?c.set(m.transform(d)):e[l]=h.transform(f):(a||(r=H0(t),a=!0),o.push(l),s[l]=s[l]!==void 0?s[l]:e[l],c.jump(f))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,c=$0(e,t,o);return r.length&&r.forEach(([d,h])=>{t.getValue(d).set(h)}),t.render(),Qi&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:s}}else return{target:e,transitionEnd:s}};function q0(t,e,n,s){return j0(e)?W0(t,e,n,s):{target:e,transitionEnd:s}}const G0=(t,e,n,s)=>{const i=V0(t,e,s);return e=i.target,s=i.transitionEnd,q0(t,e,n,s)},Oa={current:null},Nh={current:!1};function K0(){if(Nh.current=!0,!!Qi)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Oa.current=t.matches;t.addListener(e),e()}else Oa.current=!1}function Y0(t,e,n){const{willChange:s}=e;for(const i in e){const r=e[i],a=n[i];if(Ge(r))t.addValue(i,r),Fi(s)&&s.add(i);else if(Ge(a))t.addValue(i,Nn(r,{owner:t})),Fi(s)&&s.remove(i);else if(a!==r)if(t.hasValue(i)){const o=t.getValue(i);!o.hasAnimated&&o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,Nn(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const uc=new WeakMap,Oh=Object.keys(_s),X0=Oh.length,dc=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Z0=eo.length;class J0{constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:i,visualState:r},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ie.render(this.render,!1,!0);const{latestValues:o,renderState:l}=r;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=tr(n),this.isVariantNode=gd(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const f=d[h];o[h]!==void 0&&Ge(f)&&(f.set(o[h],!1),Fi(c)&&c.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,uc.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Nh.current||K0(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Oa.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){uc.delete(this.current),this.projection&&this.projection.unmount(),Et(this.notifyUpdate),Et(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const s=mn.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ie.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),r=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),r()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},s,i,r){let a,o;for(let l=0;l<X0;l++){const c=Oh[l],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:m}=_s[c];f&&(a=f),d(n)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||h&&En(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:m})}return o}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):he()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<dc.length;s++){const i=dc[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r=e["on"+i];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=Y0(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<Z0;s++){const i=eo[s],r=this.props[i];(vs(r)||r===!1)&&(n[i]=r)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Nn(n,{owner:this}),this.addValue(e,s)),s}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props,i=typeof s=="string"||typeof s=="object"?(n=lo(this.props,s))===null||n===void 0?void 0:n[e]:void 0;if(s&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Ge(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new xo),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Ih extends J0{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...s},{transformValues:i},r){let a=pb(s,e||{},this);if(i&&(n&&(n=i(n)),s&&(s=i(s)),a&&(a=i(a))),r){fb(this,s,a);const o=G0(this,s,a,n);n=o.transitionEnd,s=o.target}return{transition:e,transitionEnd:n,...s}}}function Q0(t){return window.getComputedStyle(t)}class ex extends Ih{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(mn.has(n)){const s=mo(n);return s&&s.default||0}else{const s=Q0(e),i=(vd(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return vh(e,n)}build(e,n,s,i){so(e,n,s,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return oo(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ge(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,s,i){Ed(e,n,s,i)}}class tx extends Ih{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(mn.has(n)){const s=mo(n);return s&&s.default||0}return n=Cd.has(n)?n:Ja(n),e.getAttribute(n)}measureInstanceViewportBox(){return he()}scrapeMotionValuesFromProps(e,n){return Rd(e,n)}build(e,n,s,i){ro(e,n,s,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,s,i){Pd(e,n,s,i)}mount(e){this.isSVGTag=ao(e.tagName),super.mount(e)}}const nx=(t,e)=>no(t)?new tx(e,{enableHardwareAcceleration:!1}):new ex(e,{enableHardwareAcceleration:!0}),sx={layout:{ProjectionNode:Rh,MeasureLayout:Sh}},ix={...Db,...Xg,...L0,...sx},vo=rg((t,e)=>Fg(t,e,ix,nx));function kh(){const t=b.useRef(!1);return Za(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function rx(){const t=kh(),[e,n]=b.useState(0),s=b.useCallback(()=>{t.current&&n(e+1)},[e]);return[b.useCallback(()=>ie.postRender(s),[s]),e]}class ax extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ox({children:t,isPresent:e}){const n=b.useId(),s=b.useRef(null),i=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:r,height:a,top:o,left:l}=i.current;if(e||!s.current||!r||!a)return;s.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${r}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),b.createElement(ax,{isPresent:e,childRef:s,sizeRef:i},b.cloneElement(t,{ref:s}))}const Hr=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:r,mode:a})=>{const o=Dd(lx),l=b.useId(),c=b.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:d=>{o.set(d,!0);for(const h of o.values())if(!h)return;s&&s()},register:d=>(o.set(d,!1),()=>o.delete(d))}),r?void 0:[n]);return b.useMemo(()=>{o.forEach((d,h)=>o.set(h,!1))},[n]),b.useEffect(()=>{!n&&!o.size&&s&&s()},[n]),a==="popLayout"&&(t=b.createElement(ox,{isPresent:n},t)),b.createElement(Ji.Provider,{value:c},t)};function lx(){return new Map}function cx(t){return b.useEffect(()=>()=>t(),[])}const Jt=t=>t.key||"";function ux(t,e){t.forEach(n=>{const s=Jt(n);e.set(s,n)})}function dx(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const hx=({children:t,custom:e,initial:n=!0,onExitComplete:s,exitBeforeEnter:i,presenceAffectsLayout:r=!0,mode:a="sync"})=>{const o=b.useContext(to).forceRender||rx()[0],l=kh(),c=dx(t);let d=c;const h=b.useRef(new Map).current,f=b.useRef(d),m=b.useRef(new Map).current,p=b.useRef(!0);if(Za(()=>{p.current=!1,ux(c,m),f.current=d}),cx(()=>{p.current=!0,m.clear(),h.clear()}),p.current)return b.createElement(b.Fragment,null,d.map(w=>b.createElement(Hr,{key:Jt(w),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:r,mode:a},w)));d=[...d];const x=f.current.map(Jt),S=c.map(Jt),A=x.length;for(let w=0;w<A;w++){const y=x[w];S.indexOf(y)===-1&&!h.has(y)&&h.set(y,void 0)}return a==="wait"&&h.size&&(d=[]),h.forEach((w,y)=>{if(S.indexOf(y)!==-1)return;const v=m.get(y);if(!v)return;const T=x.indexOf(y);let D=w;if(!D){const C=()=>{h.delete(y);const E=Array.from(m.keys()).filter(R=>!S.includes(R));if(E.forEach(R=>m.delete(R)),f.current=c.filter(R=>{const F=Jt(R);return F===y||E.includes(F)}),!h.size){if(l.current===!1)return;o(),s&&s()}};D=b.createElement(Hr,{key:Jt(v),isPresent:!1,onExitComplete:C,custom:e,presenceAffectsLayout:r,mode:a},v),h.set(y,D)}d.splice(T,0,D)}),d=d.map(w=>{const y=w.key;return h.has(y)?w:b.createElement(Hr,{key:Jt(w),isPresent:!0,presenceAffectsLayout:r,mode:a},w)}),b.createElement(b.Fragment,null,h.size?d:d.map(w=>b.cloneElement(w)))};function Lh(t,e){return function(){return t.apply(e,arguments)}}const{toString:fx}=Object.prototype,{getPrototypeOf:_o}=Object,{iterator:rr,toStringTag:Mh}=Symbol,ar=(t=>e=>{const n=fx.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),rt=t=>(t=t.toLowerCase(),e=>ar(e)===t),or=t=>e=>typeof e===t,{isArray:kn}=Array,ws=or("undefined");function ks(t){return t!==null&&!ws(t)&&t.constructor!==null&&!ws(t.constructor)&&We(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Fh=rt("ArrayBuffer");function mx(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Fh(t.buffer),e}const px=or("string"),We=or("function"),Vh=or("number"),Ls=t=>t!==null&&typeof t=="object",gx=t=>t===!0||t===!1,_i=t=>{if(ar(t)!=="object")return!1;const e=_o(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Mh in t)&&!(rr in t)},yx=t=>{if(!Ls(t)||ks(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},bx=rt("Date"),xx=rt("File"),vx=rt("Blob"),_x=rt("FileList"),Sx=t=>Ls(t)&&We(t.pipe),wx=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||We(t.append)&&((e=ar(t))==="formdata"||e==="object"&&We(t.toString)&&t.toString()==="[object FormData]"))},Tx=rt("URLSearchParams"),[Ax,Ex,Cx,Px]=["ReadableStream","Request","Response","Headers"].map(rt),Rx=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ms(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),kn(t))for(s=0,i=t.length;s<i;s++)e.call(null,t[s],s,t);else{if(ks(t))return;const r=n?Object.getOwnPropertyNames(t):Object.keys(t),a=r.length;let o;for(s=0;s<a;s++)o=r[s],e.call(null,t[o],o,t)}}function zh(t,e){if(ks(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,i;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const nn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jh=t=>!ws(t)&&t!==nn;function Ia(){const{caseless:t}=jh(this)&&this||{},e={},n=(s,i)=>{const r=t&&zh(e,i)||i;_i(e[r])&&_i(s)?e[r]=Ia(e[r],s):_i(s)?e[r]=Ia({},s):kn(s)?e[r]=s.slice():e[r]=s};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Ms(arguments[s],n);return e}const Dx=(t,e,n,{allOwnKeys:s}={})=>(Ms(e,(i,r)=>{n&&We(i)?t[r]=Lh(i,n):t[r]=i},{allOwnKeys:s}),t),Nx=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ox=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Ix=(t,e,n,s)=>{let i,r,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),r=i.length;r-- >0;)a=i[r],(!s||s(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&_o(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kx=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},Lx=t=>{if(!t)return null;if(kn(t))return t;let e=t.length;if(!Vh(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Mx=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&_o(Uint8Array)),Fx=(t,e)=>{const s=(t&&t[rr]).call(t);let i;for(;(i=s.next())&&!i.done;){const r=i.value;e.call(t,r[0],r[1])}},Vx=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},zx=rt("HTMLFormElement"),jx=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),hc=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Ux=rt("RegExp"),Uh=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};Ms(n,(i,r)=>{let a;(a=e(i,r,t))!==!1&&(s[r]=a||i)}),Object.defineProperties(t,s)},Bx=t=>{Uh(t,(e,n)=>{if(We(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(We(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Hx=(t,e)=>{const n={},s=i=>{i.forEach(r=>{n[r]=!0})};return kn(t)?s(t):s(String(t).split(e)),n},$x=()=>{},Wx=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function qx(t){return!!(t&&We(t.append)&&t[Mh]==="FormData"&&t[rr])}const Gx=t=>{const e=new Array(10),n=(s,i)=>{if(Ls(s)){if(e.indexOf(s)>=0)return;if(ks(s))return s;if(!("toJSON"in s)){e[i]=s;const r=kn(s)?[]:{};return Ms(s,(a,o)=>{const l=n(a,i+1);!ws(l)&&(r[o]=l)}),e[i]=void 0,r}}return s};return n(t,0)},Kx=rt("AsyncFunction"),Yx=t=>t&&(Ls(t)||We(t))&&We(t.then)&&We(t.catch),Bh=((t,e)=>t?setImmediate:e?((n,s)=>(nn.addEventListener("message",({source:i,data:r})=>{i===nn&&r===n&&s.length&&s.shift()()},!1),i=>{s.push(i),nn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",We(nn.postMessage)),Xx=typeof queueMicrotask<"u"?queueMicrotask.bind(nn):typeof process<"u"&&process.nextTick||Bh,Zx=t=>t!=null&&We(t[rr]),P={isArray:kn,isArrayBuffer:Fh,isBuffer:ks,isFormData:wx,isArrayBufferView:mx,isString:px,isNumber:Vh,isBoolean:gx,isObject:Ls,isPlainObject:_i,isEmptyObject:yx,isReadableStream:Ax,isRequest:Ex,isResponse:Cx,isHeaders:Px,isUndefined:ws,isDate:bx,isFile:xx,isBlob:vx,isRegExp:Ux,isFunction:We,isStream:Sx,isURLSearchParams:Tx,isTypedArray:Mx,isFileList:_x,forEach:Ms,merge:Ia,extend:Dx,trim:Rx,stripBOM:Nx,inherits:Ox,toFlatObject:Ix,kindOf:ar,kindOfTest:rt,endsWith:kx,toArray:Lx,forEachEntry:Fx,matchAll:Vx,isHTMLForm:zx,hasOwnProperty:hc,hasOwnProp:hc,reduceDescriptors:Uh,freezeMethods:Bx,toObjectSet:Hx,toCamelCase:jx,noop:$x,toFiniteNumber:Wx,findKey:zh,global:nn,isContextDefined:jh,isSpecCompliantForm:qx,toJSONObject:Gx,isAsyncFn:Kx,isThenable:Yx,setImmediate:Bh,asap:Xx,isIterable:Zx};function q(t,e,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}P.inherits(q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const Hh=q.prototype,$h={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{$h[t]={value:t}});Object.defineProperties(q,$h);Object.defineProperty(Hh,"isAxiosError",{value:!0});q.from=(t,e,n,s,i,r)=>{const a=Object.create(Hh);return P.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),q.call(a,t.message,e,n,s,i),a.cause=t,a.name=t.name,r&&Object.assign(a,r),a};const Jx=null;function ka(t){return P.isPlainObject(t)||P.isArray(t)}function Wh(t){return P.endsWith(t,"[]")?t.slice(0,-2):t}function fc(t,e,n){return t?t.concat(e).map(function(i,r){return i=Wh(i),!n&&r?"["+i+"]":i}).join(n?".":""):e}function Qx(t){return P.isArray(t)&&!t.some(ka)}const ev=P.toFlatObject(P,{},null,function(e){return/^is[A-Z]/.test(e)});function lr(t,e,n){if(!P.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=P.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,S){return!P.isUndefined(S[x])});const s=n.metaTokens,i=n.visitor||d,r=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(e);if(!P.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(P.isDate(p))return p.toISOString();if(P.isBoolean(p))return p.toString();if(!l&&P.isBlob(p))throw new q("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(p)||P.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,x,S){let A=p;if(p&&!S&&typeof p=="object"){if(P.endsWith(x,"{}"))x=s?x:x.slice(0,-2),p=JSON.stringify(p);else if(P.isArray(p)&&Qx(p)||(P.isFileList(p)||P.endsWith(x,"[]"))&&(A=P.toArray(p)))return x=Wh(x),A.forEach(function(y,v){!(P.isUndefined(y)||y===null)&&e.append(a===!0?fc([x],v,r):a===null?x:x+"[]",c(y))}),!1}return ka(p)?!0:(e.append(fc(S,x,r),c(p)),!1)}const h=[],f=Object.assign(ev,{defaultVisitor:d,convertValue:c,isVisitable:ka});function m(p,x){if(!P.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(p),P.forEach(p,function(A,w){(!(P.isUndefined(A)||A===null)&&i.call(e,A,P.isString(w)?w.trim():w,x,f))===!0&&m(A,x?x.concat(w):[w])}),h.pop()}}if(!P.isObject(t))throw new TypeError("data must be an object");return m(t),e}function mc(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function So(t,e){this._pairs=[],t&&lr(t,this,e)}const qh=So.prototype;qh.append=function(e,n){this._pairs.push([e,n])};qh.toString=function(e){const n=e?function(s){return e.call(this,s,mc)}:mc;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function tv(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Gh(t,e,n){if(!e)return t;const s=n&&n.encode||tv;P.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let r;if(i?r=i(e,n):r=P.isURLSearchParams(e)?e.toString():new So(e,n).toString(s),r){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class pc{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){P.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Kh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nv=typeof URLSearchParams<"u"?URLSearchParams:So,sv=typeof FormData<"u"?FormData:null,iv=typeof Blob<"u"?Blob:null,rv={isBrowser:!0,classes:{URLSearchParams:nv,FormData:sv,Blob:iv},protocols:["http","https","file","blob","url","data"]},wo=typeof window<"u"&&typeof document<"u",La=typeof navigator=="object"&&navigator||void 0,av=wo&&(!La||["ReactNative","NativeScript","NS"].indexOf(La.product)<0),ov=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",lv=wo&&window.location.href||"http://localhost",cv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wo,hasStandardBrowserEnv:av,hasStandardBrowserWebWorkerEnv:ov,navigator:La,origin:lv},Symbol.toStringTag,{value:"Module"})),Oe={...cv,...rv};function uv(t,e){return lr(t,new Oe.classes.URLSearchParams,{visitor:function(n,s,i,r){return Oe.isNode&&P.isBuffer(n)?(this.append(s,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function dv(t){return P.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function hv(t){const e={},n=Object.keys(t);let s;const i=n.length;let r;for(s=0;s<i;s++)r=n[s],e[r]=t[r];return e}function Yh(t){function e(n,s,i,r){let a=n[r++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=r>=n.length;return a=!a&&P.isArray(i)?i.length:a,l?(P.hasOwnProp(i,a)?i[a]=[i[a],s]:i[a]=s,!o):((!i[a]||!P.isObject(i[a]))&&(i[a]=[]),e(n,s,i[a],r)&&P.isArray(i[a])&&(i[a]=hv(i[a])),!o)}if(P.isFormData(t)&&P.isFunction(t.entries)){const n={};return P.forEachEntry(t,(s,i)=>{e(dv(s),i,n,0)}),n}return null}function fv(t,e,n){if(P.isString(t))try{return(e||JSON.parse)(t),P.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const Fs={transitional:Kh,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,r=P.isObject(e);if(r&&P.isHTMLForm(e)&&(e=new FormData(e)),P.isFormData(e))return i?JSON.stringify(Yh(e)):e;if(P.isArrayBuffer(e)||P.isBuffer(e)||P.isStream(e)||P.isFile(e)||P.isBlob(e)||P.isReadableStream(e))return e;if(P.isArrayBufferView(e))return e.buffer;if(P.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return uv(e,this.formSerializer).toString();if((o=P.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return lr(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||i?(n.setContentType("application/json",!1),fv(e)):e}],transformResponse:[function(e){const n=this.transitional||Fs.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(P.isResponse(e)||P.isReadableStream(e))return e;if(e&&P.isString(e)&&(s&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?q.from(o,q.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Oe.classes.FormData,Blob:Oe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],t=>{Fs.headers[t]={}});const mv=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pv=t=>{const e={};let n,s,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),s=a.substring(i+1).trim(),!(!n||e[n]&&mv[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},gc=Symbol("internals");function Hn(t){return t&&String(t).trim().toLowerCase()}function Si(t){return t===!1||t==null?t:P.isArray(t)?t.map(Si):String(t)}function gv(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const yv=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function $r(t,e,n,s,i){if(P.isFunction(s))return s.call(this,e,n);if(i&&(e=n),!!P.isString(e)){if(P.isString(s))return e.indexOf(s)!==-1;if(P.isRegExp(s))return s.test(e)}}function bv(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function xv(t,e){const n=P.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(i,r,a){return this[s].call(this,e,i,r,a)},configurable:!0})})}let qe=class{constructor(e){e&&this.set(e)}set(e,n,s){const i=this;function r(o,l,c){const d=Hn(l);if(!d)throw new Error("header name must be a non-empty string");const h=P.findKey(i,d);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=Si(o))}const a=(o,l)=>P.forEach(o,(c,d)=>r(c,d,l));if(P.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(P.isString(e)&&(e=e.trim())&&!yv(e))a(pv(e),n);else if(P.isObject(e)&&P.isIterable(e)){let o={},l,c;for(const d of e){if(!P.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[c=d[0]]=(l=o[c])?P.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}a(o,n)}else e!=null&&r(n,e,s);return this}get(e,n){if(e=Hn(e),e){const s=P.findKey(this,e);if(s){const i=this[s];if(!n)return i;if(n===!0)return gv(i);if(P.isFunction(n))return n.call(this,i,s);if(P.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Hn(e),e){const s=P.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||$r(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let i=!1;function r(a){if(a=Hn(a),a){const o=P.findKey(s,a);o&&(!n||$r(s,s[o],o,n))&&(delete s[o],i=!0)}}return P.isArray(e)?e.forEach(r):r(e),i}clear(e){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const r=n[s];(!e||$r(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const n=this,s={};return P.forEach(this,(i,r)=>{const a=P.findKey(s,r);if(a){n[a]=Si(i),delete n[r];return}const o=e?bv(r):String(r).trim();o!==r&&delete n[r],n[o]=Si(i),s[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return P.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=e&&P.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(i=>s.set(i)),s}static accessor(e){const s=(this[gc]=this[gc]={accessors:{}}).accessors,i=this.prototype;function r(a){const o=Hn(a);s[o]||(xv(i,a),s[o]=!0)}return P.isArray(e)?e.forEach(r):r(e),this}};qe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(qe.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});P.freezeMethods(qe);function Wr(t,e){const n=this||Fs,s=e||n,i=qe.from(s.headers);let r=s.data;return P.forEach(t,function(o){r=o.call(n,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function Xh(t){return!!(t&&t.__CANCEL__)}function Ln(t,e,n){q.call(this,t??"canceled",q.ERR_CANCELED,e,n),this.name="CanceledError"}P.inherits(Ln,q,{__CANCEL__:!0});function Zh(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new q("Request failed with status code "+n.status,[q.ERR_BAD_REQUEST,q.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function vv(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function _v(t,e){t=t||10;const n=new Array(t),s=new Array(t);let i=0,r=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=s[r];a||(a=c),n[i]=l,s[i]=c;let h=r,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===r&&(r=(r+1)%t),c-a<e)return;const m=d&&c-d;return m?Math.round(f*1e3/m):void 0}}function Sv(t,e){let n=0,s=1e3/e,i,r;const a=(c,d=Date.now())=>{n=d,i=null,r&&(clearTimeout(r),r=null),t(...c)};return[(...c)=>{const d=Date.now(),h=d-n;h>=s?a(c,d):(i=c,r||(r=setTimeout(()=>{r=null,a(i)},s-h)))},()=>i&&a(i)]}const zi=(t,e,n=3)=>{let s=0;const i=_v(50,250);return Sv(r=>{const a=r.loaded,o=r.lengthComputable?r.total:void 0,l=a-s,c=i(l),d=a<=o;s=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&d?(o-a)/c:void 0,event:r,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},n)},yc=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},bc=t=>(...e)=>P.asap(()=>t(...e)),wv=Oe.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Oe.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Oe.origin),Oe.navigator&&/(msie|trident)/i.test(Oe.navigator.userAgent)):()=>!0,Tv=Oe.hasStandardBrowserEnv?{write(t,e,n,s,i,r){const a=[t+"="+encodeURIComponent(e)];P.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),P.isString(s)&&a.push("path="+s),P.isString(i)&&a.push("domain="+i),r===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Av(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ev(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Jh(t,e,n){let s=!Av(e);return t&&(s||n==!1)?Ev(t,e):e}const xc=t=>t instanceof qe?{...t}:t;function dn(t,e){e=e||{};const n={};function s(c,d,h,f){return P.isPlainObject(c)&&P.isPlainObject(d)?P.merge.call({caseless:f},c,d):P.isPlainObject(d)?P.merge({},d):P.isArray(d)?d.slice():d}function i(c,d,h,f){if(P.isUndefined(d)){if(!P.isUndefined(c))return s(void 0,c,h,f)}else return s(c,d,h,f)}function r(c,d){if(!P.isUndefined(d))return s(void 0,d)}function a(c,d){if(P.isUndefined(d)){if(!P.isUndefined(c))return s(void 0,c)}else return s(void 0,d)}function o(c,d,h){if(h in e)return s(c,d);if(h in t)return s(void 0,c)}const l={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,d,h)=>i(xc(c),xc(d),h,!0)};return P.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||i,f=h(t[d],e[d],d);P.isUndefined(f)&&h!==o||(n[d]=f)}),n}const Qh=t=>{const e=dn({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:r,headers:a,auth:o}=e;e.headers=a=qe.from(a),e.url=Gh(Jh(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(P.isFormData(n)){if(Oe.hasStandardBrowserEnv||Oe.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[c,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...d].join("; "))}}if(Oe.hasStandardBrowserEnv&&(s&&P.isFunction(s)&&(s=s(e)),s||s!==!1&&wv(e.url))){const c=i&&r&&Tv.read(r);c&&a.set(i,c)}return e},Cv=typeof XMLHttpRequest<"u",Pv=Cv&&function(t){return new Promise(function(n,s){const i=Qh(t);let r=i.data;const a=qe.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,d,h,f,m,p;function x(){m&&m(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function A(){if(!S)return;const y=qe.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),T={data:!o||o==="text"||o==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:y,config:t,request:S};Zh(function(C){n(C),x()},function(C){s(C),x()},T),S=null}"onloadend"in S?S.onloadend=A:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(A)},S.onabort=function(){S&&(s(new q("Request aborted",q.ECONNABORTED,t,S)),S=null)},S.onerror=function(){s(new q("Network Error",q.ERR_NETWORK,t,S)),S=null},S.ontimeout=function(){let v=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||Kh;i.timeoutErrorMessage&&(v=i.timeoutErrorMessage),s(new q(v,T.clarifyTimeoutError?q.ETIMEDOUT:q.ECONNABORTED,t,S)),S=null},r===void 0&&a.setContentType(null),"setRequestHeader"in S&&P.forEach(a.toJSON(),function(v,T){S.setRequestHeader(T,v)}),P.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),o&&o!=="json"&&(S.responseType=i.responseType),c&&([f,p]=zi(c,!0),S.addEventListener("progress",f)),l&&S.upload&&([h,m]=zi(l),S.upload.addEventListener("progress",h),S.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=y=>{S&&(s(!y||y.type?new Ln(null,t,S):y),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const w=vv(i.url);if(w&&Oe.protocols.indexOf(w)===-1){s(new q("Unsupported protocol "+w+":",q.ERR_BAD_REQUEST,t));return}S.send(r||null)})},Rv=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,i;const r=function(c){if(!i){i=!0,o();const d=c instanceof Error?c:this.reason;s.abort(d instanceof q?d:new Ln(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,r(new q(`timeout ${e} of ms exceeded`,q.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),t=null)};t.forEach(c=>c.addEventListener("abort",r));const{signal:l}=s;return l.unsubscribe=()=>P.asap(o),l}},Dv=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,i;for(;s<n;)i=s+e,yield t.slice(s,i),s=i},Nv=async function*(t,e){for await(const n of Ov(t))yield*Dv(n,e)},Ov=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},vc=(t,e,n,s)=>{const i=Nv(t,e);let r=0,a,o=l=>{a||(a=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){o(),l.close();return}let h=d.byteLength;if(n){let f=r+=h;n(f)}l.enqueue(new Uint8Array(d))}catch(c){throw o(c),c}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},cr=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ef=cr&&typeof ReadableStream=="function",Iv=cr&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),tf=(t,...e)=>{try{return!!t(...e)}catch{return!1}},kv=ef&&tf(()=>{let t=!1;const e=new Request(Oe.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),_c=64*1024,Ma=ef&&tf(()=>P.isReadableStream(new Response("").body)),ji={stream:Ma&&(t=>t.body)};cr&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ji[e]&&(ji[e]=P.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new q(`Response type '${e}' is not supported`,q.ERR_NOT_SUPPORT,s)})})})(new Response);const Lv=async t=>{if(t==null)return 0;if(P.isBlob(t))return t.size;if(P.isSpecCompliantForm(t))return(await new Request(Oe.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(P.isArrayBufferView(t)||P.isArrayBuffer(t))return t.byteLength;if(P.isURLSearchParams(t)&&(t=t+""),P.isString(t))return(await Iv(t)).byteLength},Mv=async(t,e)=>{const n=P.toFiniteNumber(t.getContentLength());return n??Lv(e)},Fv=cr&&(async t=>{let{url:e,method:n,data:s,signal:i,cancelToken:r,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:h="same-origin",fetchOptions:f}=Qh(t);c=c?(c+"").toLowerCase():"text";let m=Rv([i,r&&r.toAbortSignal()],a),p;const x=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let S;try{if(l&&kv&&n!=="get"&&n!=="head"&&(S=await Mv(d,s))!==0){let T=new Request(e,{method:"POST",body:s,duplex:"half"}),D;if(P.isFormData(s)&&(D=T.headers.get("content-type"))&&d.setContentType(D),T.body){const[C,E]=yc(S,zi(bc(l)));s=vc(T.body,_c,C,E)}}P.isString(h)||(h=h?"include":"omit");const A="credentials"in Request.prototype;p=new Request(e,{...f,signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:A?h:void 0});let w=await fetch(p,f);const y=Ma&&(c==="stream"||c==="response");if(Ma&&(o||y&&x)){const T={};["status","statusText","headers"].forEach(R=>{T[R]=w[R]});const D=P.toFiniteNumber(w.headers.get("content-length")),[C,E]=o&&yc(D,zi(bc(o),!0))||[];w=new Response(vc(w.body,_c,C,()=>{E&&E(),x&&x()}),T)}c=c||"text";let v=await ji[P.findKey(ji,c)||"text"](w,t);return!y&&x&&x(),await new Promise((T,D)=>{Zh(T,D,{data:v,headers:qe.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:p})})}catch(A){throw x&&x(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new q("Network Error",q.ERR_NETWORK,t,p),{cause:A.cause||A}):q.from(A,A&&A.code,t,p)}}),Fa={http:Jx,xhr:Pv,fetch:Fv};P.forEach(Fa,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Sc=t=>`- ${t}`,Vv=t=>P.isFunction(t)||t===null||t===!1,nf={getAdapter:t=>{t=P.isArray(t)?t:[t];const{length:e}=t;let n,s;const i={};for(let r=0;r<e;r++){n=t[r];let a;if(s=n,!Vv(n)&&(s=Fa[(a=String(n)).toLowerCase()],s===void 0))throw new q(`Unknown adapter '${a}'`);if(s)break;i[a||"#"+r]=s}if(!s){const r=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?r.length>1?`since :
`+r.map(Sc).join(`
`):" "+Sc(r[0]):"as no adapter specified";throw new q("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s},adapters:Fa};function qr(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ln(null,t)}function wc(t){return qr(t),t.headers=qe.from(t.headers),t.data=Wr.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),nf.getAdapter(t.adapter||Fs.adapter)(t).then(function(s){return qr(t),s.data=Wr.call(t,t.transformResponse,s),s.headers=qe.from(s.headers),s},function(s){return Xh(s)||(qr(t),s&&s.response&&(s.response.data=Wr.call(t,t.transformResponse,s.response),s.response.headers=qe.from(s.response.headers))),Promise.reject(s)})}const sf="1.11.0",ur={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ur[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Tc={};ur.transitional=function(e,n,s){function i(r,a){return"[Axios v"+sf+"] Transitional option '"+r+"'"+a+(s?". "+s:"")}return(r,a,o)=>{if(e===!1)throw new q(i(a," has been removed"+(n?" in "+n:"")),q.ERR_DEPRECATED);return n&&!Tc[a]&&(Tc[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,a,o):!0}};ur.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function zv(t,e,n){if(typeof t!="object")throw new q("options must be an object",q.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const r=s[i],a=e[r];if(a){const o=t[r],l=o===void 0||a(o,r,t);if(l!==!0)throw new q("option "+r+" must be "+l,q.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new q("Unknown option "+r,q.ERR_BAD_OPTION)}}const wi={assertOptions:zv,validators:ur},ot=wi.validators;let ln=class{constructor(e){this.defaults=e||{},this.interceptors={request:new pc,response:new pc}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=dn(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:r}=n;s!==void 0&&wi.assertOptions(s,{silentJSONParsing:ot.transitional(ot.boolean),forcedJSONParsing:ot.transitional(ot.boolean),clarifyTimeoutError:ot.transitional(ot.boolean)},!1),i!=null&&(P.isFunction(i)?n.paramsSerializer={serialize:i}:wi.assertOptions(i,{encode:ot.function,serialize:ot.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),wi.assertOptions(n,{baseUrl:ot.spelling("baseURL"),withXsrfToken:ot.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=r&&P.merge(r.common,r[n.method]);r&&P.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),n.headers=qe.concat(a,r);const o=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(l=l&&x.synchronous,o.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let d,h=0,f;if(!l){const p=[wc.bind(this),void 0];for(p.unshift(...o),p.push(...c),f=p.length,d=Promise.resolve(n);h<f;)d=d.then(p[h++],p[h++]);return d}f=o.length;let m=n;for(h=0;h<f;){const p=o[h++],x=o[h++];try{m=p(m)}catch(S){x.call(this,S);break}}try{d=wc.call(this,m)}catch(p){return Promise.reject(p)}for(h=0,f=c.length;h<f;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=dn(this.defaults,e);const n=Jh(e.baseURL,e.url,e.allowAbsoluteUrls);return Gh(n,e.params,e.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(e){ln.prototype[e]=function(n,s){return this.request(dn(s||{},{method:e,url:n,data:(s||{}).data}))}});P.forEach(["post","put","patch"],function(e){function n(s){return function(r,a,o){return this.request(dn(o||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}ln.prototype[e]=n(),ln.prototype[e+"Form"]=n(!0)});let jv=class rf{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const s=this;this.promise.then(i=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](i);s._listeners=null}),this.promise.then=i=>{let r;const a=new Promise(o=>{s.subscribe(o),r=o}).then(i);return a.cancel=function(){s.unsubscribe(r)},a},e(function(r,a,o){s.reason||(s.reason=new Ln(r,a,o),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new rf(function(i){e=i}),cancel:e}}};function Uv(t){return function(n){return t.apply(null,n)}}function Bv(t){return P.isObject(t)&&t.isAxiosError===!0}const Va={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Va).forEach(([t,e])=>{Va[e]=t});function af(t){const e=new ln(t),n=Lh(ln.prototype.request,e);return P.extend(n,ln.prototype,e,{allOwnKeys:!0}),P.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return af(dn(t,i))},n}const de=af(Fs);de.Axios=ln;de.CanceledError=Ln;de.CancelToken=jv;de.isCancel=Xh;de.VERSION=sf;de.toFormData=lr;de.AxiosError=q;de.Cancel=de.CanceledError;de.all=function(e){return Promise.all(e)};de.spread=Uv;de.isAxiosError=Bv;de.mergeConfig=dn;de.AxiosHeaders=qe;de.formToJSON=t=>Yh(P.isHTMLForm(t)?new FormData(t):t);de.getAdapter=nf.getAdapter;de.HttpStatusCode=Va;de.default=de;const{Axios:hA,AxiosError:fA,CanceledError:mA,isCancel:pA,CancelToken:gA,VERSION:yA,all:bA,Cancel:xA,isAxiosError:vA,spread:_A,toFormData:SA,AxiosHeaders:wA,HttpStatusCode:TA,formToJSON:AA,getAdapter:EA,mergeConfig:CA}=de;/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:of,setPrototypeOf:Ac,isFrozen:Hv,getPrototypeOf:$v,getOwnPropertyDescriptor:Wv}=Object;let{freeze:Ve,seal:nt,create:lf}=Object,{apply:za,construct:ja}=typeof Reflect<"u"&&Reflect;Ve||(Ve=function(e){return e});nt||(nt=function(e){return e});za||(za=function(e,n,s){return e.apply(n,s)});ja||(ja=function(e,n){return new e(...n)});const ei=ze(Array.prototype.forEach),qv=ze(Array.prototype.lastIndexOf),Ec=ze(Array.prototype.pop),$n=ze(Array.prototype.push),Gv=ze(Array.prototype.splice),Ti=ze(String.prototype.toLowerCase),Gr=ze(String.prototype.toString),Cc=ze(String.prototype.match),Wn=ze(String.prototype.replace),Kv=ze(String.prototype.indexOf),Yv=ze(String.prototype.trim),it=ze(Object.prototype.hasOwnProperty),Le=ze(RegExp.prototype.test),qn=Xv(TypeError);function ze(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return za(t,e,s)}}function Xv(t){return function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return ja(t,n)}}function K(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ti;Ac&&Ac(t,null);let s=e.length;for(;s--;){let i=e[s];if(typeof i=="string"){const r=n(i);r!==i&&(Hv(e)||(e[s]=r),i=r)}t[i]=!0}return t}function Zv(t){for(let e=0;e<t.length;e++)it(t,e)||(t[e]=null);return t}function yt(t){const e=lf(null);for(const[n,s]of of(t))it(t,n)&&(Array.isArray(s)?e[n]=Zv(s):s&&typeof s=="object"&&s.constructor===Object?e[n]=yt(s):e[n]=s);return e}function Gn(t,e){for(;t!==null;){const s=Wv(t,e);if(s){if(s.get)return ze(s.get);if(typeof s.value=="function")return ze(s.value)}t=$v(t)}function n(){return null}return n}const Pc=Ve(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Kr=Ve(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Yr=Ve(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Jv=Ve(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Xr=Ve(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Qv=Ve(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Rc=Ve(["#text"]),Dc=Ve(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Zr=Ve(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Nc=Ve(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ti=Ve(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),e_=nt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),t_=nt(/<%[\w\W]*|[\w\W]*%>/gm),n_=nt(/\$\{[\w\W]*/gm),s_=nt(/^data-[\-\w.\u00B7-\uFFFF]+$/),i_=nt(/^aria-[\-\w]+$/),cf=nt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),r_=nt(/^(?:\w+script|data):/i),a_=nt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),uf=nt(/^html$/i),o_=nt(/^[a-z][.\w]*(-[.\w]+)+$/i);var Oc=Object.freeze({__proto__:null,ARIA_ATTR:i_,ATTR_WHITESPACE:a_,CUSTOM_ELEMENT:o_,DATA_ATTR:s_,DOCTYPE_NAME:uf,ERB_EXPR:t_,IS_ALLOWED_URI:cf,IS_SCRIPT_OR_DATA:r_,MUSTACHE_EXPR:e_,TMPLIT_EXPR:n_});const Kn={element:1,text:3,progressingInstruction:7,comment:8,document:9},l_=function(){return typeof window>"u"?null:window},c_=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let s=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(s=n.getAttribute(i));const r="dompurify"+(s?"#"+s:"");try{return e.createPolicy(r,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}},Ic=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function df(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l_();const e=j=>df(j);if(e.version="3.2.6",e.removed=[],!t||!t.document||t.document.nodeType!==Kn.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const s=n,i=s.currentScript,{DocumentFragment:r,HTMLTemplateElement:a,Node:o,Element:l,NodeFilter:c,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:m}=t,p=l.prototype,x=Gn(p,"cloneNode"),S=Gn(p,"remove"),A=Gn(p,"nextSibling"),w=Gn(p,"childNodes"),y=Gn(p,"parentNode");if(typeof a=="function"){const j=n.createElement("template");j.content&&j.content.ownerDocument&&(n=j.content.ownerDocument)}let v,T="";const{implementation:D,createNodeIterator:C,createDocumentFragment:E,getElementsByTagName:R}=n,{importNode:F}=s;let z=Ic();e.isSupported=typeof of=="function"&&typeof y=="function"&&D&&D.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:N,ERB_EXPR:U,TMPLIT_EXPR:O,DATA_ATTR:B,ARIA_ATTR:W,IS_SCRIPT_OR_DATA:te,ATTR_WHITESPACE:Ce,CUSTOM_ELEMENT:ye}=Oc;let{IS_ALLOWED_URI:je}=Oc,H=null;const we=K({},[...Pc,...Kr,...Yr,...Xr,...Rc]);let ne=null;const ke=K({},[...Dc,...Zr,...Nc,...ti]);let X=Object.seal(lf(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),oe=null,Rt=null,gn=!0,M=!0,le=!1,st=!0,ht=!1,Us=!0,Wt=!1,yr=!1,br=!1,yn=!1,Bs=!1,Hs=!1,Mo=!0,Fo=!1;const Bf="user-content-";let xr=!0,Vn=!1,bn={},xn=null;const Vo=K({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let zo=null;const jo=K({},["audio","video","img","source","image","track"]);let vr=null;const Uo=K({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),$s="http://www.w3.org/1998/Math/MathML",Ws="http://www.w3.org/2000/svg",ft="http://www.w3.org/1999/xhtml";let vn=ft,_r=!1,Sr=null;const Hf=K({},[$s,Ws,ft],Gr);let qs=K({},["mi","mo","mn","ms","mtext"]),Gs=K({},["annotation-xml"]);const $f=K({},["title","style","font","a","script"]);let zn=null;const Wf=["application/xhtml+xml","text/html"],qf="text/html";let be=null,_n=null;const Gf=n.createElement("form"),Bo=function(_){return _ instanceof RegExp||_ instanceof Function},wr=function(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(_n&&_n===_)){if((!_||typeof _!="object")&&(_={}),_=yt(_),zn=Wf.indexOf(_.PARSER_MEDIA_TYPE)===-1?qf:_.PARSER_MEDIA_TYPE,be=zn==="application/xhtml+xml"?Gr:Ti,H=it(_,"ALLOWED_TAGS")?K({},_.ALLOWED_TAGS,be):we,ne=it(_,"ALLOWED_ATTR")?K({},_.ALLOWED_ATTR,be):ke,Sr=it(_,"ALLOWED_NAMESPACES")?K({},_.ALLOWED_NAMESPACES,Gr):Hf,vr=it(_,"ADD_URI_SAFE_ATTR")?K(yt(Uo),_.ADD_URI_SAFE_ATTR,be):Uo,zo=it(_,"ADD_DATA_URI_TAGS")?K(yt(jo),_.ADD_DATA_URI_TAGS,be):jo,xn=it(_,"FORBID_CONTENTS")?K({},_.FORBID_CONTENTS,be):Vo,oe=it(_,"FORBID_TAGS")?K({},_.FORBID_TAGS,be):yt({}),Rt=it(_,"FORBID_ATTR")?K({},_.FORBID_ATTR,be):yt({}),bn=it(_,"USE_PROFILES")?_.USE_PROFILES:!1,gn=_.ALLOW_ARIA_ATTR!==!1,M=_.ALLOW_DATA_ATTR!==!1,le=_.ALLOW_UNKNOWN_PROTOCOLS||!1,st=_.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ht=_.SAFE_FOR_TEMPLATES||!1,Us=_.SAFE_FOR_XML!==!1,Wt=_.WHOLE_DOCUMENT||!1,yn=_.RETURN_DOM||!1,Bs=_.RETURN_DOM_FRAGMENT||!1,Hs=_.RETURN_TRUSTED_TYPE||!1,br=_.FORCE_BODY||!1,Mo=_.SANITIZE_DOM!==!1,Fo=_.SANITIZE_NAMED_PROPS||!1,xr=_.KEEP_CONTENT!==!1,Vn=_.IN_PLACE||!1,je=_.ALLOWED_URI_REGEXP||cf,vn=_.NAMESPACE||ft,qs=_.MATHML_TEXT_INTEGRATION_POINTS||qs,Gs=_.HTML_INTEGRATION_POINTS||Gs,X=_.CUSTOM_ELEMENT_HANDLING||{},_.CUSTOM_ELEMENT_HANDLING&&Bo(_.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(X.tagNameCheck=_.CUSTOM_ELEMENT_HANDLING.tagNameCheck),_.CUSTOM_ELEMENT_HANDLING&&Bo(_.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(X.attributeNameCheck=_.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),_.CUSTOM_ELEMENT_HANDLING&&typeof _.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(X.allowCustomizedBuiltInElements=_.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ht&&(M=!1),Bs&&(yn=!0),bn&&(H=K({},Rc),ne=[],bn.html===!0&&(K(H,Pc),K(ne,Dc)),bn.svg===!0&&(K(H,Kr),K(ne,Zr),K(ne,ti)),bn.svgFilters===!0&&(K(H,Yr),K(ne,Zr),K(ne,ti)),bn.mathMl===!0&&(K(H,Xr),K(ne,Nc),K(ne,ti))),_.ADD_TAGS&&(H===we&&(H=yt(H)),K(H,_.ADD_TAGS,be)),_.ADD_ATTR&&(ne===ke&&(ne=yt(ne)),K(ne,_.ADD_ATTR,be)),_.ADD_URI_SAFE_ATTR&&K(vr,_.ADD_URI_SAFE_ATTR,be),_.FORBID_CONTENTS&&(xn===Vo&&(xn=yt(xn)),K(xn,_.FORBID_CONTENTS,be)),xr&&(H["#text"]=!0),Wt&&K(H,["html","head","body"]),H.table&&(K(H,["tbody"]),delete oe.tbody),_.TRUSTED_TYPES_POLICY){if(typeof _.TRUSTED_TYPES_POLICY.createHTML!="function")throw qn('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof _.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw qn('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');v=_.TRUSTED_TYPES_POLICY,T=v.createHTML("")}else v===void 0&&(v=c_(m,i)),v!==null&&typeof T=="string"&&(T=v.createHTML(""));Ve&&Ve(_),_n=_}},Ho=K({},[...Kr,...Yr,...Jv]),$o=K({},[...Xr,...Qv]),Kf=function(_){let I=y(_);(!I||!I.tagName)&&(I={namespaceURI:vn,tagName:"template"});const V=Ti(_.tagName),re=Ti(I.tagName);return Sr[_.namespaceURI]?_.namespaceURI===Ws?I.namespaceURI===ft?V==="svg":I.namespaceURI===$s?V==="svg"&&(re==="annotation-xml"||qs[re]):!!Ho[V]:_.namespaceURI===$s?I.namespaceURI===ft?V==="math":I.namespaceURI===Ws?V==="math"&&Gs[re]:!!$o[V]:_.namespaceURI===ft?I.namespaceURI===Ws&&!Gs[re]||I.namespaceURI===$s&&!qs[re]?!1:!$o[V]&&($f[V]||!Ho[V]):!!(zn==="application/xhtml+xml"&&Sr[_.namespaceURI]):!1},at=function(_){$n(e.removed,{element:_});try{y(_).removeChild(_)}catch{S(_)}},Sn=function(_,I){try{$n(e.removed,{attribute:I.getAttributeNode(_),from:I})}catch{$n(e.removed,{attribute:null,from:I})}if(I.removeAttribute(_),_==="is")if(yn||Bs)try{at(I)}catch{}else try{I.setAttribute(_,"")}catch{}},Wo=function(_){let I=null,V=null;if(br)_="<remove></remove>"+_;else{const pe=Cc(_,/^[\r\n\t ]+/);V=pe&&pe[0]}zn==="application/xhtml+xml"&&vn===ft&&(_='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+_+"</body></html>");const re=v?v.createHTML(_):_;if(vn===ft)try{I=new f().parseFromString(re,zn)}catch{}if(!I||!I.documentElement){I=D.createDocument(vn,"template",null);try{I.documentElement.innerHTML=_r?T:re}catch{}}const Pe=I.body||I.documentElement;return _&&V&&Pe.insertBefore(n.createTextNode(V),Pe.childNodes[0]||null),vn===ft?R.call(I,Wt?"html":"body")[0]:Wt?I.documentElement:Pe},qo=function(_){return C.call(_.ownerDocument||_,_,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Tr=function(_){return _ instanceof h&&(typeof _.nodeName!="string"||typeof _.textContent!="string"||typeof _.removeChild!="function"||!(_.attributes instanceof d)||typeof _.removeAttribute!="function"||typeof _.setAttribute!="function"||typeof _.namespaceURI!="string"||typeof _.insertBefore!="function"||typeof _.hasChildNodes!="function")},Go=function(_){return typeof o=="function"&&_ instanceof o};function mt(j,_,I){ei(j,V=>{V.call(e,_,I,_n)})}const Ko=function(_){let I=null;if(mt(z.beforeSanitizeElements,_,null),Tr(_))return at(_),!0;const V=be(_.nodeName);if(mt(z.uponSanitizeElement,_,{tagName:V,allowedTags:H}),Us&&_.hasChildNodes()&&!Go(_.firstElementChild)&&Le(/<[/\w!]/g,_.innerHTML)&&Le(/<[/\w!]/g,_.textContent)||_.nodeType===Kn.progressingInstruction||Us&&_.nodeType===Kn.comment&&Le(/<[/\w]/g,_.data))return at(_),!0;if(!H[V]||oe[V]){if(!oe[V]&&Xo(V)&&(X.tagNameCheck instanceof RegExp&&Le(X.tagNameCheck,V)||X.tagNameCheck instanceof Function&&X.tagNameCheck(V)))return!1;if(xr&&!xn[V]){const re=y(_)||_.parentNode,Pe=w(_)||_.childNodes;if(Pe&&re){const pe=Pe.length;for(let Ue=pe-1;Ue>=0;--Ue){const pt=x(Pe[Ue],!0);pt.__removalCount=(_.__removalCount||0)+1,re.insertBefore(pt,A(_))}}}return at(_),!0}return _ instanceof l&&!Kf(_)||(V==="noscript"||V==="noembed"||V==="noframes")&&Le(/<\/no(script|embed|frames)/i,_.innerHTML)?(at(_),!0):(ht&&_.nodeType===Kn.text&&(I=_.textContent,ei([N,U,O],re=>{I=Wn(I,re," ")}),_.textContent!==I&&($n(e.removed,{element:_.cloneNode()}),_.textContent=I)),mt(z.afterSanitizeElements,_,null),!1)},Yo=function(_,I,V){if(Mo&&(I==="id"||I==="name")&&(V in n||V in Gf))return!1;if(!(M&&!Rt[I]&&Le(B,I))){if(!(gn&&Le(W,I))){if(!ne[I]||Rt[I]){if(!(Xo(_)&&(X.tagNameCheck instanceof RegExp&&Le(X.tagNameCheck,_)||X.tagNameCheck instanceof Function&&X.tagNameCheck(_))&&(X.attributeNameCheck instanceof RegExp&&Le(X.attributeNameCheck,I)||X.attributeNameCheck instanceof Function&&X.attributeNameCheck(I))||I==="is"&&X.allowCustomizedBuiltInElements&&(X.tagNameCheck instanceof RegExp&&Le(X.tagNameCheck,V)||X.tagNameCheck instanceof Function&&X.tagNameCheck(V))))return!1}else if(!vr[I]){if(!Le(je,Wn(V,Ce,""))){if(!((I==="src"||I==="xlink:href"||I==="href")&&_!=="script"&&Kv(V,"data:")===0&&zo[_])){if(!(le&&!Le(te,Wn(V,Ce,"")))){if(V)return!1}}}}}}return!0},Xo=function(_){return _!=="annotation-xml"&&Cc(_,ye)},Zo=function(_){mt(z.beforeSanitizeAttributes,_,null);const{attributes:I}=_;if(!I||Tr(_))return;const V={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ne,forceKeepAttr:void 0};let re=I.length;for(;re--;){const Pe=I[re],{name:pe,namespaceURI:Ue,value:pt}=Pe,jn=be(pe),Ar=pt;let Re=pe==="value"?Ar:Yv(Ar);if(V.attrName=jn,V.attrValue=Re,V.keepAttr=!0,V.forceKeepAttr=void 0,mt(z.uponSanitizeAttribute,_,V),Re=V.attrValue,Fo&&(jn==="id"||jn==="name")&&(Sn(pe,_),Re=Bf+Re),Us&&Le(/((--!?|])>)|<\/(style|title)/i,Re)){Sn(pe,_);continue}if(V.forceKeepAttr)continue;if(!V.keepAttr){Sn(pe,_);continue}if(!st&&Le(/\/>/i,Re)){Sn(pe,_);continue}ht&&ei([N,U,O],Qo=>{Re=Wn(Re,Qo," ")});const Jo=be(_.nodeName);if(!Yo(Jo,jn,Re)){Sn(pe,_);continue}if(v&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!Ue)switch(m.getAttributeType(Jo,jn)){case"TrustedHTML":{Re=v.createHTML(Re);break}case"TrustedScriptURL":{Re=v.createScriptURL(Re);break}}if(Re!==Ar)try{Ue?_.setAttributeNS(Ue,pe,Re):_.setAttribute(pe,Re),Tr(_)?at(_):Ec(e.removed)}catch{Sn(pe,_)}}mt(z.afterSanitizeAttributes,_,null)},Yf=function j(_){let I=null;const V=qo(_);for(mt(z.beforeSanitizeShadowDOM,_,null);I=V.nextNode();)mt(z.uponSanitizeShadowNode,I,null),Ko(I),Zo(I),I.content instanceof r&&j(I.content);mt(z.afterSanitizeShadowDOM,_,null)};return e.sanitize=function(j){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=null,V=null,re=null,Pe=null;if(_r=!j,_r&&(j="<!-->"),typeof j!="string"&&!Go(j))if(typeof j.toString=="function"){if(j=j.toString(),typeof j!="string")throw qn("dirty is not a string, aborting")}else throw qn("toString is not a function");if(!e.isSupported)return j;if(yr||wr(_),e.removed=[],typeof j=="string"&&(Vn=!1),Vn){if(j.nodeName){const pt=be(j.nodeName);if(!H[pt]||oe[pt])throw qn("root node is forbidden and cannot be sanitized in-place")}}else if(j instanceof o)I=Wo("<!---->"),V=I.ownerDocument.importNode(j,!0),V.nodeType===Kn.element&&V.nodeName==="BODY"||V.nodeName==="HTML"?I=V:I.appendChild(V);else{if(!yn&&!ht&&!Wt&&j.indexOf("<")===-1)return v&&Hs?v.createHTML(j):j;if(I=Wo(j),!I)return yn?null:Hs?T:""}I&&br&&at(I.firstChild);const pe=qo(Vn?j:I);for(;re=pe.nextNode();)Ko(re),Zo(re),re.content instanceof r&&Yf(re.content);if(Vn)return j;if(yn){if(Bs)for(Pe=E.call(I.ownerDocument);I.firstChild;)Pe.appendChild(I.firstChild);else Pe=I;return(ne.shadowroot||ne.shadowrootmode)&&(Pe=F.call(s,Pe,!0)),Pe}let Ue=Wt?I.outerHTML:I.innerHTML;return Wt&&H["!doctype"]&&I.ownerDocument&&I.ownerDocument.doctype&&I.ownerDocument.doctype.name&&Le(uf,I.ownerDocument.doctype.name)&&(Ue="<!DOCTYPE "+I.ownerDocument.doctype.name+`>
`+Ue),ht&&ei([N,U,O],pt=>{Ue=Wn(Ue,pt," ")}),v&&Hs?v.createHTML(Ue):Ue},e.setConfig=function(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};wr(j),yr=!0},e.clearConfig=function(){_n=null,yr=!1},e.isValidAttribute=function(j,_,I){_n||wr({});const V=be(j),re=be(_);return Yo(V,re,I)},e.addHook=function(j,_){typeof _=="function"&&$n(z[j],_)},e.removeHook=function(j,_){if(_!==void 0){const I=qv(z[j],_);return I===-1?void 0:Gv(z[j],I,1)[0]}return Ec(z[j])},e.removeHooks=function(j){z[j]=[]},e.removeAllHooks=function(){z=Ic()},e}var u_=df();const An=(t,e={})=>{if(typeof t!="string")return String(t);const{allowHtml:n=!1,maxLength:s=1e3,stripScripts:i=!0,preserveNewlines:r=!1}=e;let a=t;return a.length>s&&(a=a.substring(0,s)),i&&(a=a.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,""),a=a.replace(/javascript:/gi,""),a=a.replace(/on\w+\s*=/gi,"")),n?a=u_.sanitize(a,{ALLOWED_TAGS:["b","i","em","strong","p","br"],ALLOWED_ATTR:[]}):a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),r||(a=a.replace(/[\r\n]/g," ")),a.trim()},d_=t=>{if(!t||typeof t!="string")return!1;const e=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,n=An(t,{maxLength:254});return e.test(n)&&n.length<=254},Jr=()=>{const t=new Uint8Array(32);return crypto.getRandomValues(t),Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")},h_=(t,e)=>!t||!e||typeof t!="string"||typeof e!="string"?!1:t===e&&t.length===64,f_=t=>{if(t==null)return"null";let e;if(typeof t=="object")try{const n={...t},s=["password","token","secret","key","credential"];for(const i of s)n[i]&&(n[i]="[REDACTED]");e=JSON.stringify(n)}catch{e="[Object - JSON serialization failed]"}else e=String(t);return e.replace(/[^\x20-\x7E\u00A0-\uFFFF]/g,"").replace(/[\r\n]/g," ").substring(0,1e3)};class m_{constructor(e="BrainSAIT"){this.context=e,this.sensitiveFields=["password","token","secret","key","credential","auth","ssn","social","dob","dateOfBirth","medicalRecord","patientId","nationalId","passport","visa"]}sanitize(e){return f_(e)}redactSensitiveData(e){if(!e||typeof e!="object")return e;const n={...e};for(const s of this.sensitiveFields)n[s]&&(n[s]="[REDACTED]");for(const[s,i]of Object.entries(n))typeof i=="object"&&i!==null&&(n[s]=this.redactSensitiveData(i));return n}formatMessage(e,n,s=null){const i=new Date().toISOString(),r=this.sanitize(n);let a=`[${i}] [${e.toUpperCase()}] [${this.context}] ${r}`;if(s!==null){const o=this.redactSensitiveData(s),l=this.sanitize(o);a+=` | Data: ${l}`}return a}debug(e,n=null){}info(e,n=null){const s=this.formatMessage("info",e,n);console.info(s)}warn(e,n=null){const s=this.formatMessage("warn",e,n);console.warn(s)}error(e,n=null){let s=null;n instanceof Error?s={name:n.name,message:n.message,stack:"[STACK_REDACTED]"}:n&&(s=n);const i=this.formatMessage("error",e,s);console.error(i)}auditLog(e,n,s,i,r={}){const a={action:this.sanitize(e),userId:this.sanitize(n),resourceType:this.sanitize(s),resourceId:i?"[REDACTED_ID]":null,timestamp:new Date().toISOString(),ipAddress:"[REDACTED_IP]",userAgent:"[REDACTED_UA]",...this.redactSensitiveData(r)},o=`AUDIT: ${e} on ${s} by user ${n}`,l=this.formatMessage("audit",o,a);console.info(l),this.sendToAuditService(a)}async sendToAuditService(e){try{console.info("[AUDIT_SERVICE] Would send audit data:",this.sanitize(e))}catch(n){console.error("[AUDIT_SERVICE] Failed to send audit data:",this.sanitize(n.message))}}performance(e,n,s={}){const i={operation:this.sanitize(e),duration:n,timestamp:new Date().toISOString(),...this.redactSensitiveData(s)},r=`PERFORMANCE: ${e} took ${n}ms`,a=this.formatMessage("perf",r,i);console.info(a)}security(e,n,s={}){const i={event:this.sanitize(e),severity:this.sanitize(n),timestamp:new Date().toISOString(),...this.redactSensitiveData(s)},r=`SECURITY: ${n} - ${e}`,a=this.formatMessage("security",r,i);console.warn(a),this.sendToSecurityService(i)}async sendToSecurityService(e){try{console.warn("[SECURITY_SERVICE] Would send security data:",this.sanitize(e))}catch(n){console.error("[SECURITY_SERVICE] Failed to send security data:",this.sanitize(n.message))}}}const Ae=new m_("BrainSAIT-Portal");var p_={};const Q={SET_LOADING:"SET_LOADING",SET_ERROR:"SET_ERROR",CLEAR_ERROR:"CLEAR_ERROR",SET_ACTIVE_CONTEXT:"SET_ACTIVE_CONTEXT",UPDATE_CONTEXT_DATA:"UPDATE_CONTEXT_DATA",SET_UNIFIED_DATA:"SET_UNIFIED_DATA",UPDATE_UNIFIED_DATA:"UPDATE_UNIFIED_DATA",SET_SYSTEM_STATUS:"SET_SYSTEM_STATUS",SET_USER:"SET_USER",SET_USER_PREFERENCES:"SET_USER_PREFERENCES",UPDATE_PERFORMANCE_METRICS:"UPDATE_PERFORMANCE_METRICS",WEBSOCKET_CONNECTED:"WEBSOCKET_CONNECTED",WEBSOCKET_DISCONNECTED:"WEBSOCKET_DISCONNECTED",REAL_TIME_UPDATE:"REAL_TIME_UPDATE"},xe={OVERVIEW:"overview",NPHIES:"nphies",RCM:"rcm",TRAINING:"training",BOT:"bot",OPERATIONS:"operations",AI_ANALYTICS:"ai_analytics",OID_TREE:"oid_tree",COMPLIANCE:"compliance"},g_={activeContext:xe.OVERVIEW,loading:{global:!1,contexts:Object.keys(xe).reduce((t,e)=>({...t,[xe[e]]:!1}),{})},error:{global:null,contexts:Object.keys(xe).reduce((t,e)=>({...t,[xe[e]]:null}),{})},unifiedData:{overview:{totalClaims:125847,accuracy:96.8,revenue:452e5,users:1250,systemHealth:"excellent",lastUpdated:new Date().toISOString()},nphies:{eligibilityChecks:5420,claimsSubmitted:12584,preAuthRequests:892,successRate:97.2,avgProcessingTime:"2.4 hours",connectionStatus:"connected"},rcm:{firstPassRate:96.2,denialRate:1.8,collectionDays:28,revenue:156e5,pendingClaims:235,targetMetrics:{firstPassRate:95,denialRate:2,collectionDays:30}},training:{activeLearners:1850,completedCertifications:425,averageScore:87.5,upcomingExams:89,certificationPrograms:["CPC","NPHIES","RCMP","HITS"]},bot:{activeProjects:3,completedPhases:7,knowledgeTransfers:12,clientSatisfaction:94.2,totalContractValue:25e5},operations:{riyadhStaff:200,jeddahStaff:150,dammamStaff:100,activeShifts:3,systemUptime:99.97,operationalStatus:"operational"},ai_analytics:{fraudDetected:23,duplicatesFound:156,arabicProcessed:45670,accuracy:94.8,modelsActive:6},compliance:{pdplStatus:"compliant",scfhsStatus:"certified",mohStatus:"approved",auditScore:96.5,lastAudit:new Date(new Date().setDate(new Date().getDate()-30)).toISOString()}},systemStatus:{status:"operational",uptime:99.97,lastHealthCheck:new Date().toISOString(),services:{nphies:"connected",database:"active",ai_services:"running",operations_centers:"online"}},user:{id:"user_001",name:"Dr. Ahmed Al-Rashid",nameAr:"د. أحمد الراشد",role:"physician",permissions:["healthcare.read","nphies.submit","rcm.view","training.enroll"],preferences:{language:"ar",theme:"dark",notifications:!0,autoRefresh:!0,refreshInterval:3e4}},performance:{apiResponseTime:0,errorRate:0,cacheHitRate:0,activeUsers:0},realTime:{connected:!1,lastUpdate:null,subscriptions:[]},cache:{lastUpdated:{},ttl:3e5,data:{}}};function y_(t,e){switch(e.type){case Q.SET_LOADING:return{...t,loading:{...t.loading,global:e.global!==void 0?e.global:t.loading.global,contexts:{...t.loading.contexts,...e.context?{[e.context]:e.loading}:{}}}};case Q.SET_ERROR:return{...t,error:{...t.error,global:e.global!==void 0?e.global:t.error.global,contexts:{...t.error.contexts,...e.context?{[e.context]:e.error}:{}}}};case Q.CLEAR_ERROR:return{...t,error:{global:e.global?null:t.error.global,contexts:{...t.error.contexts,...e.context?{[e.context]:null}:{}}}};case Q.SET_ACTIVE_CONTEXT:return{...t,activeContext:e.context};case Q.UPDATE_CONTEXT_DATA:return{...t,unifiedData:{...t.unifiedData,[e.context]:{...t.unifiedData[e.context],...e.data,lastUpdated:new Date().toISOString()}},cache:{...t.cache,lastUpdated:{...t.cache.lastUpdated,[e.context]:Date.now()}}};case Q.SET_UNIFIED_DATA:return{...t,unifiedData:{...t.unifiedData,...e.data},cache:{...t.cache,lastUpdated:{...t.cache.lastUpdated,...Object.keys(e.data).reduce((n,s)=>({...n,[s]:Date.now()}),{})}}};case Q.SET_SYSTEM_STATUS:return{...t,systemStatus:{...t.systemStatus,...e.status,lastHealthCheck:new Date().toISOString()}};case Q.SET_USER:return{...t,user:{...t.user,...e.user}};case Q.SET_USER_PREFERENCES:return{...t,user:{...t.user,preferences:{...t.user.preferences,...e.preferences}}};case Q.UPDATE_PERFORMANCE_METRICS:return{...t,performance:{...t.performance,...e.metrics}};case Q.WEBSOCKET_CONNECTED:return{...t,realTime:{...t.realTime,connected:!0,lastUpdate:new Date().toISOString()}};case Q.WEBSOCKET_DISCONNECTED:return{...t,realTime:{...t.realTime,connected:!1}};case Q.REAL_TIME_UPDATE:return{...t,unifiedData:{...t.unifiedData,[e.context]:{...t.unifiedData[e.context],...e.data}},realTime:{...t.realTime,lastUpdate:new Date().toISOString()}};default:return t}}const hf=b.createContext(),b_=({children:t})=>{const[e,n]=b.useReducer(y_,g_),s=b.useMemo(()=>{const h=de.create({baseURL:p_.REACT_APP_API_URL||"http://localhost:8000",timeout:3e4,headers:{"Content-Type":"application/json"}});return h.interceptors.request.use(f=>(f.startTime=Date.now(),f)),h.interceptors.response.use(f=>{const m=Date.now()-f.config.startTime;return n({type:Q.UPDATE_PERFORMANCE_METRICS,metrics:{apiResponseTime:m}}),f},f=>{const m=Date.now()-f.config.startTime;return n({type:Q.UPDATE_PERFORMANCE_METRICS,metrics:{apiResponseTime:m,errorRate:e.performance.errorRate+.1}}),Promise.reject(f)}),h},[e.performance.errorRate]),i=b.useCallback(h=>{const f=e.cache.lastUpdated[h];return f&&Date.now()-f<e.cache.ttl},[e.cache.lastUpdated,e.cache.ttl]),r=b.useCallback(async(h,f,m=null)=>{try{n({type:Q.SET_LOADING,context:h,loading:!0}),n({type:Q.CLEAR_ERROR,context:h});const p=await s.post(`/api/unified/${h}/${f}`,m);if(p.data.success)return n({type:Q.UPDATE_CONTEXT_DATA,context:h,data:p.data.data}),p.data;throw new Error(p.data.message||"API call failed")}catch(p){const x=p.response?.data?.message||p.message||"Unknown error occurred";throw n({type:Q.SET_ERROR,context:h,error:x}),p}finally{n({type:Q.SET_LOADING,context:h,loading:!1})}},[s]),a=b.useCallback(async(h=null,f=!1)=>{Ae.debug("getUnifiedData called",{context:h,forceRefresh:f});try{if(!f&&h&&i(h))return Ae.debug("Returning cached data",{context:h}),e.unifiedData[h];n({type:Q.SET_LOADING,global:!h,context:h,loading:!0});const m=h?`/api/unified/data/${h}`:"/api/unified/data";Ae.debug("Fetching data from endpoint",{endpoint:m});const p=await s.get(m);return Ae.debug("Received response",{status:p.status,dataKeys:Object.keys(p.data||{})}),n(h?{type:Q.UPDATE_CONTEXT_DATA,context:h,data:p.data}:{type:Q.SET_UNIFIED_DATA,data:p.data}),p.data}catch(m){console.error(`API call failed for ${h||"all contexts"}:`,m),console.warn(`Using fallback data for ${h||"all contexts"}`);const p=h?e.unifiedData[h]:e.unifiedData;return(h?p&&Object.keys(p).length>0:Object.keys(p).length>0)||n({type:Q.SET_ERROR,global:!h,context:h,error:"Unable to connect to backend services. Using offline mode."}),p}finally{n({type:Q.SET_LOADING,global:!h,context:h,loading:!1})}},[s,i,e.unifiedData]),o=b.useCallback(async()=>{try{const h=await s.get("/api/system/status");return n({type:Q.SET_SYSTEM_STATUS,status:h.data}),h.data}catch(h){console.warn("Health check failed, system running in offline mode:",h.message);const f={status:"offline",uptime:e.systemStatus.uptime||99.97,message:"Running in offline mode - UI functionality available with cached data",services:{nphies:"offline",database:"offline",ai_services:"offline",operations_centers:"offline"}};return n({type:Q.SET_SYSTEM_STATUS,status:f}),f}},[s,e.systemStatus.uptime]),l=b.useCallback(h=>{n({type:Q.SET_ACTIVE_CONTEXT,context:h}),i(h)||a(h)},[i,a]),c=b.useCallback(h=>{n({type:Q.SET_USER_PREFERENCES,preferences:h}),localStorage.setItem("healthcare_user_preferences",JSON.stringify(h))},[]);b.useEffect(()=>{const h=localStorage.getItem("healthcare_user_preferences");h&&n({type:Q.SET_USER_PREFERENCES,preferences:JSON.parse(h)}),a(),o();const f=setInterval(o,6e4);return()=>{clearInterval(f)}},[a,o]),b.useEffect(()=>{if(e.user.preferences.autoRefresh){const h=setInterval(()=>{a(e.activeContext,!0)},e.user.preferences.refreshInterval);return()=>clearInterval(h)}},[e.user.preferences.autoRefresh,e.user.preferences.refreshInterval,e.activeContext,a]);const d=b.useMemo(()=>({...e,callUnifiedAPI:r,getUnifiedData:a,checkSystemHealth:o,switchContext:l,updateUserPreferences:c,isLoading:h=>h?e.loading.contexts[h]:e.loading.global,hasError:h=>h?e.error.contexts[h]:e.error.global,getError:h=>h?e.error.contexts[h]:e.error.global,isCacheValid:i,clearCache:h=>{n({type:Q.UPDATE_CONTEXT_DATA,context:h,data:{}})},dispatch:n}),[e,r,a,o,l,c,i]);return u(hf.Provider,{value:d,children:t})},Pt=()=>{const t=b.useContext(hf);if(!t)throw new Error("useUnifiedHealthcare must be used within a UnifiedHealthcareProvider");return t};class dr extends dt.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n}),console.error("ErrorBoundary caught an error:",e,n)}render(){return this.state.hasError?u("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:g("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[u("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u("span",{className:"text-2xl text-red-600",children:"⚠️"})}),u("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),u("p",{className:"text-gray-600 mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),g("div",{className:"space-y-3",children:[u("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Page"}),u("button",{onClick:()=>this.setState({hasError:!1,error:null,errorInfo:null}),className:"w-full px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Try Again"})]}),!1]})}):this.props.children}}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Vs(t){return t+.5|0}const Mt=(t,e,n)=>Math.max(Math.min(t,n),e);function is(t){return Mt(Vs(t*2.55),0,255)}function Vt(t){return Mt(Vs(t*255),0,255)}function vt(t){return Mt(Vs(t/2.55)/100,0,1)}function kc(t){return Mt(Vs(t*100),0,100)}const Qe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ua=[..."0123456789ABCDEF"],x_=t=>Ua[t&15],v_=t=>Ua[(t&240)>>4]+Ua[t&15],ni=t=>(t&240)>>4===(t&15),__=t=>ni(t.r)&&ni(t.g)&&ni(t.b)&&ni(t.a);function S_(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Qe[t[1]]*17,g:255&Qe[t[2]]*17,b:255&Qe[t[3]]*17,a:e===5?Qe[t[4]]*17:255}:(e===7||e===9)&&(n={r:Qe[t[1]]<<4|Qe[t[2]],g:Qe[t[3]]<<4|Qe[t[4]],b:Qe[t[5]]<<4|Qe[t[6]],a:e===9?Qe[t[7]]<<4|Qe[t[8]]:255})),n}const w_=(t,e)=>t<255?e(t):"";function T_(t){var e=__(t)?x_:v_;return t?"#"+e(t.r)+e(t.g)+e(t.b)+w_(t.a,e):void 0}const A_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ff(t,e,n){const s=e*Math.min(n,1-n),i=(r,a=(r+t/30)%12)=>n-s*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function E_(t,e,n){const s=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function C_(t,e,n){const s=ff(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function P_(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function To(t){const n=t.r/255,s=t.g/255,i=t.b/255,r=Math.max(n,s,i),a=Math.min(n,s,i),o=(r+a)/2;let l,c,d;return r!==a&&(d=r-a,c=o>.5?d/(2-r-a):d/(r+a),l=P_(n,s,i,d,r),l=l*60+.5),[l|0,c||0,o]}function Ao(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Vt)}function Eo(t,e,n){return Ao(ff,t,e,n)}function R_(t,e,n){return Ao(C_,t,e,n)}function D_(t,e,n){return Ao(E_,t,e,n)}function mf(t){return(t%360+360)%360}function N_(t){const e=A_.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?is(+e[5]):Vt(+e[5]));const i=mf(+e[2]),r=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?s=R_(i,r,a):e[1]==="hsv"?s=D_(i,r,a):s=Eo(i,r,a),{r:s[0],g:s[1],b:s[2],a:n}}function O_(t,e){var n=To(t);n[0]=mf(n[0]+e),n=Eo(n),t.r=n[0],t.g=n[1],t.b=n[2]}function I_(t){if(!t)return;const e=To(t),n=e[0],s=kc(e[1]),i=kc(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${vt(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const Lc={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Mc={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function k_(){const t={},e=Object.keys(Mc),n=Object.keys(Lc);let s,i,r,a,o;for(s=0;s<e.length;s++){for(a=o=e[s],i=0;i<n.length;i++)r=n[i],o=o.replace(r,Lc[r]);r=parseInt(Mc[a],16),t[o]=[r>>16&255,r>>8&255,r&255]}return t}let si;function L_(t){si||(si=k_(),si.transparent=[0,0,0,0]);const e=si[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const M_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function F_(t){const e=M_.exec(t);let n=255,s,i,r;if(e){if(e[7]!==s){const a=+e[7];n=e[8]?is(a):Mt(a*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?is(s):Mt(s,0,255)),i=255&(e[4]?is(i):Mt(i,0,255)),r=255&(e[6]?is(r):Mt(r,0,255)),{r:s,g:i,b:r,a:n}}}function V_(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${vt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Qr=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Tn=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function z_(t,e,n){const s=Tn(vt(t.r)),i=Tn(vt(t.g)),r=Tn(vt(t.b));return{r:Vt(Qr(s+n*(Tn(vt(e.r))-s))),g:Vt(Qr(i+n*(Tn(vt(e.g))-i))),b:Vt(Qr(r+n*(Tn(vt(e.b))-r))),a:t.a+n*(e.a-t.a)}}function ii(t,e,n){if(t){let s=To(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=Eo(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function pf(t,e){return t&&Object.assign(e||{},t)}function Fc(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Vt(t[3]))):(e=pf(t,{r:0,g:0,b:0,a:1}),e.a=Vt(e.a)),e}function j_(t){return t.charAt(0)==="r"?F_(t):N_(t)}class Ts{constructor(e){if(e instanceof Ts)return e;const n=typeof e;let s;n==="object"?s=Fc(e):n==="string"&&(s=S_(e)||L_(e)||j_(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=pf(this._rgb);return e&&(e.a=vt(e.a)),e}set rgb(e){this._rgb=Fc(e)}rgbString(){return this._valid?V_(this._rgb):void 0}hexString(){return this._valid?T_(this._rgb):void 0}hslString(){return this._valid?I_(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let r;const a=n===r?.5:n,o=2*a-1,l=s.a-i.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=a*s.a+(1-a)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=z_(this._rgb,e._rgb,n)),this}clone(){return new Ts(this.rgb)}alpha(e){return this._rgb.a=Vt(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Vs(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ii(this._rgb,2,e),this}darken(e){return ii(this._rgb,2,-e),this}saturate(e){return ii(this._rgb,1,e),this}desaturate(e){return ii(this._rgb,1,-e),this}rotate(e){return O_(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */const U_=(()=>{let t=0;return()=>t++})();function _e(t){return t==null}function Ie(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ee(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ct(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function lt(t,e){return Ct(t)?t:e}function fe(t,e){return typeof t>"u"?e:t}const B_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ce(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ne(t,e,n,s){let i,r,a;if(Ie(t))for(r=t.length,i=0;i<r;i++)e.call(n,t[i],i);else if(ee(t))for(a=Object.keys(t),r=a.length,i=0;i<r;i++)e.call(n,t[a[i]],a[i])}function Vc(t,e){let n,s,i,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],r=e[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function Ui(t){if(Ie(t))return t.map(Ui);if(ee(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=Ui(t[n[i]]);return e}return t}function gf(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function H_(t,e,n,s){if(!gf(t))return;const i=e[t],r=n[t];ee(i)&&ee(r)?As(i,r,s):e[t]=Ui(r)}function As(t,e,n){const s=Ie(e)?e:[e],i=s.length;if(!ee(t))return t;n=n||{};const r=n.merger||H_;let a;for(let o=0;o<i;++o){if(a=s[o],!ee(a))continue;const l=Object.keys(a);for(let c=0,d=l.length;c<d;++c)r(l[c],t,a,n)}return t}function hs(t,e){return As(t,e,{merger:$_})}function $_(t,e,n){if(!gf(t))return;const s=e[t],i=n[t];ee(s)&&ee(i)?hs(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Ui(i))}const zc={"":t=>t,x:t=>t.x,y:t=>t.y};function W_(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function q_(t){const e=W_(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function Bi(t,e){return(zc[e]||(zc[e]=q_(e)))(t)}function Co(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Hi=t=>typeof t<"u",Ut=t=>typeof t=="function",jc=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function G_(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Mn=Math.PI,Dn=2*Mn,$i=Number.POSITIVE_INFINITY,Wi=Mn/2,Uc=Math.sign;function K_(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,r)=>i-r).pop(),e}function Y_(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Es(t){return!Y_(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function rs(t){return t*(Mn/180)}function X_(t){return t*(180/Mn)}function Z_(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*Mn&&(r+=Dn),{angle:r,distance:i}}function Gt(t){return(t%Dn+Dn)%Dn}function J_(t,e,n,s){const i=Gt(t),r=Gt(e),a=Gt(n),o=Gt(r-i),l=Gt(a-i),c=Gt(i-r),d=Gt(i-a);return i===r||i===a||s||o>l&&c<d}function St(t,e,n){return Math.max(e,Math.min(n,t))}function Q_(t){return St(t,-32768,32767)}function Po(t,e,n){n=n||(a=>t[a]<e);let s=t.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const sn=(t,e,n,s)=>Po(t,n,s?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),eS=(t,e,n)=>Po(t,n,s=>t[s][e]>=n);function tS(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const yf=["push","pop","shift","splice","unshift"];function nS(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),yf.forEach(n=>{const s="_onData"+Co(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const a=i.apply(this,r);return t._chartjs.listeners.forEach(o=>{typeof o[s]=="function"&&o[s](...r)}),a}})})}function Bc(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(yf.forEach(r=>{delete t[r]}),delete t._chartjs)}function sS(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const bf=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function xf(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,bf.call(window,()=>{s=!1,t.apply(e,n)}))}}function iS(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const rS=t=>t==="start"?"left":t==="end"?"right":"center",Hc=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2;function aS(t,e,n){const s=e.length;let i=0,r=s;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=a.axis,{min:h,max:f,minDefined:m,maxDefined:p}=a.getUserBounds();if(m){if(i=Math.min(sn(l,d,h).lo,n?s:sn(e,d,a.getPixelForValue(h)).lo),c){const x=l.slice(0,i+1).reverse().findIndex(S=>!_e(S[o.axis]));i-=Math.max(0,x)}i=St(i,0,s-1)}if(p){let x=Math.max(sn(l,a.axis,f,!0).hi+1,n?0:sn(e,d,a.getPixelForValue(f),!0).hi+1);if(c){const S=l.slice(x-1).findIndex(A=>!_e(A[o.axis]));x+=Math.max(0,S)}r=St(x,i,s)-i}else r=s-i}return{start:i,count:r}}function oS(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=i,!0;const r=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),r}const ri=t=>t===0||t===1,$c=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Dn/n)),Wc=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Dn/n)+1,fs={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Wi)+1,easeOutSine:t=>Math.sin(t*Wi),easeInOutSine:t=>-.5*(Math.cos(Mn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>ri(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ri(t)?t:$c(t,.075,.3),easeOutElastic:t=>ri(t)?t:Wc(t,.075,.3),easeInOutElastic(t){return ri(t)?t:t<.5?.5*$c(t*2,.1125,.45):.5+.5*Wc(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-fs.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?fs.easeInBounce(t*2)*.5:fs.easeOutBounce(t*2-1)*.5+.5};function vf(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function qc(t){return vf(t)?t:new Ts(t)}function ea(t){return vf(t)?t:new Ts(t).saturate(.5).darken(.1).hexString()}const lS=["x","y","borderWidth","radius","tension"],cS=["color","borderColor","backgroundColor"];function uS(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:cS},numbers:{type:"number",properties:lS}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function dS(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const hS={values(t){return Ie(t)?t:""+t}};var fS={formatters:hS};function mS(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:fS.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const hn=Object.create(null),Ba=Object.create(null);function ms(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];t=t[r]||(t[r]=Object.create(null))}return t}function ta(t,e,n){return typeof e=="string"?As(ms(t,e),n):As(ms(t,""),e)}class pS{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>ea(i.backgroundColor),this.hoverBorderColor=(s,i)=>ea(i.borderColor),this.hoverColor=(s,i)=>ea(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return ta(this,e,n)}get(e){return ms(this,e)}describe(e,n){return ta(Ba,e,n)}override(e,n){return ta(hn,e,n)}route(e,n,s,i){const r=ms(this,e),a=ms(this,s),o="_"+n;Object.defineProperties(r,{[o]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],c=a[i];return ee(l)?Object.assign({},c,l):fe(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var me=new pS({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[uS,dS,mS]);function gS(t){return!t||_e(t.size)||_e(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Gc(t,e,n,s,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,n.push(i)),r>s&&(s=r),s}function Kt(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function Kc(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function _f(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Sf(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function wf(t){t.restore()}function yS(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),_e(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function bS(t,e,n,s,i){if(i.strikethrough||i.underline){const r=t.measureText(s),a=e-r.actualBoundingBoxLeft,o=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,d=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,d),t.lineTo(o,d),t.stroke()}}function xS(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Yc(t,e,n,s,i,r={}){const a=Ie(e)?e:[e],o=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,yS(t,r),l=0;l<a.length;++l)c=a[l],r.backdrop&&xS(t,r.backdrop),o&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),_e(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,s,r.maxWidth)),t.fillText(c,n,s,r.maxWidth),bS(t,n,s,c,r),s+=Number(i.lineHeight);t.restore()}const vS=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,_S=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function SS(t,e){const n=(""+t).match(vS);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const wS=t=>+t||0;function TS(t,e){const n={},s=ee(e),i=s?Object.keys(e):e,r=ee(t)?s?a=>fe(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)n[a]=wS(r(a));return n}function AS(t){return TS(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Cs(t){const e=AS(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ha(t,e){t=t||{},e=e||me.font;let n=fe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=fe(t.style,e.style);s&&!(""+s).match(_S)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:fe(t.family,e.family),lineHeight:SS(fe(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:fe(t.weight,e.weight),string:""};return i.string=gS(i),i}function ai(t,e,n,s){let i,r,a;for(i=0,r=t.length;i<r;++i)if(a=t[i],a!==void 0&&a!==void 0)return a}function ES(t,e,n){const{min:s,max:i}=t,r=B_(e,(i-s)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(s,-Math.abs(r)),max:a(i,r)}}function zs(t,e){return Object.assign(Object.create(t),e)}function Ro(t,e=[""],n,s,i=()=>t[0]){const r=n||t;typeof s>"u"&&(s=Cf("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:s,_getTarget:i,override:o=>Ro([o,...t],e,r,s)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return Af(o,l,()=>kS(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return Zc(o).includes(l)},ownKeys(o){return Zc(o)},set(o,l,c){const d=o._storage||(o._storage=i());return o[l]=d[l]=c,delete o._keys,!0}})}function In(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Tf(t,s),setContext:r=>In(t,r,n,s),override:r=>In(t.override(r),e,n,s)};return new Proxy(i,{deleteProperty(r,a){return delete r[a],delete t[a],!0},get(r,a,o){return Af(r,a,()=>PS(r,a,o))},getOwnPropertyDescriptor(r,a){return r._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(r,a,o){return t[a]=o,delete r[a],!0}})}function Tf(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:Ut(n)?n:()=>n,isIndexable:Ut(s)?s:()=>s}}const CS=(t,e)=>t?t+Co(e):e,Do=(t,e)=>ee(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Af(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function PS(t,e,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:a}=t;let o=s[e];return Ut(o)&&a.isScriptable(e)&&(o=RS(e,o,t,n)),Ie(o)&&o.length&&(o=DS(e,o,t,a.isIndexable)),Do(e,o)&&(o=In(o,i,r&&r[e],a)),o}function RS(t,e,n,s){const{_proxy:i,_context:r,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(r,a||s);return o.delete(t),Do(t,l)&&(l=No(i._scopes,i,t,l)),l}function DS(t,e,n,s){const{_proxy:i,_context:r,_subProxy:a,_descriptors:o}=n;if(typeof r.index<"u"&&s(t))return e[r.index%e.length];if(ee(e[0])){const l=e,c=i._scopes.filter(d=>d!==l);e=[];for(const d of l){const h=No(c,i,t,d);e.push(In(h,r,a&&a[t],o))}}return e}function Ef(t,e,n){return Ut(t)?t(e,n):t}const NS=(t,e)=>t===!0?e:typeof t=="string"?Bi(e,t):void 0;function OS(t,e,n,s,i){for(const r of e){const a=NS(n,r);if(a){t.add(a);const o=Ef(a._fallback,n,i);if(typeof o<"u"&&o!==n&&o!==s)return o}else if(a===!1&&typeof s<"u"&&n!==s)return null}return!1}function No(t,e,n,s){const i=e._rootScopes,r=Ef(e._fallback,n,s),a=[...t,...i],o=new Set;o.add(s);let l=Xc(o,a,n,r||n,s);return l===null||typeof r<"u"&&r!==n&&(l=Xc(o,a,r,l,s),l===null)?!1:Ro(Array.from(o),[""],i,r,()=>IS(e,n,s))}function Xc(t,e,n,s,i){for(;n;)n=OS(t,e,n,s,i);return n}function IS(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return Ie(i)&&ee(n)?n:i||{}}function kS(t,e,n,s){let i;for(const r of e)if(i=Cf(CS(r,t),n),typeof i<"u")return Do(t,i)?No(n,s,t,i):i}function Cf(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function Zc(t){let e=t._keys;return e||(e=t._keys=LS(t._scopes)),e}function LS(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}function Oo(){return typeof window<"u"&&typeof document<"u"}function Io(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function qi(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const hr=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function MS(t,e){return hr(t).getPropertyValue(e)}const FS=["top","right","bottom","left"];function cn(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=FS[i];s[r]=parseFloat(t[e+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const VS=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function zS(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:r}=s;let a=!1,o,l;if(VS(i,r,t.target))o=i,l=r;else{const c=e.getBoundingClientRect();o=s.clientX-c.left,l=s.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function Qt(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=hr(n),r=i.boxSizing==="border-box",a=cn(i,"padding"),o=cn(i,"border","width"),{x:l,y:c,box:d}=zS(t,n),h=a.left+(d&&o.left),f=a.top+(d&&o.top);let{width:m,height:p}=e;return r&&(m-=a.width+o.width,p-=a.height+o.height),{x:Math.round((l-h)/m*n.width/s),y:Math.round((c-f)/p*n.height/s)}}function jS(t,e,n){let s,i;if(e===void 0||n===void 0){const r=t&&Io(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const a=r.getBoundingClientRect(),o=hr(r),l=cn(o,"border","width"),c=cn(o,"padding");e=a.width-c.width-l.width,n=a.height-c.height-l.height,s=qi(o.maxWidth,r,"clientWidth"),i=qi(o.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:s||$i,maxHeight:i||$i}}const oi=t=>Math.round(t*10)/10;function US(t,e,n,s){const i=hr(t),r=cn(i,"margin"),a=qi(i.maxWidth,t,"clientWidth")||$i,o=qi(i.maxHeight,t,"clientHeight")||$i,l=jS(t,e,n);let{width:c,height:d}=l;if(i.boxSizing==="content-box"){const f=cn(i,"border","width"),m=cn(i,"padding");c-=m.width+f.width,d-=m.height+f.height}return c=Math.max(0,c-r.width),d=Math.max(0,s?c/s:d-r.height),c=oi(Math.min(c,a,l.maxWidth)),d=oi(Math.min(d,o,l.maxHeight)),c&&!d&&(d=oi(c/2)),(e!==void 0||n!==void 0)&&s&&l.height&&d>l.height&&(d=l.height,c=oi(Math.floor(d*s))),{width:c,height:d}}function Jc(t,e,n){const s=e||1,i=Math.floor(t.height*s),r=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||a.height!==i||a.width!==r?(t.currentDevicePixelRatio=s,a.height=i,a.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const BS=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Oo()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Qc(t,e){const n=MS(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function li(t,e,n){return t.options.clip?t[n]:e[n]}function HS(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:li(n,e,"left"),right:li(n,e,"right"),top:li(s,e,"top"),bottom:li(s,e,"bottom")}:e}function $S(t,e){const n=e._clip;if(n.disabled)return!1;const s=HS(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class WS{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const r=n.listeners[i],a=n.duration;r.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(s-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=bf.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let a=r.length-1,o=!1,l;for(;a>=0;--a)l=r[a],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),o=!0):(r[a]=r[r.length-1],r.pop());o&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var bt=new WS;const eu="transparent",qS={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=qc(t||eu),i=s.valid&&qc(e||eu);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class GS{constructor(e,n,s,i){const r=n[s];i=ai([e.to,i,r,e.from]);const a=ai([e.from,r,i]);this._active=!0,this._fn=e.fn||qS[e.type||typeof a],this._easing=fs[e.easing]||fs.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,a=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=ai([e.to,n,i,e.from]),this._from=ai([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,r=this._from,a=this._loop,o=this._to;let l;if(this._active=r!==o&&(a||n<s),!this._active){this._target[i]=o,this._notify(!0);return}if(n<0){this._target[i]=r;return}l=n/s%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class KS{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ee(e))return;const n=Object.keys(me.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!ee(r))return;const a={};for(const o of n)a[o]=r[o];(Ie(r.properties)&&r.properties||[i]).forEach(o=>{(o===i||!s.has(o))&&s.set(o,a)})})}_animateOptions(e,n){const s=n.options,i=XS(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&YS(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,n){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const d=n[c];let h=r[c];const f=s.get(c);if(h)if(f&&h.active()){h.update(f,d,o);continue}else h.cancel();if(!f||!f.duration){e[c]=d;continue}r[c]=h=new GS(f,e,c,d),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return bt.add(this._chart,s),!0}}function YS(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=t[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function XS(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function tu(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function ZS(t,e,n){if(n===!1)return!1;const s=tu(t,n),i=tu(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function JS(t){let e,n,s,i;return ee(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function Pf(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function nu(t,e,n,s={}){const i=t.keys,r=s.mode==="single";let a,o,l,c;if(e===null)return;let d=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===n){if(d=!0,s.all)continue;break}c=t.values[l],Ct(c)&&(r||e===0||Uc(e)===Uc(c))&&(e+=c)}return!d&&!s.all?0:e}function QS(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,c,d;for(l=0,c=a.length;l<c;++l)d=a[l],o[l]={[i]:d,[r]:t[d]};return o}function na(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function ew(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function tw(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function nw(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function su(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=t[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function iu(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:r,vScale:a,index:o}=s,l=r.axis,c=a.axis,d=ew(r,a,s),h=e.length;let f;for(let m=0;m<h;++m){const p=e[m],{[l]:x,[c]:S}=p,A=p._stacks||(p._stacks={});f=A[c]=nw(i,d,x),f[o]=S,f._top=su(f,a,!0,s.type),f._bottom=su(f,a,!1,s.type);const w=f._visualValues||(f._visualValues={});w[o]=S}}function sa(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function sw(t,e){return zs(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function iw(t,e,n){return zs(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Yn(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const ia=t=>t==="reset"||t==="none",ru=(t,e)=>e?t:Object.assign({},t),rw=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Pf(n,!0),values:null};class ps{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=na(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Yn(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(h,f,m,p)=>h==="x"?f:h==="r"?p:m,r=n.xAxisID=fe(s.xAxisID,sa(e,"x")),a=n.yAxisID=fe(s.yAxisID,sa(e,"y")),o=n.rAxisID=fe(s.rAxisID,sa(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,r,a,o),d=n.vAxisID=i(l,a,r,o);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Bc(this._data,this),e._stacked&&Yn(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(ee(n)){const i=this._cachedMeta;this._data=QS(n,i)}else if(s!==n){if(s){Bc(s,this);const i=this._cachedMeta;Yn(i),i._parsed=[]}n&&Object.isExtensible(n)&&nS(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=na(n.vScale,n),n.stack!==s.stack&&(i=!0,Yn(n),n.stack=s.stack),this._resyncElements(e),(i||r!==n._stacked)&&(iu(this,n._parsed),n._stacked=na(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:a}=s,o=r.axis;let l=e===0&&n===i.length?!0:s._sorted,c=e>0&&s._parsed[e-1],d,h,f;if(this._parsing===!1)s._parsed=i,s._sorted=!0,f=i;else{Ie(i[e])?f=this.parseArrayData(s,i,e,n):ee(i[e])?f=this.parseObjectData(s,i,e,n):f=this.parsePrimitiveData(s,i,e,n);const m=()=>h[o]===null||c&&h[o]<c[o];for(d=0;d<n;++d)s._parsed[d+e]=h=f[d],l&&(m()&&(l=!1),c=h);s._sorted=l}a&&iu(this,f)}parsePrimitiveData(e,n,s,i){const{iScale:r,vScale:a}=e,o=r.axis,l=a.axis,c=r.getLabels(),d=r===a,h=new Array(i);let f,m,p;for(f=0,m=i;f<m;++f)p=f+s,h[f]={[o]:d||r.parse(c[p],p),[l]:a.parse(n[p],p)};return h}parseArrayData(e,n,s,i){const{xScale:r,yScale:a}=e,o=new Array(i);let l,c,d,h;for(l=0,c=i;l<c;++l)d=l+s,h=n[d],o[l]={x:r.parse(h[0],d),y:a.parse(h[1],d)};return o}parseObjectData(e,n,s,i){const{xScale:r,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let d,h,f,m;for(d=0,h=i;d<h;++d)f=d+s,m=n[f],c[d]={x:r.parse(Bi(m,o),f),y:a.parse(Bi(m,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,r=this._cachedMeta,a=n[e.axis],o={keys:Pf(i,!0),values:n._stacks[e.axis]._visualValues};return nu(o,a,r.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const r=s[n.axis];let a=r===null?NaN:r;const o=i&&s._stacks[n.axis];i&&o&&(i.values=o,a=nu(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,a=i.length,o=this._getOtherScale(e),l=rw(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=tw(o);let f,m;function p(){m=i[f];const x=m[o.axis];return!Ct(m[e.axis])||d>x||h<x}for(f=0;f<a&&!(!p()&&(this.updateRangeFromParsed(c,e,m,l),r));++f);if(r){for(f=a-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(c,e,m,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,r,a;for(i=0,r=n.length;i<r;++i)a=n[i][e.axis],Ct(a)&&s.push(a);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=JS(fe(this.options.clip,ZS(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,c=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(e,r,o,l),d=o;d<o+l;++d){const h=i[d];h.hidden||(h.active&&c?a.push(h):h.draw(e,r))}for(d=0;d<a.length;++d)a[d].draw(e,r)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];r=a.$context||(a.$context=iw(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=sw(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",r=this._cachedDataOpts,a=e+"-"+n,o=r[a],l=this.enableOptionSharing&&Hi(s);if(o)return ru(o,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),d),m=Object.keys(me.elements[e]),p=()=>this.getContext(s,i,n),x=c.resolveNamedOptions(f,m,p,h);return x.$shared&&(x.$shared=l,r[a]=Object.freeze(ru(x,l))),x}_resolveAnimations(e,n,s){const i=this.chart,r=this._cachedDataOpts,a=`animation-${n}`,o=r[a];if(o)return o;let l;if(i.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(f,this.getContext(e,s,n))}const c=new KS(i,l&&l.animations);return l&&l._cacheable&&(r[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||ia(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,r=this.getSharedOptions(s),a=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:a}}updateElement(e,n,s,i){ia(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!ia(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const i=s.length,r=n.length,a=Math.min(r,i);a&&this.parse(0,a),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,n,s=!0){const i=this._cachedMeta,r=i.data,a=e+n;let o;const l=c=>{for(c.length+=n,o=c.length-1;o>=a;o--)c[o]=c[o-n]};for(l(r),o=e;o<a;++o)r[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&Yn(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Z(ps,"defaults",{}),Z(ps,"datasetElementType",null),Z(ps,"dataElementType",null);class Ai extends ps{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=aS(n,i,a);this._drawStart=o,this._drawCount=l,oS(n)&&(o=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!a,options:c},e),this.updateElements(i,o,l,e)}updateElements(e,n,s,i){const r=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,i),f=a.axis,m=o.axis,{spanGaps:p,segment:x}=this.options,S=Es(p)?p:Number.POSITIVE_INFINITY,A=this.chart._animationsDisabled||r||i==="none",w=n+s,y=e.length;let v=n>0&&this.getParsed(n-1);for(let T=0;T<y;++T){const D=e[T],C=A?D:{};if(T<n||T>=w){C.skip=!0;continue}const E=this.getParsed(T),R=_e(E[m]),F=C[f]=a.getPixelForValue(E[f],T),z=C[m]=r||R?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,E,l):E[m],T);C.skip=isNaN(F)||isNaN(z)||R,C.stop=T>0&&Math.abs(E[f]-v[f])>S,x&&(C.parsed=E,C.raw=c.data[T]),h&&(C.options=d||this.resolveDataElementOptions(T,D.active?"active":i)),A||this.updateElement(D,T,C,i),v=E}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Z(Ai,"id","line"),Z(Ai,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Z(Ai,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Yt(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ko{constructor(e){Z(this,"options");this.options=e||{}}static override(e){Object.assign(ko.prototype,e)}init(){}formats(){return Yt()}parse(){return Yt()}format(){return Yt()}add(){return Yt()}diff(){return Yt()}startOf(){return Yt()}endOf(){return Yt()}}var aw={_date:ko};function ow(t,e,n,s){const{controller:i,data:r,_sorted:a}=t,o=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&r.length){const c=o._reversePixels?eS:sn;if(s){if(i._sharedOptions){const d=r[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const f=c(r,e,n-h),m=c(r,e,n+h);return{lo:f.lo,hi:m.hi}}}}else{const d=c(r,e,n);if(l){const{vScale:h}=i._cachedMeta,{_parsed:f}=t,m=f.slice(0,d.lo+1).reverse().findIndex(x=>!_e(x[h.axis]));d.lo-=Math.max(0,m);const p=f.slice(d.hi).findIndex(x=>!_e(x[h.axis]));d.hi+=Math.max(0,p)}return d}}return{lo:0,hi:r.length-1}}function fr(t,e,n,s,i){const r=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,l=r.length;o<l;++o){const{index:c,data:d}=r[o],{lo:h,hi:f}=ow(r[o],e,a,i);for(let m=h;m<=f;++m){const p=d[m];p.skip||s(p,c,m)}}}function lw(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,a=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function ra(t,e,n,s,i){const r=[];return!i&&!t.isPointInArea(e)||fr(t,n,e,function(o,l,c){!i&&!_f(o,t.chartArea,0)||o.inRange(e.x,e.y,s)&&r.push({element:o,datasetIndex:l,index:c})},!0),r}function cw(t,e,n,s){let i=[];function r(a,o,l){const{startAngle:c,endAngle:d}=a.getProps(["startAngle","endAngle"],s),{angle:h}=Z_(a,{x:e.x,y:e.y});J_(h,c,d)&&i.push({element:a,datasetIndex:o,index:l})}return fr(t,n,e,r),i}function uw(t,e,n,s,i,r){let a=[];const o=lw(n);let l=Number.POSITIVE_INFINITY;function c(d,h,f){const m=d.inRange(e.x,e.y,i);if(s&&!m)return;const p=d.getCenterPoint(i);if(!(!!r||t.isPointInArea(p))&&!m)return;const S=o(e,p);S<l?(a=[{element:d,datasetIndex:h,index:f}],l=S):S===l&&a.push({element:d,datasetIndex:h,index:f})}return fr(t,n,e,c),a}function aa(t,e,n,s,i,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!s?cw(t,e,n,i):uw(t,e,n,s,i,r)}function au(t,e,n,s,i){const r=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return fr(t,n,e,(l,c,d)=>{l[a]&&l[a](e[n],i)&&(r.push({element:l,datasetIndex:c,index:d}),o=o||l.inRange(e.x,e.y,i))}),s&&!o?[]:r}var dw={modes:{index(t,e,n,s){const i=Qt(e,t),r=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?ra(t,i,r,s,a):aa(t,i,r,!1,s,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const d=o[0].index,h=c.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:d})}),l):[]},dataset(t,e,n,s){const i=Qt(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?ra(t,i,r,s,a):aa(t,i,r,!1,s,a);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let d=0;d<c.length;++d)o.push({element:c[d],datasetIndex:l,index:d})}return o},point(t,e,n,s){const i=Qt(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;return ra(t,i,r,s,a)},nearest(t,e,n,s){const i=Qt(e,t),r=n.axis||"xy",a=n.includeInvisible||!1;return aa(t,i,r,n.intersect,s,a)},x(t,e,n,s){const i=Qt(e,t);return au(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=Qt(e,t);return au(t,i,"y",n.intersect,s)}}};const Rf=["left","top","right","bottom"];function Xn(t,e){return t.filter(n=>n.pos===e)}function ou(t,e){return t.filter(n=>Rf.indexOf(n.pos)===-1&&n.box.axis===e)}function Zn(t,e){return t.sort((n,s)=>{const i=e?s:n,r=e?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function hw(t){const e=[];let n,s,i,r,a,o;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:r,options:{stack:a,stackWeight:o=1}}=i,e.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&r+a,stackWeight:o});return e}function fw(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!Rf.includes(i))continue;const a=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return e}function mw(t,e){const n=fw(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,a,o;for(r=0,a=t.length;r<a;++r){o=t[r];const{fullSize:l}=o.box,c=n[o.stack],d=c&&o.stackWeight/c.weight;o.horizontal?(o.width=d?d*s:l&&e.availableWidth,o.height=i):(o.width=s,o.height=d?d*i:l&&e.availableHeight)}return n}function pw(t){const e=hw(t),n=Zn(e.filter(c=>c.box.fullSize),!0),s=Zn(Xn(e,"left"),!0),i=Zn(Xn(e,"right")),r=Zn(Xn(e,"top"),!0),a=Zn(Xn(e,"bottom")),o=ou(e,"x"),l=ou(e,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:Xn(e,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(a).concat(o)}}function lu(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function Df(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function gw(t,e,n,s){const{pos:i,box:r}=n,a=t.maxPadding;if(!ee(i)){n.size&&(t[i]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[i]+=n.size}r.getPadding&&Df(a,r.getPadding());const o=Math.max(0,e.outerWidth-lu(a,t,"left","right")),l=Math.max(0,e.outerHeight-lu(a,t,"top","bottom")),c=o!==t.w,d=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function yw(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function bw(t,e){const n=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{r[a]=Math.max(e[a],n[a])}),r}return s(t?["left","right"]:["top","bottom"])}function as(t,e,n,s){const i=[];let r,a,o,l,c,d;for(r=0,a=t.length,c=0;r<a;++r){o=t[r],l=o.box,l.update(o.width||e.w,o.height||e.h,bw(o.horizontal,e));const{same:h,other:f}=gw(e,n,o,s);c|=h&&i.length,d=d||f,l.fullSize||i.push(o)}return c&&as(i,e,n,s)||d}function ci(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function cu(t,e,n,s){const i=n.padding;let{x:r,y:a}=e;for(const o of t){const l=o.box,c=s[o.stack]||{placed:0,weight:1},d=o.stackWeight/c.weight||1;if(o.horizontal){const h=e.w*d,f=c.size||l.height;Hi(c.start)&&(a=c.start),l.fullSize?ci(l,i.left,a,n.outerWidth-i.right-i.left,f):ci(l,e.left+c.placed,a,h,f),c.start=a,c.placed+=h,a=l.bottom}else{const h=e.h*d,f=c.size||l.width;Hi(c.start)&&(r=c.start),l.fullSize?ci(l,r,i.top,f,n.outerHeight-i.bottom-i.top):ci(l,r,e.top+c.placed,f,h),c.start=r,c.placed+=h,r=l.right}}e.x=r,e.y=a}var ui={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=Cs(t.options.layout.padding),r=Math.max(e-i.width,0),a=Math.max(n-i.height,0),o=pw(t.boxes),l=o.vertical,c=o.horizontal;Ne(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const d=l.reduce((x,S)=>S.box.options&&S.box.options.display===!1?x:x+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/d,hBoxMaxHeight:a/2}),f=Object.assign({},i);Df(f,Cs(s));const m=Object.assign({maxPadding:f,w:r,h:a,x:i.left,y:i.top},i),p=mw(l.concat(c),h);as(o.fullSize,m,h,p),as(l,m,h,p),as(c,m,h,p)&&as(l,m,h,p),yw(m),cu(o.leftAndTop,m,h,p),m.x+=m.w,m.y+=m.h,cu(o.rightAndBottom,m,h,p),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Ne(o.chartArea,x=>{const S=x.box;Object.assign(S,t.chartArea),S.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class Nf{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class xw extends Nf{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ei="$chartjs",vw={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},uu=t=>t===null||t==="";function _w(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[Ei]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",uu(i)){const r=Qc(t,"width");r!==void 0&&(t.width=r)}if(uu(s))if(t.style.height==="")t.height=t.width/(e||2);else{const r=Qc(t,"height");r!==void 0&&(t.height=r)}return t}const Of=BS?{passive:!0}:!1;function Sw(t,e,n){t&&t.addEventListener(e,n,Of)}function ww(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Of)}function Tw(t,e){const n=vw[t.type]||t.type,{x:s,y:i}=Qt(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Gi(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Aw(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let a=!1;for(const o of r)a=a||Gi(o.addedNodes,s),a=a&&!Gi(o.removedNodes,s);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function Ew(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let a=!1;for(const o of r)a=a||Gi(o.removedNodes,s),a=a&&!Gi(o.addedNodes,s);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Ps=new Map;let du=0;function If(){const t=window.devicePixelRatio;t!==du&&(du=t,Ps.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Cw(t,e){Ps.size||window.addEventListener("resize",If),Ps.set(t,e)}function Pw(t){Ps.delete(t),Ps.size||window.removeEventListener("resize",If)}function Rw(t,e,n){const s=t.canvas,i=s&&Io(s);if(!i)return;const r=xf((o,l)=>{const c=i.clientWidth;n(o,l),c<i.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||r(c,d)});return a.observe(i),Cw(t,r),a}function oa(t,e,n){n&&n.disconnect(),e==="resize"&&Pw(t)}function Dw(t,e,n){const s=t.canvas,i=xf(r=>{t.ctx!==null&&n(Tw(r,t))},t);return Sw(s,e,i),i}class Nw extends Nf{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(_w(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Ei])return!1;const s=n[Ei].initial;["height","width"].forEach(r=>{const a=s[r];_e(a)?n.removeAttribute(r):n.setAttribute(r,a)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[Ei],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),a={attach:Aw,detach:Ew,resize:Rw}[n]||Dw;i[n]=a(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:oa,detach:oa,resize:oa}[n]||ww)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return US(e,n,s,i)}isAttached(e){const n=e&&Io(e);return!!(n&&n.isConnected)}}function Ow(t){return!Oo()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?xw:Nw}var pi;let kf=(pi=class{constructor(){Z(this,"x");Z(this,"y");Z(this,"active",!1);Z(this,"options");Z(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Es(this.x)&&Es(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}},Z(pi,"defaults",{}),Z(pi,"defaultRoutes"),pi);function Iw(t,e){const n=t.options.ticks,s=kw(t),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?Mw(e):[],a=r.length,o=r[0],l=r[a-1],c=[];if(a>i)return Fw(e,c,r,a/i),c;const d=Lw(r,e,i);if(a>0){let h,f;const m=a>1?Math.round((l-o)/(a-1)):null;for(di(e,c,d,_e(m)?0:o-m,o),h=0,f=a-1;h<f;h++)di(e,c,d,r[h],r[h+1]);return di(e,c,d,l,_e(m)?e.length:l+m),c}return di(e,c,d),c}function kw(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function Lw(t,e,n){const s=Vw(t),i=e.length/n;if(!s)return Math.max(i,1);const r=K_(s);for(let a=0,o=r.length-1;a<o;a++){const l=r[a];if(l>i)return l}return Math.max(i,1)}function Mw(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function Fw(t,e,n,s){let i=0,r=n[0],a;for(s=Math.ceil(s),a=0;a<t.length;a++)a===r&&(e.push(t[a]),i++,r=n[i*s])}function di(t,e,n,s,i){const r=fe(s,0),a=Math.min(fe(i,t.length),t.length);let o=0,l,c,d;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),d=r;d<0;)o++,d=Math.round(r+o*n);for(c=Math.max(r,0);c<a;c++)c===d&&(e.push(t[c]),o++,d=Math.round(r+o*n))}function Vw(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const zw=t=>t==="left"?"right":t==="right"?"left":t,hu=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,fu=(t,e)=>Math.min(e||t,t);function mu(t,e){const n=[],s=t.length/e,i=t.length;let r=0;for(;r<i;r+=s)n.push(t[Math.floor(r)]);return n}function jw(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),r=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(s===1?c=Math.max(l-r,a-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<r-o||l>a+o)))return l}function Uw(t,e){Ne(t,n=>{const s=n.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function Jn(t){return t.drawTicks?t.tickLength:0}function pu(t,e){if(!t.display)return 0;const n=Ha(t.font,e),s=Cs(t.padding);return(Ie(t.text)?t.text.length:1)*n.lineHeight+s.height}function Bw(t,e){return zs(t,{scale:e,type:"scale"})}function Hw(t,e,n){return zs(t,{tick:n,index:e,type:"tick"})}function $w(t,e,n){let s=rS(t);return(n&&e!=="right"||!n&&e==="right")&&(s=zw(s)),s}function Ww(t,e,n,s){const{top:i,left:r,bottom:a,right:o,chart:l}=t,{chartArea:c,scales:d}=l;let h=0,f,m,p;const x=a-i,S=o-r;if(t.isHorizontal()){if(m=Hc(s,r,o),ee(n)){const A=Object.keys(n)[0],w=n[A];p=d[A].getPixelForValue(w)+x-e}else n==="center"?p=(c.bottom+c.top)/2+x-e:p=hu(t,n,e);f=o-r}else{if(ee(n)){const A=Object.keys(n)[0],w=n[A];m=d[A].getPixelForValue(w)-S+e}else n==="center"?m=(c.left+c.right)/2-S+e:m=hu(t,n,e);p=Hc(s,a,i),h=n==="left"?-Wi:Wi}return{titleX:m,titleY:p,maxWidth:f,rotation:h}}class mr extends kf{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=lt(e,Number.POSITIVE_INFINITY),n=lt(n,Number.NEGATIVE_INFINITY),s=lt(s,Number.POSITIVE_INFINITY),i=lt(i,Number.NEGATIVE_INFINITY),{min:lt(e,s),max:lt(n,i),minDefined:Ct(e),maxDefined:Ct(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),a;if(i&&r)return{min:n,max:s};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),i||(n=Math.min(n,a.min)),r||(s=Math.max(s,a.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:lt(n,lt(s,n)),max:lt(s,lt(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ce(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:r,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ES(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?mu(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Iw(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ce(this.options.afterUpdate,[this])}beforeSetDimensions(){ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ce(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ce(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=ce(n.callback,[r.value,s,e],this)}afterTickToLabelConversion(){ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=fu(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let a=i,o,l,c;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,m=St(this.chart.width-h,0,this.maxWidth);o=e.offset?this.maxWidth/s:m/(s-1),h+6>o&&(o=m/(s-(e.offset?.5:1)),l=this.maxHeight-Jn(e.grid)-n.padding-pu(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),a=X_(Math.min(Math.asin(St((d.highest.height+6)/o,-1,1)),Math.asin(St(l/c,-1,1))-Math.asin(St(f/c,-1,1)))),a=Math.max(i,Math.min(r,a))),this.labelRotation=a}afterCalculateLabelRotation(){ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ce(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=pu(i,n.options.font);if(o?(e.width=this.maxWidth,e.height=Jn(r)+l):(e.height=this.maxHeight,e.width=Jn(r)+l),s.display&&this.ticks.length){const{first:c,last:d,widest:h,highest:f}=this._getLabelSizes(),m=s.padding*2,p=rs(this.labelRotation),x=Math.cos(p),S=Math.sin(p);if(o){const A=s.mirror?0:S*h.width+x*f.height;e.height=Math.min(this.maxHeight,e.height+A+m)}else{const A=s.mirror?0:x*h.width+S*f.height;e.width=Math.min(this.maxWidth,e.width+A+m)}this._calculatePadding(c,d,S,x)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:r,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;l?c?(f=i*e.width,m=s*n.height):(f=s*e.height,m=i*n.width):r==="start"?m=n.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,m=n.width/2),this.paddingLeft=Math.max((f-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-h+a)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;r==="start"?(d=0,h=e.height):r==="end"&&(d=n.height,h=0),this.paddingTop=d+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ce(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)_e(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=mu(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:r}=this,a=[],o=[],l=Math.floor(n/fu(n,s));let c=0,d=0,h,f,m,p,x,S,A,w,y,v,T;for(h=0;h<n;h+=l){if(p=e[h].label,x=this._resolveTickFontOptions(h),i.font=S=x.string,A=r[S]=r[S]||{data:{},gc:[]},w=x.lineHeight,y=v=0,!_e(p)&&!Ie(p))y=Gc(i,A.data,A.gc,y,p),v=w;else if(Ie(p))for(f=0,m=p.length;f<m;++f)T=p[f],!_e(T)&&!Ie(T)&&(y=Gc(i,A.data,A.gc,y,T),v+=w);a.push(y),o.push(v),c=Math.max(y,c),d=Math.max(v,d)}Uw(r,n);const D=a.indexOf(c),C=o.indexOf(d),E=R=>({width:a[R]||0,height:o[R]||0});return{first:E(0),last:E(n-1),widest:E(D),highest:E(C),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Q_(this._alignToPixels?Kt(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=Hw(this.getContext(),e,s))}return this.$context||(this.$context=Bw(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=rs(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,o=r?r.widest.width+a:0,l=r?r.highest.height+a:0;return this.isHorizontal()?l*s>o*i?o/s:l/i:l*i<o*s?l/s:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:a,border:o}=i,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=Jn(r),m=[],p=o.setContext(this.getContext()),x=p.display?p.width:0,S=x/2,A=function(W){return Kt(s,W,x)};let w,y,v,T,D,C,E,R,F,z,N,U;if(a==="top")w=A(this.bottom),C=this.bottom-f,R=w-S,z=A(e.top)+S,U=e.bottom;else if(a==="bottom")w=A(this.top),z=e.top,U=A(e.bottom)-S,C=w+S,R=this.top+f;else if(a==="left")w=A(this.right),D=this.right-f,E=w-S,F=A(e.left)+S,N=e.right;else if(a==="right")w=A(this.left),F=e.left,N=A(e.right)-S,D=w+S,E=this.left+f;else if(n==="x"){if(a==="center")w=A((e.top+e.bottom)/2+.5);else if(ee(a)){const W=Object.keys(a)[0],te=a[W];w=A(this.chart.scales[W].getPixelForValue(te))}z=e.top,U=e.bottom,C=w+S,R=C+f}else if(n==="y"){if(a==="center")w=A((e.left+e.right)/2);else if(ee(a)){const W=Object.keys(a)[0],te=a[W];w=A(this.chart.scales[W].getPixelForValue(te))}D=w-S,E=D-f,F=e.left,N=e.right}const O=fe(i.ticks.maxTicksLimit,h),B=Math.max(1,Math.ceil(h/O));for(y=0;y<h;y+=B){const W=this.getContext(y),te=r.setContext(W),Ce=o.setContext(W),ye=te.lineWidth,je=te.color,H=Ce.dash||[],we=Ce.dashOffset,ne=te.tickWidth,ke=te.tickColor,X=te.tickBorderDash||[],oe=te.tickBorderDashOffset;v=jw(this,y,l),v!==void 0&&(T=Kt(s,v,ye),c?D=E=F=N=T:C=R=z=U=T,m.push({tx1:D,ty1:C,tx2:E,ty2:R,x1:F,y1:z,x2:N,y2:U,width:ye,color:je,borderDash:H,borderDashOffset:we,tickWidth:ne,tickColor:ke,tickBorderDash:X,tickBorderDashOffset:oe}))}return this._ticksLength=h,this._borderValue=w,m}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:r}=s,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:d,mirror:h}=r,f=Jn(s.grid),m=f+d,p=h?-d:m,x=-rs(this.labelRotation),S=[];let A,w,y,v,T,D,C,E,R,F,z,N,U="middle";if(i==="top")D=this.bottom-p,C=this._getXAxisLabelAlignment();else if(i==="bottom")D=this.top+p,C=this._getXAxisLabelAlignment();else if(i==="left"){const B=this._getYAxisLabelAlignment(f);C=B.textAlign,T=B.x}else if(i==="right"){const B=this._getYAxisLabelAlignment(f);C=B.textAlign,T=B.x}else if(n==="x"){if(i==="center")D=(e.top+e.bottom)/2+m;else if(ee(i)){const B=Object.keys(i)[0],W=i[B];D=this.chart.scales[B].getPixelForValue(W)+m}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")T=(e.left+e.right)/2-m;else if(ee(i)){const B=Object.keys(i)[0],W=i[B];T=this.chart.scales[B].getPixelForValue(W)}C=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?U="top":l==="end"&&(U="bottom"));const O=this._getLabelSizes();for(A=0,w=o.length;A<w;++A){y=o[A],v=y.label;const B=r.setContext(this.getContext(A));E=this.getPixelForTick(A)+r.labelOffset,R=this._resolveTickFontOptions(A),F=R.lineHeight,z=Ie(v)?v.length:1;const W=z/2,te=B.color,Ce=B.textStrokeColor,ye=B.textStrokeWidth;let je=C;a?(T=E,C==="inner"&&(A===w-1?je=this.options.reverse?"left":"right":A===0?je=this.options.reverse?"right":"left":je="center"),i==="top"?c==="near"||x!==0?N=-z*F+F/2:c==="center"?N=-O.highest.height/2-W*F+F:N=-O.highest.height+F/2:c==="near"||x!==0?N=F/2:c==="center"?N=O.highest.height/2-W*F:N=O.highest.height-z*F,h&&(N*=-1),x!==0&&!B.showLabelBackdrop&&(T+=F/2*Math.sin(x))):(D=E,N=(1-z)*F/2);let H;if(B.showLabelBackdrop){const we=Cs(B.backdropPadding),ne=O.heights[A],ke=O.widths[A];let X=N-we.top,oe=0-we.left;switch(U){case"middle":X-=ne/2;break;case"bottom":X-=ne;break}switch(C){case"center":oe-=ke/2;break;case"right":oe-=ke;break;case"inner":A===w-1?oe-=ke:A>0&&(oe-=ke/2);break}H={left:oe,top:X,width:ke+we.width,height:ne+we.height,color:B.backdropColor}}S.push({label:v,font:R,textOffset:N,options:{rotation:x,color:te,strokeColor:Ce,strokeWidth:ye,textAlign:je,textBaseline:U,translation:[T,D],backdrop:H}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-rs(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,a=this._getLabelSizes(),o=e+r,l=a.widest.width;let c,d;return n==="left"?i?(d=this.right+r,s==="near"?c="left":s==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-o,s==="near"?c="right":s==="center"?(c="center",d-=l/2):(c="left",d=this.left)):n==="right"?i?(d=this.left+r,s==="near"?c="right":s==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+o,s==="near"?c="left":s==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:r,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,r,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const o=(l,c,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(r=0,a=i.length;r<a;++r){const l=i[r];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),a=s.display?r.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,h,f;this.isHorizontal()?(c=Kt(e,this.left,a)-a/2,d=Kt(e,this.right,o)+o/2,h=f=l):(h=Kt(e,this.top,a)-a/2,f=Kt(e,this.bottom,o)+o/2,c=d=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&Sf(s,i);const r=this.getLabelItems(e);for(const a of r){const o=a.options,l=a.font,c=a.label,d=a.textOffset;Yc(s,c,0,d,l,o)}i&&wf(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=Ha(s.font),a=Cs(s.padding),o=s.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||ee(n)?(l+=a.bottom,Ie(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=a.top;const{titleX:c,titleY:d,maxWidth:h,rotation:f}=Ww(this,l,n,o);Yc(e,s.text,0,0,r,{color:s.color,maxWidth:h,rotation:f,textAlign:$w(o,n,i),textBaseline:"middle",translation:[c,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=fe(e.grid&&e.grid.z,-1),i=fe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==mr.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,a;for(r=0,a=n.length;r<a;++r){const o=n[r];o[s]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ha(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class hi{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;Kw(n)&&(s=this.register(n));const i=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,qw(e,a,s),this.override&&me.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in me[i]&&(delete me[i][s],this.override&&delete hn[s])}}function qw(t,e,n){const s=As(Object.create(null),[n?me.get(n):{},me.get(e),t.defaults]);me.set(e,s),t.defaultRoutes&&Gw(e,t.defaultRoutes),t.descriptors&&me.describe(e,t.descriptors)}function Gw(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),r=[t].concat(s).join("."),a=e[n].split("."),o=a.pop(),l=a.join(".");me.route(r,i,l,o)})}function Kw(t){return"id"in t&&"defaults"in t}class Yw{constructor(){this.controllers=new hi(ps,"datasets",!0),this.elements=new hi(kf,"elements"),this.plugins=new hi(Object,"plugins"),this.scales=new hi(mr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):Ne(i,a=>{const o=s||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,s){const i=Co(e);ce(s["before"+i],[],s),n[e](s),ce(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var ct=new Yw;class Xw{constructor(){this._init=[]}notify(e,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(r,e,n,s);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,n,s,i){i=i||{};for(const r of e){const a=r.plugin,o=a[s],l=[n,i,r.options];if(ce(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){_e(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=fe(s.options&&s.options.plugins,{}),r=Zw(s);return i===!1&&!n?[]:Qw(e,r,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(r,a)=>r.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function Zw(t){const e={},n=[],s=Object.keys(ct.plugins.items);for(let r=0;r<s.length;r++)n.push(ct.getPlugin(s[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const a=i[r];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function Jw(t,e){return!e&&t===!1?null:t===!0?{}:t}function Qw(t,{plugins:e,localIds:n},s,i){const r=[],a=t.getContext();for(const o of e){const l=o.id,c=Jw(s[l],i);c!==null&&r.push({plugin:o,options:eT(t.config,{plugin:o,local:n[l]},c,a)})}return r}function eT(t,{plugin:e,local:n},s,i){const r=t.pluginScopeKeys(e),a=t.getOptionScopes(s,r);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function $a(t,e){const n=me.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function tT(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function nT(t,e){return t===e?"_index_":"_value_"}function gu(t){if(t==="x"||t==="y"||t==="r")return t}function sT(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Wa(t,...e){if(gu(t))return t;for(const n of e){const s=n.axis||sT(n.position)||t.length>1&&gu(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function yu(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function iT(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return yu(t,"x",n[0])||yu(t,"y",n[0])}return{}}function rT(t,e){const n=hn[t.type]||{scales:{}},s=e.scales||{},i=$a(t.type,e),r=Object.create(null);return Object.keys(s).forEach(a=>{const o=s[a];if(!ee(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=Wa(a,o,iT(a,t),me.scales[o.type]),c=nT(l,i),d=n.scales||{};r[a]=hs(Object.create(null),[{axis:l},o,d[l],d[c]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||$a(o,e),d=(hn[o]||{}).scales||{};Object.keys(d).forEach(h=>{const f=tT(h,l),m=a[f+"AxisID"]||f;r[m]=r[m]||Object.create(null),hs(r[m],[{axis:f},s[m],d[h]])})}),Object.keys(r).forEach(a=>{const o=r[a];hs(o,[me.scales[o.type],me.scale])}),r}function Lf(t){const e=t.options||(t.options={});e.plugins=fe(e.plugins,{}),e.scales=rT(t,e)}function Mf(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function aT(t){return t=t||{},t.data=Mf(t.data),Lf(t),t}const bu=new Map,Ff=new Set;function fi(t,e){let n=bu.get(t);return n||(n=e(),bu.set(t,n),Ff.add(n)),n}const Qn=(t,e,n)=>{const s=Bi(e,n);s!==void 0&&t.add(s)};class oT{constructor(e){this._config=aT(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Mf(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Lf(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return fi(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return fi(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return fi(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return fi(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:r}=this,a=this._cachedScopes(e,s),o=a.get(n);if(o)return o;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(h=>Qn(l,e,h))),d.forEach(h=>Qn(l,i,h)),d.forEach(h=>Qn(l,hn[r]||{},h)),d.forEach(h=>Qn(l,me,h)),d.forEach(h=>Qn(l,Ba,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Ff.has(n)&&a.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,hn[n]||{},me.datasets[n]||{},{type:n},me,Ba]}resolveNamedOptions(e,n,s,i=[""]){const r={$shared:!0},{resolver:a,subPrefixes:o}=xu(this._resolverCache,e,i);let l=a;if(cT(a,n)){r.$shared=!1,s=Ut(s)?s():s;const c=this.createResolver(e,s,o);l=In(a,s,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,s=[""],i){const{resolver:r}=xu(this._resolverCache,e,s);return ee(n)?In(r,n,void 0,i):r}}function xu(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let r=s.get(i);return r||(r={resolver:Ro(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},s.set(i,r)),r}const lT=t=>ee(t)&&Object.getOwnPropertyNames(t).some(e=>Ut(t[e]));function cT(t,e){const{isScriptable:n,isIndexable:s}=Tf(t);for(const i of e){const r=n(i),a=s(i),o=(a||r)&&t[i];if(r&&(Ut(o)||lT(o))||a&&Ie(o))return!0}return!1}var uT="4.5.0";const dT=["top","bottom","left","right","chartArea"];function vu(t,e){return t==="top"||t==="bottom"||dT.indexOf(t)===-1&&e==="x"}function _u(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function Su(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ce(n&&n.onComplete,[t],e)}function hT(t){const e=t.chart,n=e.options.animation;ce(n&&n.onProgress,[t],e)}function Vf(t){return Oo()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ci={},wu=t=>{const e=Vf(t);return Object.values(Ci).filter(n=>n.canvas===e).pop()};function fT(t,e,n){const s=Object.keys(t);for(const i of s){const r=+i;if(r>=e){const a=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=a)}}}function mT(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var Nt;let Lo=(Nt=class{static register(...e){ct.add(...e),Tu()}static unregister(...e){ct.remove(...e),Tu()}constructor(e,n){const s=this.config=new oT(n),i=Vf(e),r=wu(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Ow(i)),this.platform.updateConfig(s);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,d=l&&l.width;if(this.id=U_(),this.ctx=o,this.canvas=l,this.width=d,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Xw,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=iS(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],Ci[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}bt.listen(this,"complete",Su),bt.listen(this,"progress",hT),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return _e(e)?n&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ct}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Jc(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Kc(this.canvas,this.ctx),this}stop(){return bt.stop(this),this}resize(e,n){bt.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,n,r),o=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Jc(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),ce(s.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ne(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((a,o)=>(a[o]=!1,a),{});let r=[];n&&(r=r.concat(Object.keys(n).map(a=>{const o=n[a],l=Wa(a,o),c=l==="r",d=l==="x";return{options:o,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),Ne(r,a=>{const o=a.options,l=o.id,c=Wa(l,o),d=fe(o.type,a.dtype);(o.position===void 0||vu(o.position,c)!==vu(a.dposition))&&(o.position=a.dposition),i[l]=!0;let h=null;if(l in s&&s[l].type===d)h=s[l];else{const f=ct.getScale(d);h=new f({id:l,type:d,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(o,e)}),Ne(i,(a,o)=>{a||delete s[o]}),Ne(s,a=>{ui.configure(this,a,a.options),ui.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(_u("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let a=this.getDatasetMeta(s);const o=r.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(s),a=this.getDatasetMeta(s)),a.type=o,a.indexAxis=r.indexAxis||$a(o,this.options),a.order=r.order||0,a.index=s,a.label=""+r.label,a.visible=this.isDatasetVisible(s),a.controller)a.controller.updateIndex(s),a.controller.linkScales();else{const l=ct.getController(o),{datasetElementType:c,dataElementType:d}=me.datasets[o];Object.assign(l,{dataElementType:ct.getElement(d),datasetElementType:c&&ct.getElement(c)}),a.controller=new l(this,s),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Ne(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:h}=this.getDatasetMeta(c),f=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=s.layout.autoPadding?a:0,this._updateLayout(a),i||Ne(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(_u("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Ne(this.scales,e=>{ui.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!jc(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const a=s==="_removeElements"?-r:r;fT(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(e.filter(a=>a[0]===r).map((a,o)=>o+","+a.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!jc(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ui.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Ne(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Ut(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(bt.has(this)?this.attached&&!bt.running(this)&&bt.start(this):(this.draw(),Su({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const a=n[i];(!e||a.visible)&&s.push(a)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=$S(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&Sf(n,i),e.controller.draw(),i&&wf(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return _f(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const r=dw.modes[n];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=zs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,i);Hi(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),a.update(r,{visible:s}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),bt.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Kc(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ci[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(r,a)=>{n.addEventListener(this,r,a),e[r]=a},i=(r,a,o)=>{r.offsetX=a,r.offsetY=o,this._eventHandler(r)};Ne(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),s("resize",r),s("detach",a)};a=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){Ne(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ne(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let r,a,o,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:r,index:a})=>{const o=this.getDatasetMeta(r);if(!o)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:o.data[a],index:a}});!Vc(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,r=(l,c)=>l.filter(d=>!c.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=r(n,e),o=s?e:r(e,n);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:r}=this,a=n,o=this._getActiveElements(e,i,s,a),l=G_(e),c=mT(e,this._lastEvent,s,l);s&&(this._lastEvent=null,ce(r.onHover,[e,o,this],this),l&&ce(r.onClick,[e,o,this],this));const d=!Vc(o,i);return(d||n)&&(this._active=o,this._updateHoverStyles(o,i,n)),this._lastEvent=c,d}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}},Z(Nt,"defaults",me),Z(Nt,"instances",Ci),Z(Nt,"overrides",hn),Z(Nt,"registry",ct),Z(Nt,"version",uT),Z(Nt,"getChart",wu),Nt);function Tu(){return Ne(Lo.instances,t=>t._plugins.invalidate())}const pr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$e=Object.keys(pr);function Au(t,e){return t-e}function Eu(t,e){if(_e(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:r}=t._parseOpts;let a=e;return typeof s=="function"&&(a=s(a)),Ct(a)||(a=typeof s=="string"?n.parse(a,s):n.parse(a)),a===null?null:(i&&(a=i==="week"&&(Es(r)||r===!0)?n.startOf(a,"isoWeek",r):n.startOf(a,i)),+a)}function Cu(t,e,n,s){const i=$e.length;for(let r=$e.indexOf(t);r<i-1;++r){const a=pr[$e[r]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=s)return $e[r]}return $e[i-1]}function pT(t,e,n,s,i){for(let r=$e.length-1;r>=$e.indexOf(n);r--){const a=$e[r];if(pr[a].common&&t._adapter.diff(i,s,a)>=e-1)return a}return $e[n?$e.indexOf(n):0]}function gT(t){for(let e=$e.indexOf(t)+1,n=$e.length;e<n;++e)if(pr[$e[e]].common)return $e[e]}function Pu(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=Po(n,e),r=n[s]>=e?n[s]:n[i];t[r]=!0}}function yT(t,e,n,s){const i=t._adapter,r=+i.startOf(e[0].value,s),a=e[e.length-1].value;let o,l;for(o=r;o<=a;o=+i.add(o,1,s))l=n[o],l>=0&&(e[l].major=!0);return e}function Ru(t,e,n){const s=[],i={},r=e.length;let a,o;for(a=0;a<r;++a)o=e[a],i[o]=a,s.push({value:o,major:!1});return r===0||!n?s:yT(t,s,i,n)}class Ki extends mr{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new aw._date(e.adapters.date);i.init(n),hs(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Eu(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!o&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Ct(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=Ct(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,a=this.max,o=tS(i,r,a);return this._unit=n.unit||(s.autoSkip?Cu(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):pT(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:gT(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),Ru(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=St(n,0,a),s=St(s,0,a),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,a=r.unit||Cu(r.minUnit,n,s,this._getLabelCapacity(n)),o=fe(i.ticks.stepSize,1),l=a==="week"?r.isoWeekday:!1,c=Es(l)||l===!0,d={};let h=n,f,m;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":a),e.diff(s,n,a)>1e5*o)throw new Error(n+" and "+s+" are too far apart with stepSize of "+o+" "+a);const p=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,m=0;f<s;f=+e.add(f,o,a),m++)Pu(d,f,p);return(f===s||i.bounds==="ticks"||m===1)&&Pu(d,f,p),Object.keys(d).sort(Au).map(x=>+x)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,r=this._unit,a=n||i[r];return this._adapter.format(e,a)}_tickFormatFunction(e,n,s,i){const r=this.options,a=r.ticks.callback;if(a)return ce(a,[e,n,s],this);const o=r.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&o[l],h=c&&o[c],f=s[n],m=c&&h&&f&&f.major;return this._adapter.format(e,i||(m?h:d))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=rs(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:s*r+o*a,h:s*a+o*r}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,Ru(this,[e],this._majorUnit),i),a=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(Eu(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return sS(e.sort(Au))}}Z(Ki,"id","time"),Z(Ki,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function mi(t,e,n){let s=0,i=t.length-1,r,a,o,l;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=sn(t,"pos",e)),{pos:r,time:o}=t[s],{pos:a,time:l}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=sn(t,"time",e)),{time:r,pos:o}=t[s],{time:a,pos:l}=t[i]);const c=a-r;return c?o+(l-o)*(e-r)/c:o}class Du extends Ki{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=mi(n,this.min),this._tableRange=mi(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],r=[];let a,o,l,c,d;for(a=0,o=e.length;a<o;++a)c=e[a],c>=n&&c<=s&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(a=0,o=i.length;a<o;++a)d=i[a+1],l=i[a-1],c=i[a],Math.round((d+l)/2)!==c&&r.push({time:c,pos:a/(o-1)});return r}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(mi(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return mi(this._table,s*this._tableRange+this._minPos,!0)}}Z(Du,"id","timeseries"),Z(Du,"defaults",Ki.defaults);const zf="label";function Nu(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function bT(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function jf(t,e){t.labels=e}function Uf(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zf;const s=[];t.datasets=e.map(i=>{const r=t.datasets.find(a=>a[n]===i[n]);return!r||!i.data||s.includes(r)?{...i}:(s.push(r),Object.assign(r,i),r)})}function xT(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zf;const n={labels:[],datasets:[]};return jf(n,t.labels),Uf(n,t.datasets,e),n}function vT(t,e){const{height:n=150,width:s=300,redraw:i=!1,datasetIdKey:r,type:a,data:o,options:l,plugins:c=[],fallbackContent:d,updateMode:h,...f}=t,m=b.useRef(null),p=b.useRef(null),x=()=>{m.current&&(p.current=new Lo(m.current,{type:a,data:xT(o,r),options:l&&{...l},plugins:c}),Nu(e,p.current))},S=()=>{Nu(e,null),p.current&&(p.current.destroy(),p.current=null)};return b.useEffect(()=>{!i&&p.current&&l&&bT(p.current,l)},[i,l]),b.useEffect(()=>{!i&&p.current&&jf(p.current.config.data,o.labels)},[i,o.labels]),b.useEffect(()=>{!i&&p.current&&o.datasets&&Uf(p.current.config.data,o.datasets,r)},[i,o.datasets]),b.useEffect(()=>{p.current&&(i?(S(),setTimeout(x)):p.current.update(h))},[i,l,o.labels,o.datasets,h]),b.useEffect(()=>{p.current&&(S(),setTimeout(x))},[a]),b.useEffect(()=>(x(),()=>S()),[]),dt.createElement("canvas",{ref:m,role:"img",height:n,width:s,...f},d)}const _T=b.forwardRef(vT);function ST(t,e){return Lo.register(e),b.forwardRef((n,s)=>dt.createElement(_T,{...n,ref:s,type:t}))}const wT=ST("line",Ai),TT=()=>{const[t,e]=b.useState({claims_processed:0,cache_hit_rate:95.2,active_connections:156,events_processed:0,ai_analyses:23,response_time:245}),[n,s]=b.useState({labels:[],datasets:[]});return b.useEffect(()=>{const i=setInterval(()=>{e(a=>({claims_processed:Math.max(0,a.claims_processed+Math.floor(Math.random()*5)),cache_hit_rate:Math.max(90,Math.min(99,a.cache_hit_rate+(Math.random()-.5)*2)),active_connections:Math.max(100,Math.min(200,a.active_connections+Math.floor((Math.random()-.5)*10))),events_processed:a.events_processed+Math.floor(Math.random()*3),ai_analyses:Math.max(0,a.ai_analyses+Math.floor(Math.random()*2)),response_time:Math.max(100,Math.min(500,a.response_time+(Math.random()-.5)*50))}));const r=new Date().toLocaleTimeString();s(a=>({labels:[...a.labels.slice(-19),r],datasets:[{label:"Claims/min",data:[...a.datasets[0]?.data?.slice(-19)||[],t.claims_processed],borderColor:"rgb(75, 192, 192)",tension:.1,fill:!1},{label:"Cache Hit %",data:[...a.datasets[1]?.data?.slice(-19)||[],t.cache_hit_rate],borderColor:"rgb(255, 99, 132)",tension:.1,fill:!1}]}))},2e3);return()=>clearInterval(i)},[t.claims_processed,t.cache_hit_rate]),{metrics:t,chartData:n}},AT=({compact:t=!1})=>{const{currentLanguage:e,isRTL:n}=Se(),{realTime:s}=Pt(),{metrics:i,chartData:r}=TT(),a={claims_processed:"المطالبات المعالجة",cache_hit_rate:"معدل إصابة التخزين المؤقت",active_connections:"الاتصالات النشطة",events_processed:"الأحداث المعالجة",ai_analyses:"تحليلات الذكاء الاصطناعي",response_time:"زمن الاستجابة"},o=(c,d)=>{switch(c){case"cache_hit_rate":return`${d.toFixed(1)}%`;case"response_time":return`${Math.round(d)}ms`;default:return Math.round(d).toLocaleString()}},l=(c,d)=>{switch(c){case"cache_hit_rate":return d>95?"success":d>90?"warning":"error";case"response_time":return d<300?"success":d<500?"warning":"error";default:return"primary"}};return t?u(ve,{sx:{minWidth:250,backgroundColor:"rgba(0,0,0,0.8)",color:"white"},children:g(Ee,{sx:{p:2},children:[g(k,{display:"flex",alignItems:"center",gap:1,mb:1,children:[u(k,{width:8,height:8,borderRadius:"50%",bgcolor:s?.connected?"success.main":"error.main",sx:{animation:s?.connected?"pulse 2s infinite":"none"}}),u(L,{variant:"caption",fontWeight:"bold",children:e==="ar"?"المقاييس المباشرة":"Live Metrics"})]}),u(G,{container:!0,spacing:1,children:Object.entries(i).slice(0,4).map(([c,d])=>g(G,{item:!0,xs:6,children:[u(L,{variant:"caption",color:"rgba(255,255,255,0.7)",children:a[c]||c.replace(/_/g," ")}),u(L,{variant:"body2",fontWeight:"bold",children:o(c,d)})]},c))})]})}):g(k,{children:[g(k,{display:"flex",alignItems:"center",justifyContent:"between",mb:3,children:[u(L,{variant:"h5",fontWeight:"bold",children:e==="ar"?"📊 المقاييس المباشرة":"📊 Real-time Metrics"}),u(J,{size:"small",label:s?.connected?e==="ar"?"متصل مباشر":"Live Connected":e==="ar"?"غير متصل":"Disconnected",color:s?.connected?"success":"error",variant:"outlined"})]}),u(G,{container:!0,spacing:3,mb:4,children:Object.entries(i).map(([c,d])=>u(G,{item:!0,xs:12,sm:6,md:4,children:u(ve,{children:u(Ee,{children:g(k,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[g(k,{children:[u(L,{variant:"h4",fontWeight:"bold",color:`${l(c,d)}.main`,children:o(c,d)}),u(L,{variant:"body2",color:"text.secondary",children:e==="ar"?a[c]:c.replace(/_/g," ").toUpperCase()})]}),u(Yu,{sx:{fontSize:32,color:`${l(c,d)}.main`,opacity:.7}})]})})})},c))}),u(ve,{children:g(Ee,{children:[u(L,{variant:"h6",mb:2,children:e==="ar"?"📈 الاتجاهات المباشرة":"📈 Live Trends"}),r.labels.length>0?u(k,{height:300,children:u(wT,{data:r,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:e==="ar"?"مقاييس المنصة الصحية":"Healthcare Platform Metrics"}},scales:{y:{beginAtZero:!0}}}})}):u(k,{display:"flex",justifyContent:"center",alignItems:"center",height:200,children:g(k,{textAlign:"center",children:[u(Ka,{sx:{mb:2}}),u(L,{color:"text.secondary",children:e==="ar"?"انتظار البيانات المباشرة...":"Waiting for real-time data..."})]})})]})})]})},ET=async()=>(await new Promise(t=>setTimeout(t,1e3)),{identities:[{id:"1",name:"Dr. Ahmed Al-Rashid",name_ar:"د. أحمد الراشد",entity_type:"provider",role:"physician",organization:"King Fahd University Hospital",organization_ar:"مستشفى الملك فهد الجامعي",access_level:"high",nphies_id:"NPHIES_001",full_oid:"1.3.6.1.4.1.61026.1.2.001",status:"active"},{id:"2",name:"Nurse Sara Mohamed",name_ar:"الممرضة سارة محمد",entity_type:"provider",role:"nurse",organization:"Riyadh Medical Complex",organization_ar:"مجمع الرياض الطبي",access_level:"medium",nphies_id:"NPHIES_002",full_oid:"1.3.6.1.4.1.61026.1.2.002",status:"active"},{id:"3",name:"Patient Ali Hassan",name_ar:"المريض علي حسن",entity_type:"patient",role:"patient",organization:null,access_level:"low",nphies_id:"NPHIES_003",full_oid:"1.3.6.1.4.1.61026.1.1.003",status:"active"}]}),CT=async t=>(await new Promise(e=>setTimeout(e,1500)),{id:Date.now().toString(),full_oid:`1.3.6.1.4.1.61026.1.${t.entity_type==="patient"?"1":"2"}.${Date.now()}`,...t,status:"active"}),PT=({data:t,isLoading:e,error:n})=>{const{currentLanguage:s,isRTL:i}=Se(),r=km(),[a,o]=b.useState(!1),[l,c]=b.useState({entity_type:"provider",name:"",name_ar:"",role:"physician",access_level:"medium",organization:"",organization_ar:"",department:"",national_id:"",nphies_id:""}),{data:d,isLoading:h,error:f}=Lm("healthcare-identities",ET,{refetchInterval:3e4,staleTime:1e4}),m=Mm(CT,{onSuccess:()=>{r.invalidateQueries("healthcare-identities"),o(!1),p()}}),p=()=>{c({entity_type:"provider",name:"",name_ar:"",role:"physician",access_level:"medium",organization:"",organization_ar:"",department:"",national_id:"",nphies_id:""})},x=()=>{m.mutate(l)},S=y=>{switch(y){case"patient":return u(an,{});case"provider":return u(ha,{});case"organization":return u(bs,{});default:return u(gs,{})}},A=y=>{switch(y){case"low":return"info";case"medium":return"warning";case"high":return"error";case"critical":return"error";default:return"default"}},w=b.useMemo(()=>{if(!d?.identities)return{total:0,providers:0,patients:0,organizations:0};const y=d.identities;return{total:y.length,providers:y.filter(v=>v.entity_type==="provider").length,patients:y.filter(v=>v.entity_type==="patient").length,organizations:y.filter(v=>v.entity_type==="organization").length}},[d]);return f||n?u(un,{severity:"error",children:f?.message||n||"Failed to load healthcare identities"}):g(k,{children:[g(k,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[u(L,{variant:"h5",fontWeight:"bold",children:s==="ar"?"إدارة الهوية الطبية":"Healthcare Identity Management"}),u(Fe,{variant:"contained",startIcon:u(Uu,{}),onClick:()=>o(!0),children:s==="ar"?"تسجيل هوية جديدة":"Register New Identity"})]}),u(G,{container:!0,spacing:3,mb:4,children:[{key:"total",label:{en:"Total Identities",ar:"إجمالي الهويات"},color:"primary",icon:an},{key:"providers",label:{en:"Healthcare Providers",ar:"مقدمو الرعاية"},color:"success",icon:ha},{key:"patients",label:{en:"Patients",ar:"المرضى"},color:"info",icon:an},{key:"organizations",label:{en:"Organizations",ar:"المؤسسات"},color:"warning",icon:bs}].map((y,v)=>{const T=y.icon;return u(G,{item:!0,xs:12,sm:6,md:3,children:u(vo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},children:u(ve,{children:u(Ee,{children:g(k,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[g(k,{children:[u(L,{variant:"h4",fontWeight:"bold",color:`${y.color}.main`,children:w[y.key]}),u(L,{variant:"body2",color:"text.secondary",children:y.label[s]})]}),u(T,{sx:{fontSize:32,color:`${y.color}.main`,opacity:.7}})]})})})})},y.key)})}),u(ve,{children:g(Ee,{children:[u(L,{variant:"h6",gutterBottom:!0,children:s==="ar"?"الهويات الطبية المسجلة":"Registered Healthcare Identities"}),(h||e)&&u(Ka,{sx:{mb:2}}),u(hm,{children:g(fm,{children:[u(mm,{children:g(Er,{children:[u(Ke,{children:s==="ar"?"الاسم":"Name"}),u(Ke,{children:s==="ar"?"الدور":"Role"}),u(Ke,{children:s==="ar"?"المؤسسة":"Organization"}),u(Ke,{children:s==="ar"?"مستوى الوصول":"Access Level"}),u(Ke,{children:s==="ar"?"معرف نفيس":"NPHIES ID"}),u(Ke,{align:"center",children:s==="ar"?"الإجراءات":"Actions"})]})}),u(pm,{children:d?.identities?.map(y=>g(Er,{hover:!0,children:[u(Ke,{children:g(k,{display:"flex",alignItems:"center",gap:1,children:[S(y.entity_type),g(k,{children:[u(L,{variant:"body2",fontWeight:"bold",children:s==="ar"&&y.name_ar?y.name_ar:y.name}),u(L,{variant:"caption",color:"text.secondary",children:y.full_oid})]})]})}),u(Ke,{children:u(J,{label:y.role,variant:"outlined",size:"small"})}),u(Ke,{children:s==="ar"&&y.organization_ar?y.organization_ar:y.organization||"-"}),u(Ke,{children:u(J,{label:y.access_level,color:A(y.access_level),size:"small"})}),u(Ke,{children:y.nphies_id||"-"}),g(Ke,{align:"center",children:[u(Xe,{size:"small",color:"primary",children:u(gm,{})}),u(Xe,{size:"small",color:"warning",children:u(Hu,{})}),u(Xe,{size:"small",color:"error",children:u($u,{})})]})]},y.id))||u(Er,{children:u(Ke,{colSpan:6,align:"center",children:u(L,{color:"text.secondary",children:s==="ar"?"لا توجد هويات مسجلة":"No identities registered"})})})})]})})]})}),g(Wu,{open:a,onClose:()=>o(!1),maxWidth:"md",fullWidth:!0,children:[u(qu,{children:s==="ar"?"تسجيل هوية طبية جديدة":"Register New Healthcare Identity"}),u(Gu,{children:g(G,{container:!0,spacing:2,sx:{mt:1},children:[u(G,{item:!0,xs:12,sm:6,children:g(fa,{fullWidth:!0,children:[u(ma,{children:s==="ar"?"نوع الكيان":"Entity Type"}),g(pa,{value:l.entity_type,onChange:y=>c({...l,entity_type:y.target.value}),children:[u(ge,{value:"patient",children:s==="ar"?"مريض":"Patient"}),u(ge,{value:"provider",children:s==="ar"?"مقدم رعاية":"Healthcare Provider"}),u(ge,{value:"organization",children:s==="ar"?"مؤسسة":"Organization"})]})]})}),u(G,{item:!0,xs:12,sm:6,children:g(Be,{fullWidth:!0,label:s==="ar"?"الدور":"Role",select:!0,value:l.role,onChange:y=>c({...l,role:y.target.value}),children:[u(ge,{value:"patient",children:s==="ar"?"مريض":"Patient"}),u(ge,{value:"physician",children:s==="ar"?"طبيب":"Physician"}),u(ge,{value:"nurse",children:s==="ar"?"ممرض":"Nurse"}),u(ge,{value:"pharmacist",children:s==="ar"?"صيدلي":"Pharmacist"}),u(ge,{value:"technician",children:s==="ar"?"تقني":"Technician"}),u(ge,{value:"administrator",children:s==="ar"?"مدير":"Administrator"})]})}),u(G,{item:!0,xs:12,sm:6,children:u(Be,{fullWidth:!0,label:s==="ar"?"الاسم (إنجليزي)":"Name (English)",value:l.name,onChange:y=>c({...l,name:y.target.value})})}),u(G,{item:!0,xs:12,sm:6,children:u(Be,{fullWidth:!0,label:s==="ar"?"الاسم (عربي)":"Name (Arabic)",value:l.name_ar,onChange:y=>c({...l,name_ar:y.target.value}),InputProps:{dir:"rtl"}})}),u(G,{item:!0,xs:12,sm:6,children:u(Be,{fullWidth:!0,label:s==="ar"?"المؤسسة":"Organization",value:l.organization,onChange:y=>c({...l,organization:y.target.value})})}),u(G,{item:!0,xs:12,sm:6,children:u(Be,{fullWidth:!0,label:s==="ar"?"معرف نفيس":"NPHIES ID",value:l.nphies_id,onChange:y=>c({...l,nphies_id:y.target.value})})})]})}),g(Ku,{children:[u(Fe,{onClick:()=>o(!1),children:s==="ar"?"إلغاء":"Cancel"}),u(Fe,{variant:"contained",onClick:x,disabled:m.isLoading,children:m.isLoading?s==="ar"?"جاري الحفظ...":"Saving...":s==="ar"?"حفظ":"Save"})]})]})]})},Fn=({title:t,description:e,icon:n})=>{const{currentLanguage:s}=Se();return u(ve,{children:u(Ee,{children:g(k,{display:"flex",flexDirection:"column",alignItems:"center",py:4,children:[n&&u(n,{sx:{fontSize:64,color:"primary.main",mb:2}}),u(L,{variant:"h5",fontWeight:"bold",mb:1,children:t}),u(L,{variant:"body2",color:"text.secondary",textAlign:"center",children:e||(s==="ar"?"هذا القسم قيد التطوير وسيكون متاحاً قريباً":"This section is under development and will be available soon")})]})})})},RT=b.lazy(()=>Promise.resolve({default:t=>u(Fn,{title:"NPHIES Integration",description:"Saudi NPHIES platform integration and claims management",...t})})),DT=b.lazy(()=>Promise.resolve({default:t=>u(Fn,{title:"Revenue Cycle Management",description:"Healthcare revenue cycle analytics and optimization",...t})})),NT=b.lazy(()=>Promise.resolve({default:t=>u(Fn,{title:"Training Platform",description:"Medical coding certification and training programs",...t})})),OT=b.lazy(()=>Promise.resolve({default:t=>u(Fn,{title:"BOT Projects",description:"Build-Operate-Transfer project management",...t})})),IT=b.lazy(()=>Promise.resolve({default:t=>u(Fn,{title:"Operations Center",description:"24/7 healthcare operations monitoring",...t})})),kT=b.lazy(()=>Promise.resolve({default:t=>u(Fn,{title:"AI Analytics",description:"Artificial intelligence powered healthcare analytics",...t})})),Dt=({message:t})=>{const{currentLanguage:e}=Se();return g(k,{display:"flex",flexDirection:"column",alignItems:"center",py:4,children:[u(Ka,{sx:{width:"100%",mb:2}}),u(L,{variant:"body2",color:"text.secondary",children:t||(e==="ar"?"جاري التحميل...":"Loading...")})]})},la=[{id:"overview",label:{en:"Overview",ar:"نظرة عامة"},icon:Vu,color:"primary"},{id:"healthcare",label:{en:"Healthcare",ar:"الرعاية الصحية"},icon:ha,color:"secondary"},{id:"nphies",label:{en:"NPHIES",ar:"نفيس"},icon:Xu,color:"success"},{id:"rcm",label:{en:"RCM",ar:"إدارة الإيرادات"},icon:Zu,color:"warning"},{id:"training",label:{en:"Training",ar:"التدريب"},icon:ju,color:"info"},{id:"bot",label:{en:"BOT Projects",ar:"مشاريع البوت"},icon:ym,color:"secondary"},{id:"operations",label:{en:"Operations",ar:"العمليات"},icon:Ju,color:"primary"},{id:"ai_analytics",label:{en:"AI Analytics",ar:"تحليلات الذكاء الاصطناعي"},icon:Yu,color:"error"}],LT=()=>{const{currentLanguage:t}=Se(),{systemStatus:e,checkSystemHealth:n}=Pt(),s=r=>{switch(r?.status){case"operational":return"success";case"degraded":return"warning";case"offline":return"error";default:return"default"}};return g(k,{display:"flex",alignItems:"center",gap:1,children:[u(J,{size:"small",label:(r=>({operational:{en:"Operational",ar:"تشغيلي"},degraded:{en:"Degraded",ar:"منخفض الأداء"},offline:{en:"Offline",ar:"غير متصل"}})[r?.status]?.[t]||"Unknown")(e),color:s(e),variant:"outlined"}),u(L,{variant:"caption",color:"text.secondary",children:t==="ar"?"حالة النظام":"System Status"}),u(Xe,{size:"small",onClick:n,children:u(Ga,{fontSize:"small"})})]})},MT=()=>{const{currentLanguage:t}=Se(),{realTime:e}=Pt();return g(k,{display:"flex",alignItems:"center",gap:1,children:[u(k,{width:8,height:8,borderRadius:"50%",bgcolor:e?.connected?"success.main":"error.main",sx:{animation:e?.connected?"pulse 2s infinite":"none"}}),u(L,{variant:"caption",color:"text.secondary",children:e?.connected?t==="ar"?"متصل مباشر":"Live Connected":t==="ar"?"غير متصل":"Disconnected"})]})},Ou=()=>{const{currentLanguage:t,isRTL:e}=Se(),{unifiedData:n}=Pt(),s=[{title:{en:"Total Claims",ar:"إجمالي المطالبات"},value:n?.overview?.totalClaims||0,icon:Xu,color:"primary",format:"number"},{title:{en:"Accuracy Rate",ar:"معدل الدقة"},value:n?.overview?.accuracy||0,icon:Ye,color:"success",format:"percentage"},{title:{en:"Revenue",ar:"الإيرادات"},value:n?.overview?.revenue||0,icon:Zu,color:"warning",format:"currency"},{title:{en:"Active Users",ar:"المستخدمون النشطون"},value:n?.overview?.users||0,icon:Ju,color:"info",format:"number"}],i=(r,a)=>{switch(a){case"percentage":return`${r.toFixed(1)}%`;case"currency":return`${(r/1e6).toFixed(1)}M SAR`;default:return r.toLocaleString()}};return u(G,{container:!0,spacing:3,children:s.map((r,a)=>{const o=r.icon;return u(G,{item:!0,xs:12,sm:6,md:3,children:u(vo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},children:u(ve,{sx:{height:"100%"},children:u(Ee,{children:g(k,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[g(k,{children:[u(L,{variant:"h4",fontWeight:"bold",color:`${r.color}.main`,children:i(r.value,r.format)}),u(L,{variant:"body2",color:"text.secondary",children:r.title[t]})]}),u(o,{sx:{fontSize:40,color:`${r.color}.main`,opacity:.7}})]})})})})},r.title.en)})})},FT=()=>{const{currentLanguage:t,isRTL:e,toggleLanguage:n}=Se(),{activeContext:s,switchContext:i,user:r,unifiedData:a,getUnifiedData:o,isLoading:l,hasError:c}=Pt(),[d,h]=b.useState(!0),[f,m]=b.useState(!0),p=b.useMemo(()=>la.find(w=>w.id===s)||la[0],[s]),x=b.useCallback((w,y)=>{i(y)},[i]),S=b.useCallback(()=>{o(s,!0)},[o,s]);b.useEffect(()=>{if(f){const w=setInterval(()=>{o(s,!0)},3e4);return()=>clearInterval(w)}},[f,s,o]);const A=()=>{const w={data:a[s],isLoading:l(s),error:c(s)};switch(s){case"overview":return u(Ou,{});case"healthcare":return u(b.Suspense,{fallback:u(Dt,{message:"Loading healthcare data..."}),children:u(PT,{...w})});case"nphies":return u(b.Suspense,{fallback:u(Dt,{message:"Loading NPHIES data..."}),children:u(RT,{...w})});case"rcm":return u(b.Suspense,{fallback:u(Dt,{message:"Loading RCM analytics..."}),children:u(DT,{...w})});case"training":return u(b.Suspense,{fallback:u(Dt,{message:"Loading training platform..."}),children:u(NT,{...w})});case"bot":return u(b.Suspense,{fallback:u(Dt,{message:"Loading BOT projects..."}),children:u(OT,{...w})});case"operations":return u(b.Suspense,{fallback:u(Dt,{message:"Loading operations center..."}),children:u(IT,{...w})});case"ai_analytics":return u(b.Suspense,{fallback:u(Dt,{message:"Loading AI analytics..."}),children:u(kT,{...w})});default:return u(Ou,{})}};return g(Lu,{maxWidth:"xl",sx:{py:3},children:[g(k,{mb:4,children:[g(k,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2,children:[g(k,{children:[u(L,{variant:"h3",component:"h1",fontWeight:"bold",textAlign:e?"right":"left",children:t==="ar"?"🏥 لوحة تحكم BrainSAIT الصحية الموحدة":"🏥 BrainSAIT Unified Healthcare Dashboard"}),u(L,{variant:"subtitle1",color:"text.secondary",textAlign:e?"right":"left",children:t==="ar"?"منصة إدارة الرعاية الصحية المتكاملة مع دعم نفيس والذكاء الاصطناعي":"Integrated healthcare management platform with NPHIES and AI support"})]}),g(k,{display:"flex",alignItems:"center",gap:2,children:[u(LT,{}),u(MT,{}),u(Xe,{onClick:n,children:u(ku,{})})]})]}),g(k,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[g(k,{display:"flex",alignItems:"center",gap:2,children:[g(L,{variant:"body1",color:"text.secondary",children:[t==="ar"?"مرحباً":"Welcome",", ",r?.name||r?.email]}),u(J,{size:"small",label:r?.role,variant:"outlined",color:"primary"})]}),g(k,{display:"flex",alignItems:"center",gap:2,children:[u(rl,{control:u(il,{checked:d,onChange:w=>h(w.target.checked),size:"small"}),label:u(L,{variant:"caption",children:t==="ar"?"مباشر":"Real-time"})}),u(rl,{control:u(il,{checked:f,onChange:w=>m(w.target.checked),size:"small"}),label:u(L,{variant:"caption",children:t==="ar"?"تحديث تلقائي":"Auto-refresh"})}),g(bm,{size:"small",children:[u(Fe,{onClick:S,startIcon:u(Ga,{}),children:t==="ar"?"تحديث":"Refresh"}),u(Fe,{startIcon:u(Mu,{}),children:t==="ar"?"إعدادات":"Settings"})]})]})]}),c()&&u(un,{severity:"error",sx:{mb:2},children:c()})]}),u(ve,{sx:{mb:3},children:u(xm,{value:s,onChange:x,variant:"scrollable",scrollButtons:"auto",sx:{"& .MuiTabs-flexContainer":{direction:e?"rtl":"ltr"}},children:la.map(w=>{const y=w.icon;return u(vm,{value:w.id,label:g(k,{display:"flex",alignItems:"center",gap:1,children:[u(y,{fontSize:"small"}),u(L,{variant:"body2",children:w.label[t]})]}),sx:{textTransform:"none",minHeight:64,color:`${w.color}.main`}},w.id)})})}),u(hx,{mode:"wait",children:u(vo.div,{initial:{opacity:0,x:e?-20:20},animate:{opacity:1,x:0},exit:{opacity:0,x:e?20:-20},transition:{duration:.2},children:u(dr,{children:l()?u(Dt,{message:`Loading ${p.label[t]}...`}):A()})},s)}),d&&u(k,{position:"fixed",bottom:16,right:e?"auto":16,left:e?16:"auto",zIndex:1e3,children:u(b.Suspense,{fallback:null,children:u(AT,{compact:!0})})})]})},Te=()=>u(FT,{}),se={DOCTOR:"doctor",NURSE:"nurse",PATIENT:"patient",ADMIN:"admin",PHARMACIST:"pharmacist",TECHNICIAN:"technician",RESEARCHER:"researcher"},ca={[se.DOCTOR]:["read_patient_full","write_patient_full","create_prescription","create_soap_note","access_lab_results","schedule_appointment","access_imaging","manage_care_team","emergency_override","access_patient_history","create_discharge_summary"],[se.NURSE]:["read_patient_basic","write_patient_vitals","view_appointments","update_patient_status","access_medication_list","create_nursing_note","administer_medication","update_care_plan","access_shift_reports"],[se.PATIENT]:["read_own_data","update_own_profile","view_own_appointments","access_own_results","request_appointment","family_access_delegate","access_health_records","request_prescription_refill","access_billing_info"],[se.ADMIN]:["full_system_access","manage_users","system_configuration","audit_logs","financial_reports","compliance_monitoring","backup_restore","integration_management"],[se.PHARMACIST]:["read_prescriptions","update_medication_status","access_drug_interactions","create_pharmacy_note","dispense_medication","medication_counseling","inventory_management","pharmaceutical_care"],[se.TECHNICIAN]:["read_patient_basic","update_test_results","access_imaging_equipment","create_technical_note","equipment_maintenance","quality_control","sample_processing"],[se.RESEARCHER]:["read_anonymized_data","export_research_data","create_research_query","statistical_analysis","protocol_access","irb_submission","data_visualization"]},ua={day_shift:{hours:[6,18],permissions:["all_standard_permissions"]},night_shift:{hours:[18,6],permissions:["emergency_access","critical_care_access"]},emergency:{hours:[0,24],permissions:["emergency_override","critical_override"]}},da={hospital_network:{scope:"network",permissions:["cross_facility_access","network_reports"]},single_facility:{scope:"facility",permissions:["facility_specific_access"]},department:{scope:"department",permissions:["department_specific_access"]},unit:{scope:"unit",permissions:["unit_specific_access"]}},VT={[se.DOCTOR]:"/doctor-portal",[se.NURSE]:"/nurse-portal",[se.PATIENT]:"/patient-portal",[se.ADMIN]:"/admin-dashboard",[se.PHARMACIST]:"/pharmacy-portal",[se.TECHNICIAN]:"/tech-portal",[se.RESEARCHER]:"/research-portal"},js=()=>{const t=Ya(),[e,n]=b.useState(null),[s,i]=b.useState(!1),[r,a]=b.useState(!0),[o,l]=b.useState(null);b.useEffect(()=>{(async()=>{try{const E=localStorage.getItem("brainsait_user"),R=localStorage.getItem("brainsait_token");if(E&&R){const F=JSON.parse(E);await c(R)?(n(F),i(!0)):h()}}catch(E){console.error("Auth initialization error:",E),h()}finally{a(!1)}})()},[]);const c=b.useCallback(async C=>{try{return(await fetch("/api/auth/verify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`}})).ok}catch(E){return console.error("Token verification failed:",E),!1}},[]),d=b.useCallback(async C=>{a(!0),l(null);try{const E=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(!E.ok){const U=await E.json();throw new Error(U.message||"Login failed")}const{user:R,token:F,expiresIn:z}=await E.json();localStorage.setItem("brainsait_user",JSON.stringify(R)),localStorage.setItem("brainsait_token",F),localStorage.setItem("brainsait_token_expires",(Date.now()+z*1e3).toString()),n(R),i(!0),await x("user_login",{userId:R.id,role:R.role,organizationId:R.organizationId,loginMethod:"credentials"});const N=VT[R.role]||"/dashboard";return t(N),{success:!0,user:R}}catch(E){return console.error("Login error:",E),l(E.message),{success:!1,error:E.message}}finally{a(!1)}},[t]),h=b.useCallback(async()=>{try{e&&await x("user_logout",{userId:e.id,role:e.role,organizationId:e.organizationId,logoutType:"manual"});const C=localStorage.getItem("brainsait_token");C&&await fetch("/api/auth/logout",{method:"POST",headers:{Authorization:`Bearer ${C}`}})}catch(C){console.error("Logout error:",C)}finally{localStorage.removeItem("brainsait_user"),localStorage.removeItem("brainsait_token"),localStorage.removeItem("brainsait_token_expires"),localStorage.removeItem("brainsait_api_key"),localStorage.removeItem("brainsait_session_id"),n(null),i(!1),l(null),t("/login")}},[t,e,x]),f=b.useCallback((C,E={})=>{if(!e||!e.role)return!1;const R=ca[e.role]||[];if(!(R.includes(C)||R.includes("full_system_access")))return!1;if(E.requireShiftAccess){const z=new Date().getHours(),N=e.shift||"day_shift",U=ua[N];if(U){const[O,B]=U.hours;if(!(O<=B?z>=O&&z<B:z>=O||z<B)&&!U.permissions.includes("emergency_override"))return!1}}if(E.organizationId&&e.organizationId!==E.organizationId){const z=e.organizationLevel||"single_facility";if(!da[z].permissions.includes("cross_facility_access"))return!1}return!(E.resourceId&&e.assignedResources&&!e.assignedResources.includes(E.resourceId))},[e]),m=b.useCallback(C=>{if(!e||!e.shift)return f(C);const E=new Date().getHours(),R=ua[e.shift];if(!R)return f(C);const[F,z]=R.hours;return(F<=z?E>=F&&E<z:E>=F||E<z)||R.permissions.includes("emergency_override")?f(C):!1},[e,f]),p=b.useCallback((C,E)=>{if(!e||!e.organizationId)return!1;if(e.organizationId===C)return f(E);const R=e.organizationLevel||"single_facility";return da[R].permissions.includes("cross_facility_access")?f(E):!1},[e,f]),x=b.useCallback(async(C,E={})=>{try{const R={userId:e?.id,userRole:e?.role,organizationId:e?.organizationId,event:C,details:E,timestamp:new Date().toISOString(),ipAddress:await S(),userAgent:navigator.userAgent,sessionId:localStorage.getItem("brainsait_session_id")};await fetch("/api/audit/log",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("brainsait_token")}`},body:JSON.stringify(R)})}catch(R){console.error("Failed to log security event:",R)}},[e]),S=b.useCallback(async()=>{try{return(await(await fetch("/api/system/client-ip")).json()).ip}catch{return"unknown"}},[]),A=b.useCallback(C=>!e||!e.role?!1:(Array.isArray(C)?C:[C]).includes(e.role),[e]),w=b.useCallback(()=>!e||!e.role?[]:ca[e.role]||[],[e]),y=b.useCallback(async C=>{if(!f("manage_users"))throw new Error("Insufficient permissions to register users");a(!0),l(null);try{const E=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("brainsait_token")}`},body:JSON.stringify(C)});if(!E.ok){const F=await E.json();throw new Error(F.message||"Registration failed")}return{success:!0,user:await E.json()}}catch(E){return console.error("Registration error:",E),l(E.message),{success:!1,error:E.message}}finally{a(!1)}},[f]),v=b.useCallback(async C=>{a(!0),l(null);try{const E=await fetch("/api/auth/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("brainsait_token")}`},body:JSON.stringify(C)});if(!E.ok){const F=await E.json();throw new Error(F.message||"Profile update failed")}const R=await E.json();return localStorage.setItem("brainsait_user",JSON.stringify(R)),n(R),{success:!0,user:R}}catch(E){return console.error("Profile update error:",E),l(E.message),{success:!1,error:E.message}}finally{a(!1)}},[]),T=b.useCallback(async(C,E)=>{a(!0),l(null);try{const R=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("brainsait_token")}`},body:JSON.stringify({currentPassword:C,newPassword:E})});if(!R.ok){const F=await R.json();throw new Error(F.message||"Password change failed")}return{success:!0}}catch(R){return console.error("Password change error:",R),l(R.message),{success:!1,error:R.message}}finally{a(!1)}},[]),D=b.useCallback(()=>{if(!e||!e.role)return[];const C=[{path:"/dashboard",label:"Dashboard",icon:"🏠"},{path:"/oid-tree",label:"OID Tree",icon:"🌳"}],E={[se.DOCTOR]:[{path:"/doctor-portal",label:"Doctor Portal",icon:"👨‍⚕️"},{path:"/patients",label:"Patients",icon:"👥"},{path:"/appointments",label:"Appointments",icon:"📅"},{path:"/prescriptions",label:"Prescriptions",icon:"💊"}],[se.NURSE]:[{path:"/nurse-portal",label:"Nurse Portal",icon:"👩‍⚕️"},{path:"/patient-care",label:"Patient Care",icon:"🏥"},{path:"/schedules",label:"Schedules",icon:"📋"}],[se.PATIENT]:[{path:"/patient-portal",label:"Patient Portal",icon:"🏥"},{path:"/my-appointments",label:"My Appointments",icon:"📅"},{path:"/my-results",label:"My Results",icon:"📊"},{path:"/my-prescriptions",label:"My Prescriptions",icon:"💊"}],[se.ADMIN]:[{path:"/admin-dashboard",label:"Admin Dashboard",icon:"⚙️"},{path:"/user-management",label:"User Management",icon:"👥"},{path:"/system-config",label:"System Config",icon:"🔧"},{path:"/audit-logs",label:"Audit Logs",icon:"📝"}]};return[...C,...E[e.role]||[]]},[e]);return{user:e,isAuthenticated:s,isLoading:r,error:o,login:d,logout:h,register:y,updateProfile:v,changePassword:T,hasPermission:f,hasRole:A,hasShiftAccess:m,hasOrganizationAccess:p,getUserPermissions:w,logSecurityEvent:x,getNavigationItems:D,clearError:()=>l(null),HEALTHCARE_ROLES:se,ROLE_PERMISSIONS:ca,SHIFT_PERMISSIONS:ua,ORGANIZATION_ACCESS_LEVELS:da}};var zT={};const gr=()=>{const{getCurrentUserRole:t,trackHealthcareActivity:e}=Pt(),[n,s]=b.useState(!1),[i,r]=b.useState(null),[a,o]=b.useState({}),l={baseUrl:zT.VITE_FHIR_BASE_URL||"https://api.brainsait.com/fhir",apiKey:localStorage.getItem("brainsait_api_key"),version:"R4"},c=b.useCallback(async()=>{const y=await t();return{"Content-Type":"application/fhir+json",Accept:"application/fhir+json",Authorization:`Bearer ${l.apiKey}`,"X-User-Role":y,"X-FHIR-Version":l.version}},[t]),d=b.useCallback(async(y,v=null,T={})=>{s(!0),r(null);try{const D=await c();let C=`${l.baseUrl}/${y}`;v&&(C+=`/${v}`);const E=new URLSearchParams(T);E.toString()&&(C+=`?${E.toString()}`);const R=await fetch(C,{method:"GET",headers:D});if(!R.ok)throw new Error(`FHIR Error: ${R.status} - ${R.statusText}`);const F=await R.json();return await e("fhir_resource_access",{resourceType:y,resourceId:v,timestamp:new Date().toISOString()}),o(z=>({...z,[`${y}_${v||"bundle"}`]:F})),F}catch(D){return console.error("FHIR fetch error:",D),r(D.message),null}finally{s(!1)}},[c,e]),h=b.useCallback(async(y,v)=>{s(!0),r(null);try{const T=await c(),D=`${l.baseUrl}/${y}`,C=await fetch(D,{method:"POST",headers:T,body:JSON.stringify(v)});if(!C.ok)throw new Error(`FHIR Create Error: ${C.status} - ${C.statusText}`);const E=await C.json();return await e("fhir_resource_create",{resourceType:y,resourceId:E.id,timestamp:new Date().toISOString()}),E}catch(T){return console.error("FHIR create error:",T),r(T.message),null}finally{s(!1)}},[c,e]),f=b.useCallback(async(y,v,T)=>{s(!0),r(null);try{const D=await c(),C=`${l.baseUrl}/${y}/${v}`,E=await fetch(C,{method:"PUT",headers:D,body:JSON.stringify(T)});if(!E.ok)throw new Error(`FHIR Update Error: ${E.status} - ${E.statusText}`);const R=await E.json();return o(F=>({...F,[`${y}_${v}`]:R})),await e("fhir_resource_update",{resourceType:y,resourceId:v,timestamp:new Date().toISOString()}),R}catch(D){return console.error("FHIR update error:",D),r(D.message),null}finally{s(!1)}},[c,e]),m=b.useCallback(async y=>{const v=await d("Patient",y);return v?{...v,displayName:v.name?.[0]?.family||"Unknown Patient",displayNameAr:v.name?.find(T=>T.use==="official")?.family||null,localizedAddress:v.address?.[0]||null}:null},[d]),p=b.useCallback(async(y,v,T=null)=>{const D={resourceType:"Observation",status:"final",category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/observation-category",code:"survey",display:"SOAP Note"}]}],subject:{reference:`Patient/${y}`},effectiveDateTime:new Date().toISOString(),component:[{code:{coding:[{system:"http://brainsait.com/codes",code:"SOAP-S"}]},valueString:v.subjective},{code:{coding:[{system:"http://brainsait.com/codes",code:"SOAP-O"}]},valueString:v.objective},{code:{coding:[{system:"http://brainsait.com/codes",code:"SOAP-A"}]},valueString:v.assessment},{code:{coding:[{system:"http://brainsait.com/codes",code:"SOAP-P"}]},valueString:v.plan}]};return T&&D.component.push({code:{coding:[{system:"http://brainsait.com/codes",code:"VOICE-TRANSCRIPT"}]},valueString:T}),await h("Observation",D)},[h]),x=b.useCallback(async(y,v={})=>{const T={patient:y,status:"booked,arrived,fulfilled"};return v.start&&(T.date=`ge${v.start}`),v.end&&(T.date=`${T.date||""}le${v.end}`),await d("Appointment",null,T)},[d]),S=b.useCallback(async(y,v=10)=>await d("Patient",null,{name:y,_count:v,_sort:"family"}),[d]),A=b.useCallback(async y=>await d("Practitioner",y),[d]),w=b.useCallback(async(y,v)=>{const T={resourceType:"Encounter",status:v.status||"in-progress",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActCode",code:v.class||"AMB",display:v.classDisplay||"Ambulatory"},subject:{reference:`Patient/${y}`},period:{start:v.startTime||new Date().toISOString()},reasonCode:v.reasonCode||[],...v};return await h("Encounter",T)},[h]);return{isLoading:n,error:i,fhirData:a,fetchFHIRResource:d,createFHIRResource:h,updateFHIRResource:f,getPatient:m,createSOAPNote:p,getPatientAppointments:x,searchPatients:S,getHealthcareProvider:A,createEncounter:w,clearError:()=>r(null),clearCache:()=>o({})}},jT=()=>{const[t,e]=b.useState([]),[n,s]=b.useState(!1),[i,r]=b.useState(null),a=b.useCallback(async l=>{if(l.trim()){s(!0),r(null);try{const c={id:Date.now(),type:"user",content:l,timestamp:new Date};e(d=>[...d,c]),setTimeout(()=>{const d={id:Date.now()+1,type:"assistant",content:"Thank you for your message. I am analyzing your healthcare query and will provide assistance.",timestamp:new Date};e(h=>[...h,d]),s(!1)},1500)}catch(c){r(c.message),s(!1)}}},[]),o=b.useCallback(()=>{e([])},[]);return{messages:t,isLoading:n,error:i,sendMessage:a,clearMessages:o}},$t=b.memo(({message:t,size:e="medium",variant:n="default",healthcareContext:s=null,fullScreen:i=!1,className:r=""})=>{const{t:a,isRTL:o,dir:l}=b.useContext(Xi)||{t:x=>x,isRTL:!1,dir:"ltr"},c={small:"w-6 h-6",medium:"w-12 h-12",large:"w-16 h-16",xlarge:"w-20 h-20"},d={default:"border-gray-200 border-t-blue-600",healthcare:"border-green-200 border-t-green-600",nphies:"border-blue-200 border-t-blue-700",ai:"border-purple-200 border-t-purple-600",error:"border-red-200 border-t-red-600"},h=()=>{if(t)return t;const x={nphies:a("loadingNPHIES")||(o?"جاري الاتصال بنفيس...":"Connecting to NPHIES..."),patient:a("loadingPatient")||(o?"جاري تحميل بيانات المريض...":"Loading patient data..."),doctor:a("loadingDoctor")||(o?"جاري تحميل بيانات الطبيب...":"Loading doctor data..."),appointments:a("loadingAppointments")||(o?"جاري تحميل المواعيد...":"Loading appointments..."),ai:a("loadingAI")||(o?"الذكاء الاصطناعي يعمل...":"AI processing..."),default:a("loading")||(o?"جاري التحميل...":"Loading...")};return x[s]||x.default},f=i?`fixed inset-0 bg-white bg-opacity-90 flex flex-col items-center justify-center z-50 ${l}`:`flex flex-col items-center justify-center p-8 ${r}`,p=(()=>{const x={nphies:"🔗",patient:"🏥",doctor:"👨‍⚕️",appointments:"📅",ai:"🤖",default:null};return x[s]||x.default})();return g("div",{className:f,dir:l,children:[p&&u("div",{className:"mb-4 text-3xl opacity-70 animate-pulse",children:p}),u("div",{className:`animate-spin rounded-full border-4 ${d[n]} ${c[e]}`}),u("p",{className:`mt-4 text-gray-600 text-center ${o?"font-arabic":""}`,children:h()}),s==="nphies"&&u("div",{className:"mt-4 w-48 bg-gray-200 rounded-full h-2",children:u("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"60%"}})}),i&&u("div",{className:"mt-6 max-w-sm text-center",children:u("p",{className:"text-xs text-gray-500",children:a("dataSecure")||(o?"بياناتك الصحية محمية ومشفرة":"Your healthcare data is secure and encrypted")})})]})});$t.displayName="LoadingSpinner";b.memo(t=>u($t,{variant:"nphies",healthcareContext:"nphies",...t}));b.memo(t=>u($t,{variant:"healthcare",healthcareContext:"patient",...t}));b.memo(t=>u($t,{variant:"healthcare",healthcareContext:"doctor",...t}));b.memo(t=>u($t,{variant:"ai",healthcareContext:"ai",...t}));const UT=()=>{const{unifiedData:t,activeContext:e,switchContext:n,callUnifiedAPI:s,isLoading:i,hasError:r,getError:a}=Pt(),{t:o,language:l,isRTL:c}=hd(),{user:d}=js(),{getPatient:h,createSOAPNote:f,searchPatients:m,getPatientAppointments:p,isLoading:x,error:S}=gr(),{sendMessage:A,messages:w,isProcessing:y}=jT(),v=i||x,[T,D]=b.useState("dashboard"),[C,E]=b.useState(null),[R,F]=b.useState(""),[z,N]=b.useState([]),[U,O]=b.useState({subjective:"",objective:"",assessment:"",plan:""}),[B,W]=b.useState(!1),[te,Ce]=b.useState(""),ye=b.useMemo(()=>({appointments:t.operations?.todayAppointments||[],patientsToday:t.operations?.patientsToday||0,newPatients:t.operations?.newPatients||0,prescriptions:t.operations?.prescriptionsToday||0}),[t.operations]);b.useEffect(()=>{e!==xe.OPERATIONS&&n(xe.OPERATIONS),je()},[e,n]);const je=b.useCallback(async()=>{try{const M=new Date().toISOString().split("T")[0];await s(xe.OPERATIONS,"get_today_appointments",{doctorId:d?.id,date:M})}catch(M){console.error("Failed to load appointments:",M);try{const le=await p(null,{start:today,end:today});if(le&&le.entry){const st=le.entry.map(ht=>ht.resource)}}catch(le){console.error("Fallback appointment loading failed:",le)}}},[s,d?.id,p]),H=b.useCallback(async()=>{if(R.trim()){try{const M=await s(xe.OPERATIONS,"search_patients",{query:R,limit:10,doctorId:d?.id});if(M?.data?.patients){N(M.data.patients);return}}catch(M){console.warn("Unified patient search failed, trying FHIR fallback:",M)}try{const M=await m(R,10);M&&M.entry&&N(M.entry.map(le=>le.resource))}catch(M){console.error("Patient search failed:",M)}}},[R,s,d?.id,m]),we=async M=>{try{const le=await h(M);E(le),D("patient-details")}catch(le){console.error("Failed to load patient details:",le)}},ne=async()=>{if(!(!C||!U.subjective))try{await f(C.id,U)&&(alert(currentLanguage==="ar"?"تم حفظ السجل الطبي بنجاح":"SOAP note saved successfully"),O({subjective:"",objective:"",assessment:"",plan:""}))}catch(M){console.error("Failed to create SOAP note:",M)}},ke=async M=>{M.preventDefault(),te.trim()&&(await A(te),Ce(""))},X=()=>{W(!B)},oe=b.useMemo(()=>[{id:"dashboard",label:o("dashboard"),icon:"📊"},{id:"patients",label:o("patients")||(c?"المرضى":"Patients"),icon:"👥"},{id:"appointments",label:o("appointments")||(c?"المواعيد":"Appointments"),icon:"📅"},{id:"patient-details",label:o("patientDetails")||(c?"تفاصيل المريض":"Patient Details"),icon:"🏥"},{id:"ai-assistant",label:o("aiAssistant")||(c?"المساعد الذكي":"AI Assistant"),icon:"🤖"}],[o,c]),Rt=a(xe.OPERATIONS)||S,gn=r(xe.OPERATIONS)||!!S;return u(dr,{children:g("div",{className:`min-h-screen bg-gray-50 ${c?"rtl":"ltr"}`,dir:c?"rtl":"ltr",children:[u("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white shadow-lg",children:u("div",{className:"container mx-auto px-6 py-4",children:g("div",{className:"flex items-center justify-between",children:[g("div",{className:`flex items-center space-x-4 ${c?"space-x-reverse":""}`,children:[u("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:u("span",{className:"text-2xl",children:"👨‍⚕️"})}),g("div",{children:[u("h1",{className:"text-2xl font-bold",children:o("doctorPortal")||(c?"بوابة الطبيب":"Doctor Portal")}),u("p",{className:"text-blue-100",children:c?`مرحباً د. ${d?.name||d?.nameAr||""}`:`Welcome Dr. ${d?.name||""}`})]})]}),g("div",{className:c?"text-left":"text-right",children:[u("p",{className:"text-sm text-blue-100",children:o("medicalPlatform")||(c?"منصة برين سايت الطبية":"BrainSAIT Medical Platform")}),u("p",{className:"text-xs text-blue-200",children:o("fhirCompliant")||(c?"متوافق مع معايير FHIR R4":"FHIR R4 Compliant")})]})]})})}),u("div",{className:"bg-white shadow-sm border-b",children:u("div",{className:"container mx-auto px-6",children:u("nav",{className:"flex space-x-8",children:oe.map(M=>g("button",{onClick:()=>D(M.id),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors ${T===M.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[u("span",{className:"mr-2",children:M.icon}),M.label]},M.id))})})}),g("div",{className:"container mx-auto px-6 py-8",children:[v&&u("div",{className:"text-center py-8",children:u($t,{message:o("loading")||(c?"جاري التحميل...":"Loading...")})}),gn&&u("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:g("div",{className:"flex items-center justify-between",children:[u("p",{className:"text-red-800",children:Rt}),u("button",{onClick:()=>window.location.reload(),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:o("refresh")||(c?"تحديث":"Refresh")})]})}),T==="dashboard"&&g("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[g("div",{className:"bg-white rounded-lg shadow p-6",children:[u("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:currentLanguage==="ar"?"إحصائيات اليوم":"Today's Stats"}),g("div",{className:"space-y-3",children:[g("div",{className:"flex justify-between",children:[u("span",{className:"text-gray-600",children:o("appointments")||(c?"المواعيد":"Appointments")}),u("span",{className:"font-semibold",children:ye.appointments.length})]}),g("div",{className:"flex justify-between",children:[u("span",{className:"text-gray-600",children:o("newPatients")||(c?"المرضى الجدد":"New Patients")}),u("span",{className:"font-semibold",children:ye.newPatients})]}),g("div",{className:"flex justify-between",children:[u("span",{className:"text-gray-600",children:o("prescriptions")||(c?"الوصفات الطبية":"Prescriptions")}),u("span",{className:"font-semibold",children:ye.prescriptions})]})]})]}),g("div",{className:"bg-white rounded-lg shadow p-6",children:[u("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:currentLanguage==="ar"?"المواعيد القادمة":"Upcoming Appointments"}),u("div",{className:"space-y-3",children:ye.appointments.slice(0,3).map((M,le)=>g("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[g("div",{children:[u("p",{className:"font-medium text-gray-800",children:M.subject?.display||"Patient"}),u("p",{className:"text-sm text-gray-600",children:new Date(M.start).toLocaleTimeString()})]}),u("span",{className:`px-2 py-1 rounded text-xs font-medium ${M.status==="booked"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:M.status})]},le))})]}),g("div",{className:"bg-white rounded-lg shadow p-6",children:[u("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:currentLanguage==="ar"?"إجراءات سريعة":"Quick Actions"}),g("div",{className:"space-y-3",children:[u("button",{onClick:()=>D("patients"),className:"w-full text-left p-3 bg-blue-50 hover:bg-blue-100 rounded transition-colors",children:g("div",{className:"flex items-center",children:[u("span",{className:"mr-3",children:"🔍"}),u("span",{className:"font-medium",children:currentLanguage==="ar"?"البحث عن مريض":"Search Patient"})]})}),u("button",{onClick:()=>D("ai-assistant"),className:"w-full text-left p-3 bg-green-50 hover:bg-green-100 rounded transition-colors",children:g("div",{className:"flex items-center",children:[u("span",{className:"mr-3",children:"🤖"}),u("span",{className:"font-medium",children:currentLanguage==="ar"?"المساعد الذكي":"AI Assistant"})]})})]})]})]}),T==="patients"&&g("div",{className:"space-y-6",children:[g("div",{className:"bg-white rounded-lg shadow p-6",children:[u("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:currentLanguage==="ar"?"البحث عن المرضى":"Patient Search"}),g("div",{className:"flex space-x-4",children:[u("input",{type:"text",value:R,onChange:M=>F(M.target.value),placeholder:currentLanguage==="ar"?"اسم المريض أو الرقم القومي":"Patient name or ID",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),u("button",{onClick:H,disabled:v,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:currentLanguage==="ar"?"بحث":"Search"})]})]}),z.length>0&&g("div",{className:"bg-white rounded-lg shadow",children:[u("div",{className:"px-6 py-4 border-b border-gray-200",children:u("h3",{className:"text-lg font-semibold text-gray-800",children:currentLanguage==="ar"?"نتائج البحث":"Search Results"})}),u("div",{className:"divide-y divide-gray-200",children:z.map(M=>u("div",{className:"px-6 py-4 hover:bg-gray-50",children:g("div",{className:"flex items-center justify-between",children:[g("div",{children:[u("h4",{className:"font-medium text-gray-900",children:M.displayName||M.name?.[0]?.family||"Unknown"}),g("p",{className:"text-sm text-gray-600",children:["ID: ",M.id," |",currentLanguage==="ar"?" العمر: ":" Age: ",M.birthDate?new Date().getFullYear()-new Date(M.birthDate).getFullYear():"Unknown"]})]}),u("button",{onClick:()=>we(M.id),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:currentLanguage==="ar"?"اختيار":"Select"})]})},M.id))})]})]}),T==="patient-details"&&C&&g("div",{className:"space-y-6",children:[g("div",{className:"bg-white rounded-lg shadow p-6",children:[u("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:currentLanguage==="ar"?"معلومات المريض":"Patient Information"}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g("div",{children:[u("label",{className:"text-sm font-medium text-gray-600",children:currentLanguage==="ar"?"الاسم":"Name"}),u("p",{className:"text-gray-900",children:C.displayName})]}),g("div",{children:[u("label",{className:"text-sm font-medium text-gray-600",children:currentLanguage==="ar"?"الرقم القومي":"Patient ID"}),u("p",{className:"text-gray-900",children:C.id})]})]})]}),g("div",{className:"bg-white rounded-lg shadow p-6",children:[g("div",{className:"flex items-center justify-between mb-4",children:[u("h3",{className:"text-lg font-semibold text-gray-800",children:currentLanguage==="ar"?"إنشاء سجل طبي":"Create SOAP Note"}),g("button",{onClick:X,className:`px-4 py-2 rounded-lg ${B?"bg-red-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[B?"🛑":"🎤",currentLanguage==="ar"?"تسجيل صوتي":"Voice Recording"]})]}),g("div",{className:"space-y-4",children:[g("div",{children:[u("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:currentLanguage==="ar"?"الأعراض الذاتية (S)":"Subjective (S)"}),u("textarea",{value:U.subjective,onChange:M=>O({...U,subjective:M.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:currentLanguage==="ar"?"ما يخبرك به المريض...":"What the patient tells you..."})]}),g("div",{children:[u("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:currentLanguage==="ar"?"الفحص الموضوعي (O)":"Objective (O)"}),u("textarea",{value:U.objective,onChange:M=>O({...U,objective:M.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:currentLanguage==="ar"?"ما تجده في الفحص...":"What you find on examination..."})]}),g("div",{children:[u("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:currentLanguage==="ar"?"التقييم (A)":"Assessment (A)"}),u("textarea",{value:U.assessment,onChange:M=>O({...U,assessment:M.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:currentLanguage==="ar"?"التشخيص والتقييم...":"Diagnosis and assessment..."})]}),g("div",{children:[u("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:currentLanguage==="ar"?"الخطة (P)":"Plan (P)"}),u("textarea",{value:U.plan,onChange:M=>O({...U,plan:M.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:currentLanguage==="ar"?"العلاج والمتابعة...":"Treatment and follow-up..."})]}),u("button",{onClick:ne,disabled:!U.subjective||v,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:currentLanguage==="ar"?"حفظ السجل الطبي":"Save SOAP Note"})]})]})]}),T==="ai-assistant"&&g("div",{className:"bg-white rounded-lg shadow p-6",children:[u("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:currentLanguage==="ar"?"المساعد الذكي الطبي":"Medical AI Assistant"}),g("div",{className:"h-96 overflow-y-auto border border-gray-200 rounded-lg p-4 mb-4",children:[w.length===0?u("div",{className:"text-center text-gray-500 py-8",children:u("p",{children:currentLanguage==="ar"?"ابدأ محادثة مع المساعد الذكي":"Start a conversation with the AI assistant"})}):u("div",{className:"space-y-4",children:w.map(M=>u("div",{className:`flex ${M.role==="user"?"justify-end":"justify-start"}`,children:u("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${M.role==="user"?"bg-blue-600 text-white":"bg-gray-200 text-gray-800"}`,children:u("p",{className:"whitespace-pre-wrap",children:M.content})})},M.id))}),y&&u("div",{className:"flex justify-start",children:u("div",{className:"bg-gray-200 text-gray-800 px-4 py-2 rounded-lg",children:g("div",{className:"flex items-center space-x-2",children:[u("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}),u("span",{children:currentLanguage==="ar"?"يفكر...":"Thinking..."})]})})})]}),g("form",{onSubmit:ke,className:"flex space-x-2",children:[u("input",{type:"text",value:te,onChange:M=>Ce(M.target.value),placeholder:currentLanguage==="ar"?"اكتب سؤالك هنا...":"Type your question here...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),u("button",{type:"submit",disabled:!te.trim()||y,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:currentLanguage==="ar"?"إرسال":"Send"})]})]})]})]})})},BT=()=>{const{currentLanguage:t,isRTL:e}=Se(),{user:n}=js(),{getPatient:s,createFHIRResource:i,searchPatients:r,isLoading:a,error:o}=gr(),[l,c]=b.useState("patient-care"),[d,h]=b.useState(null),[f,m]=b.useState([]),[p,x]=b.useState({temperature:"",bloodPressure:"",heartRate:"",respiratoryRate:"",oxygenSaturation:"",painLevel:""}),[S,A]=b.useState([]),[w,y]=b.useState(""),[v,T]=b.useState([]);b.useEffect(()=>{D()},[]);const D=async()=>{try{const N=await r("",20);N&&N.entry&&m(N.entry.map(U=>U.resource))}catch(N){console.error("Failed to load assigned patients:",N)}},C=async N=>{try{const U=await s(N);h(U),E(N)}catch(U){console.error("Failed to load patient details:",U)}},E=async N=>{try{x({temperature:"36.5°C",bloodPressure:"120/80",heartRate:"72",respiratoryRate:"16",oxygenSaturation:"98%",painLevel:"2/10"})}catch(U){console.error("Failed to load patient care data:",U)}},R=async()=>{if(d)try{const N={resourceType:"Observation",status:"final",category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/observation-category",code:"vital-signs",display:"Vital Signs"}]}],subject:{reference:`Patient/${d.id}`},effectiveDateTime:new Date().toISOString(),performer:[{reference:`Practitioner/${n.id}`,display:n.name}],component:[{code:{coding:[{system:"http://loinc.org",code:"8310-5",display:"Body temperature"}]},valueQuantity:{value:parseFloat(p.temperature),unit:"Cel"}},{code:{coding:[{system:"http://loinc.org",code:"8480-6",display:"Systolic blood pressure"}]},valueQuantity:{value:parseInt(p.bloodPressure.split("/")[0]),unit:"mmHg"}},{code:{coding:[{system:"http://loinc.org",code:"8867-4",display:"Heart rate"}]},valueQuantity:{value:parseInt(p.heartRate),unit:"/min"}}]};await i("Observation",N)&&alert(t==="ar"?"تم حفظ العلامات الحيوية بنجاح":"Vital signs recorded successfully")}catch(N){console.error("Failed to record vital signs:",N)}},F=async()=>{if(!(!d||!w.trim()))try{const N={resourceType:"DocumentReference",status:"current",type:{coding:[{system:"http://loinc.org",code:"34109-9",display:"Nursing note"}]},subject:{reference:`Patient/${d.id}`},author:[{reference:`Practitioner/${n.id}`,display:n.name}],date:new Date().toISOString(),content:[{attachment:{contentType:"text/plain",data:btoa(w)}}]};await i("DocumentReference",N)&&(alert(t==="ar"?"تم حفظ الملاحظة التمريضية بنجاح":"Nursing note created successfully"),y(""))}catch(N){console.error("Failed to create nursing note:",N)}},z=[{id:"patient-care",label:t==="ar"?"رعاية المرضى":"Patient Care",icon:"🏥"},{id:"vital-signs",label:t==="ar"?"العلامات الحيوية":"Vital Signs",icon:"💓"},{id:"medications",label:t==="ar"?"الأدوية":"Medications",icon:"💊"},{id:"nursing-notes",label:t==="ar"?"الملاحظات التمريضية":"Nursing Notes",icon:"📝"},{id:"care-plans",label:t==="ar"?"خطط الرعاية":"Care Plans",icon:"📋"}];return g("div",{className:`min-h-screen bg-gray-50 ${e?"rtl":"ltr"}`,children:[u("div",{className:"bg-gradient-to-r from-green-600 to-green-800 text-white shadow-lg",children:u("div",{className:"container mx-auto px-6 py-4",children:g("div",{className:"flex items-center justify-between",children:[g("div",{className:"flex items-center space-x-4",children:[u("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:u("span",{className:"text-2xl",children:"👩‍⚕️"})}),g("div",{children:[u("h1",{className:"text-2xl font-bold",children:t==="ar"?"بوابة الممرضة":"Nurse Portal"}),u("p",{className:"text-green-100",children:t==="ar"?`مرحباً ${n?.name||""}`:`Welcome ${n?.name||""}`})]})]}),g("div",{className:"text-right",children:[u("p",{className:"text-sm text-green-100",children:t==="ar"?"نظام الرعاية التمريضية":"Nursing Care System"}),u("p",{className:"text-xs text-green-200",children:t==="ar"?"الجودة والسلامة أولاً":"Quality & Safety First"})]})]})})}),u("div",{className:"bg-white shadow-sm border-b",children:u("div",{className:"container mx-auto px-6",children:u("nav",{className:"flex space-x-8",children:z.map(N=>g("button",{onClick:()=>c(N.id),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors ${l===N.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[u("span",{className:"mr-2",children:N.icon}),N.label]},N.id))})})}),g("div",{className:"container mx-auto px-6 py-8",children:[a&&g("div",{className:"text-center py-8",children:[u("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto"}),u("p",{className:"mt-4 text-gray-600",children:t==="ar"?"جاري التحميل...":"Loading..."})]}),o&&u("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:u("p",{className:"text-red-800",children:o})}),g("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[u("div",{className:"lg:col-span-1",children:g("div",{className:"bg-white rounded-lg shadow p-6",children:[u("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:t==="ar"?"مرضى تحت الرعاية":"Patients Under Care"}),u("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:f.map(N=>g("div",{onClick:()=>C(N.id),className:`p-3 rounded-lg cursor-pointer transition-colors ${d?.id===N.id?"bg-green-50 border-2 border-green-200":"bg-gray-50 hover:bg-gray-100"}`,children:[u("p",{className:"font-medium text-gray-900",children:N.displayName||N.name?.[0]?.family||"Unknown"}),g("p",{className:"text-sm text-gray-600",children:[t==="ar"?"غرفة: ":"Room: ","101A"]}),g("div",{className:"flex items-center mt-2",children:[u("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2"}),u("span",{className:"text-xs text-gray-500",children:t==="ar"?"مستقر":"Stable"})]})]},N.id))})]})}),u("div",{className:"lg:col-span-3",children:d?g("div",{className:"space-y-6",children:[u("div",{className:"bg-white rounded-lg shadow p-6",children:g("div",{className:"flex items-center justify-between",children:[g("div",{children:[u("h2",{className:"text-xl font-bold text-gray-900",children:d.displayName}),g("p",{className:"text-gray-600",children:[t==="ar"?"رقم المريض: ":"Patient ID: ",d.id]})]}),g("div",{className:"text-right",children:[g("p",{className:"text-sm text-gray-600",children:[t==="ar"?"آخر تحديث: ":"Last Updated: ",new Date().toLocaleString()]}),g("div",{className:"flex items-center mt-1",children:[u("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-2"}),u("span",{className:"text-sm text-green-600",children:t==="ar"?"تحت الرعاية":"Under Care"})]})]})]})}),l==="vital-signs"&&g("div",{className:"bg-white rounded-lg shadow p-6",children:[u("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:t==="ar"?"العلامات الحيوية":"Vital Signs"}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[g("div",{children:[u("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t==="ar"?"درجة الحرارة (°C)":"Temperature (°C)"}),u("input",{type:"number",step:"0.1",value:p.temperature,onChange:N=>x({...p,temperature:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),g("div",{children:[u("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t==="ar"?"ضغط الدم":"Blood Pressure (mmHg)"}),u("input",{type:"text",value:p.bloodPressure,onChange:N=>x({...p,bloodPressure:N.target.value}),placeholder:"120/80",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),g("div",{children:[u("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t==="ar"?"معدل القلب":"Heart Rate (bpm)"}),u("input",{type:"number",value:p.heartRate,onChange:N=>x({...p,heartRate:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),g("div",{children:[u("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t==="ar"?"معدل التنفس":"Respiratory Rate (/min)"}),u("input",{type:"number",value:p.respiratoryRate,onChange:N=>x({...p,respiratoryRate:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),g("div",{children:[u("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t==="ar"?"تشبع الأكسجين (%)":"Oxygen Saturation (%)"}),u("input",{type:"number",value:p.oxygenSaturation,onChange:N=>x({...p,oxygenSaturation:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),g("div",{children:[u("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t==="ar"?"مستوى الألم (1-10)":"Pain Level (1-10)"}),g("select",{value:p.painLevel,onChange:N=>x({...p,painLevel:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[u("option",{value:"",children:"اختر / Select"}),[1,2,3,4,5,6,7,8,9,10].map(N=>u("option",{value:N,children:N},N))]})]})]}),u("button",{onClick:R,disabled:a,className:"w-full md:w-auto px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:t==="ar"?"تسجيل العلامات الحيوية":"Record Vital Signs"})]}),l==="nursing-notes"&&g("div",{className:"bg-white rounded-lg shadow p-6",children:[u("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:t==="ar"?"إنشاء ملاحظة تمريضية":"Create Nursing Note"}),g("div",{className:"space-y-4",children:[g("div",{children:[u("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t==="ar"?"الملاحظة التمريضية":"Nursing Note"}),u("textarea",{value:w,onChange:N=>y(N.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:t==="ar"?"سجل ملاحظاتك حول حالة المريض والرعاية المقدمة...":"Record your observations about patient condition and care provided..."})]}),g("div",{className:"flex items-center space-x-4",children:[u("button",{onClick:F,disabled:!w.trim()||a,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:t==="ar"?"حفظ الملاحظة":"Save Note"}),u("button",{onClick:()=>y(""),className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:t==="ar"?"مسح":"Clear"})]})]})]}),l==="patient-care"&&g("div",{className:"space-y-6",children:[g("div",{className:"bg-white rounded-lg shadow p-6",children:[u("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:t==="ar"?"الحالة الحالية":"Current Status"}),g("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[u("div",{className:"text-2xl font-bold text-green-600",children:"98%"}),u("div",{className:"text-gray-600 text-sm",children:t==="ar"?"تشبع الأكسجين":"O2 Saturation"})]}),g("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[u("div",{className:"text-2xl font-bold text-blue-600",children:"120/80"}),u("div",{className:"text-gray-600 text-sm",children:t==="ar"?"ضغط الدم":"Blood Pressure"})]}),g("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[u("div",{className:"text-2xl font-bold text-yellow-600",children:"2/10"}),u("div",{className:"text-gray-600 text-sm",children:t==="ar"?"مستوى الألم":"Pain Level"})]})]})]}),g("div",{className:"bg-white rounded-lg shadow p-6",children:[u("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:t==="ar"?"إجراءات سريعة":"Quick Actions"}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[g("button",{onClick:()=>c("vital-signs"),className:"p-4 bg-green-50 hover:bg-green-100 rounded-lg text-center transition-colors",children:[u("div",{className:"text-2xl mb-2",children:"💓"}),u("div",{className:"font-medium text-gray-800",children:t==="ar"?"تسجيل العلامات الحيوية":"Record Vitals"})]}),g("button",{onClick:()=>c("medications"),className:"p-4 bg-blue-50 hover:bg-blue-100 rounded-lg text-center transition-colors",children:[u("div",{className:"text-2xl mb-2",children:"💊"}),u("div",{className:"font-medium text-gray-800",children:t==="ar"?"إدارة الأدوية":"Manage Medications"})]}),g("button",{onClick:()=>c("nursing-notes"),className:"p-4 bg-purple-50 hover:bg-purple-100 rounded-lg text-center transition-colors",children:[u("div",{className:"text-2xl mb-2",children:"📝"}),u("div",{className:"font-medium text-gray-800",children:t==="ar"?"كتابة ملاحظة":"Write Note"})]}),g("button",{onClick:()=>c("care-plans"),className:"p-4 bg-orange-50 hover:bg-orange-100 rounded-lg text-center transition-colors",children:[u("div",{className:"text-2xl mb-2",children:"📋"}),u("div",{className:"font-medium text-gray-800",children:t==="ar"?"خطة الرعاية":"Care Plan"})]})]})]})]})]}):g("div",{className:"text-center py-12",children:[u("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u("span",{className:"text-4xl text-gray-400",children:"👥"})}),u("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t==="ar"?"اختر مريضاً":"Select a Patient"}),u("p",{className:"text-gray-600",children:t==="ar"?"اختر مريضاً من القائمة لبدء الرعاية":"Choose a patient from the list to start providing care"})]})})]})]})]})},HT=()=>{const{unifiedData:t,activeContext:e,switchContext:n,callUnifiedAPI:s,isLoading:i,hasError:r,getError:a}=Pt(),{t:o,language:l,isRTL:c}=hd(),{user:d}=js(),{getPatient:h,getPatientAppointments:f,createFHIRResource:m,isLoading:p,error:x}=gr(),S=i||p,[A,w]=b.useState("overview"),[y,v]=b.useState(null),[T,D]=b.useState({type:"",preferredDate:"",notes:""}),C=b.useMemo(()=>{const O=t.overview||{};return{appointments:O.appointments||[],labResults:O.labResults||[],prescriptions:O.prescriptions||[],medicalHistory:O.medicalHistory||[],visitsThisYear:O.visitsThisYear||12}},[t.overview]);b.useEffect(()=>{e!==xe.OVERVIEW&&n(xe.OVERVIEW),E()},[e,n]);const E=b.useCallback(async()=>{try{const O=d.patientId||d.id;await s(xe.OVERVIEW,"get_patient_data",{patientId:O});const B=await h(O);v(B)}catch(O){console.error("Failed to load patient data:",O);try{const B=d.patientId||d.id,W=await h(B);v(W)}catch(B){console.error("Fallback patient loading failed:",B)}}},[s,d,h]),R=b.useCallback(async O=>{try{await s(xe.OVERVIEW,"get_patient_appointments",{patientId:O})}catch(B){console.warn("Unified appointments loading failed, trying FHIR fallback:",B);try{const W=await f(O);W&&W.entry&&console.log("Fallback appointments loaded:",W.entry.length)}catch(W){console.error("Failed to load appointments:",W)}}},[s,f]),F=b.useCallback(async()=>{if(!(!T.type||!T.preferredDate)){try{if(await s(xe.OVERVIEW,"request_appointment",{patientId:y?.id||d.patientId||d.id,type:T.type,preferredDate:T.preferredDate,notes:T.notes})){alert(o("appointmentRequested")||(c?"تم إرسال طلب الموعد بنجاح":"Appointment request submitted successfully")),D({type:"",preferredDate:"",notes:""});return}}catch(O){console.warn("Unified appointment request failed, trying FHIR fallback:",O)}try{const O={resourceType:"Appointment",status:"proposed",serviceType:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/service-type",code:T.type,display:T.type}]}],participant:[{actor:{reference:`Patient/${y?.id||d.patientId||d.id}`,display:y?.displayName||d?.name},status:"accepted"}],requestedPeriod:[{start:new Date(T.preferredDate).toISOString()}],comment:T.notes};await m("Appointment",O)&&(alert(o("appointmentRequested")||(c?"تم إرسال طلب الموعد بنجاح":"Appointment request submitted successfully")),D({type:"",preferredDate:"",notes:""}),R(y?.id||d.patientId||d.id))}catch(O){console.error("Failed to request appointment:",O)}}},[T,y,d,s,m,R,o,c]),z=b.useMemo(()=>[{id:"overview",label:o("overview")||(c?"نظرة عامة":"Overview"),icon:"🏠"},{id:"appointments",label:o("myAppointments")||(c?"مواعيدي":"My Appointments"),icon:"📅"},{id:"lab-results",label:o("labResults")||(c?"نتائج الفحوصات":"Lab Results"),icon:"🧪"},{id:"prescriptions",label:o("prescriptions")||(c?"الأدوية":"Prescriptions"),icon:"💊"},{id:"medical-history",label:o("medicalHistory")||(c?"التاريخ الطبي":"Medical History"),icon:"📋"},{id:"request-appointment",label:o("requestAppointment")||(c?"طلب موعد":"Request Appointment"),icon:"➕"}],[o,c]),N=a(xe.OVERVIEW)||x,U=r(xe.OVERVIEW)||!!x;return u(dr,{children:g("div",{className:`min-h-screen bg-gray-50 ${c?"rtl":"ltr"}`,dir:c?"rtl":"ltr",children:[u("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white shadow-lg",children:u("div",{className:"container mx-auto px-6 py-4",children:g("div",{className:"flex items-center justify-between",children:[g("div",{className:`flex items-center space-x-4 ${c?"space-x-reverse":""}`,children:[u("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:u("span",{className:"text-2xl",children:"🏥"})}),g("div",{children:[u("h1",{className:"text-2xl font-bold",children:o("patientPortal")||(c?"بوابة المريض":"Patient Portal")}),u("p",{className:"text-purple-100",children:c?`مرحباً ${d?.nameAr||d?.name||""}`:`Welcome ${d?.name||""}`})]})]}),g("div",{className:c?"text-left":"text-right",children:[u("p",{className:"text-sm text-purple-100",children:o("digitalPatientServices")||(c?"خدمات المرضى الرقمية":"Digital Patient Services")}),u("p",{className:"text-xs text-purple-200",children:o("yourCareMatters")||(c?"رعايتك تهمنا":"Your Care Matters")})]})]})})}),u("div",{className:"bg-white shadow-sm border-b",children:u("div",{className:"container mx-auto px-6",children:u("nav",{className:"flex space-x-8 overflow-x-auto",children:z.map(O=>g("button",{onClick:()=>w(O.id),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors whitespace-nowrap ${A===O.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[u("span",{className:"mr-2",children:O.icon}),O.label]},O.id))})})}),g("div",{className:"container mx-auto px-6 py-8",children:[S&&u("div",{className:"text-center py-8",children:u($t,{message:o("loading")||(c?"جاري التحميل...":"Loading...")})}),U&&u("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:g("div",{className:"flex items-center justify-between",children:[u("p",{className:"text-red-800",children:N}),u("button",{onClick:()=>window.location.reload(),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:o("refresh")||(c?"تحديث":"Refresh")})]})}),A==="overview"&&y&&g("div",{className:"space-y-6",children:[g("div",{className:"bg-white rounded-lg shadow p-6",children:[u("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:currentLanguage==="ar"?"معلوماتي الشخصية":"My Information"}),g("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g("div",{children:[u("label",{className:"text-sm font-medium text-gray-600",children:currentLanguage==="ar"?"الاسم":"Name"}),u("p",{className:"text-gray-900 font-medium",children:y.displayName})]}),g("div",{children:[u("label",{className:"text-sm font-medium text-gray-600",children:currentLanguage==="ar"?"رقم المريض":"Patient ID"}),u("p",{className:"text-gray-900",children:y.id})]}),g("div",{children:[u("label",{className:"text-sm font-medium text-gray-600",children:currentLanguage==="ar"?"تاريخ الميلاد":"Date of Birth"}),u("p",{className:"text-gray-900",children:y.birthDate||"Not specified"})]}),g("div",{children:[u("label",{className:"text-sm font-medium text-gray-600",children:currentLanguage==="ar"?"الجنس":"Gender"}),u("p",{className:"text-gray-900",children:y.gender||"Not specified"})]})]})]}),g("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[g("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[u("div",{className:"text-2xl font-bold text-blue-600",children:C.appointments.length}),u("div",{className:"text-gray-600 text-sm",children:o("upcomingAppointments")||(c?"المواعيد القادمة":"Upcoming Appointments")})]}),g("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[u("div",{className:"text-2xl font-bold text-green-600",children:C.labResults.length}),u("div",{className:"text-gray-600 text-sm",children:o("labResults")||(c?"نتائج الفحوصات":"Lab Results")})]}),g("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[u("div",{className:"text-2xl font-bold text-purple-600",children:C.prescriptions.length}),u("div",{className:"text-gray-600 text-sm",children:o("activePrescriptions")||(c?"الأدوية الحالية":"Active Prescriptions")})]}),g("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[u("div",{className:"text-2xl font-bold text-orange-600",children:C.visitsThisYear}),u("div",{className:"text-gray-600 text-sm",children:o("visitsThisYear")||(c?"الزيارات هذا العام":"Visits This Year")})]})]}),g("div",{className:"bg-white rounded-lg shadow p-6",children:[u("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:currentLanguage==="ar"?"النشاط الأخير":"Recent Activity"}),g("div",{className:"space-y-3",children:[g("div",{className:"flex items-center p-3 bg-blue-50 rounded-lg",children:[u("span",{className:"mr-3 text-blue-600",children:"📅"}),g("div",{children:[u("p",{className:"font-medium text-blue-900",children:currentLanguage==="ar"?"موعد مجدول":"Appointment Scheduled"}),u("p",{className:"text-sm text-blue-700",children:currentLanguage==="ar"?"موعد مع د. أحمد في 25 يناير":"Appointment with Dr. Ahmed on Jan 25"})]})]}),g("div",{className:"flex items-center p-3 bg-green-50 rounded-lg",children:[u("span",{className:"mr-3 text-green-600",children:"🧪"}),g("div",{children:[u("p",{className:"font-medium text-green-900",children:currentLanguage==="ar"?"نتائج التحاليل متاحة":"Lab Results Available"}),u("p",{className:"text-sm text-green-700",children:currentLanguage==="ar"?"تحليل الدم الشامل - طبيعي":"Complete Blood Count - Normal"})]})]}),g("div",{className:"flex items-center p-3 bg-purple-50 rounded-lg",children:[u("span",{className:"mr-3 text-purple-600",children:"💊"}),g("div",{children:[u("p",{className:"font-medium text-purple-900",children:currentLanguage==="ar"?"وصفة طبية جديدة":"New Prescription"}),u("p",{className:"text-sm text-purple-700",children:currentLanguage==="ar"?"أسبرين 100 مج - يومياً":"Aspirin 100mg - Daily"})]})]})]})]})]}),A==="appointments"&&g("div",{className:"bg-white rounded-lg shadow",children:[u("div",{className:"px-6 py-4 border-b border-gray-200",children:u("h3",{className:"text-lg font-semibold text-gray-800",children:currentLanguage==="ar"?"مواعيدي":"My Appointments"})}),u("div",{className:"p-6",children:C.appointments.length===0?g("div",{className:"text-center py-8",children:[u("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u("span",{className:"text-2xl text-gray-400",children:"📅"})}),u("p",{className:"text-gray-600",children:o("noAppointments")||(c?"لا توجد مواعيد مجدولة":"No appointments scheduled")})]}):u("div",{className:"space-y-4",children:C.appointments.map((O,B)=>u("div",{className:"border border-gray-200 rounded-lg p-4",children:g("div",{className:"flex items-center justify-between",children:[g("div",{children:[u("h4",{className:"font-medium text-gray-900",children:O.serviceType?.[0]?.display||"General Consultation"}),g("p",{className:"text-sm text-gray-600",children:[currentLanguage==="ar"?"التاريخ: ":"Date: ",new Date(O.start).toLocaleDateString()]}),g("p",{className:"text-sm text-gray-600",children:[currentLanguage==="ar"?"الوقت: ":"Time: ",new Date(O.start).toLocaleTimeString()]})]}),u("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${O.status==="booked"?"bg-green-100 text-green-800":O.status==="proposed"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:O.status})]})},B))})})]}),A==="lab-results"&&g("div",{className:"bg-white rounded-lg shadow",children:[u("div",{className:"px-6 py-4 border-b border-gray-200",children:u("h3",{className:"text-lg font-semibold text-gray-800",children:currentLanguage==="ar"?"نتائج الفحوصات":"Lab Results"})}),u("div",{className:"p-6",children:u("div",{className:"space-y-4",children:C.labResults.map(O=>u("div",{className:"border border-gray-200 rounded-lg p-4",children:g("div",{className:"flex items-center justify-between",children:[g("div",{children:[u("h4",{className:"font-medium text-gray-900",children:O.test}),g("p",{className:"text-sm text-gray-600",children:[currentLanguage==="ar"?"التاريخ: ":"Date: ",O.date]}),g("p",{className:"text-sm font-medium text-green-600",children:[currentLanguage==="ar"?"النتيجة: ":"Result: ",O.result]})]}),u("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:O.status})]})},O.id))})})]}),A==="prescriptions"&&g("div",{className:"bg-white rounded-lg shadow",children:[u("div",{className:"px-6 py-4 border-b border-gray-200",children:u("h3",{className:"text-lg font-semibold text-gray-800",children:currentLanguage==="ar"?"الأدوية الحالية":"Current Prescriptions"})}),u("div",{className:"p-6",children:u("div",{className:"space-y-4",children:C.prescriptions.map(O=>u("div",{className:"border border-gray-200 rounded-lg p-4",children:g("div",{className:"flex items-center justify-between",children:[g("div",{children:[u("h4",{className:"font-medium text-gray-900",children:O.medication}),g("p",{className:"text-sm text-gray-600",children:[currentLanguage==="ar"?"الجرعة: ":"Dosage: ",O.dosage]}),g("p",{className:"text-sm text-gray-600",children:[currentLanguage==="ar"?"الطبيب: ":"Prescribed by: ",O.prescriber]}),g("p",{className:"text-sm text-gray-600",children:[currentLanguage==="ar"?"التاريخ: ":"Date: ",O.date]})]}),u("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:O.status})]})},O.id))})})]}),A==="request-appointment"&&g("div",{className:"bg-white rounded-lg shadow p-6",children:[u("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:currentLanguage==="ar"?"طلب موعد جديد":"Request New Appointment"}),g("div",{className:"space-y-4",children:[g("div",{children:[u("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:currentLanguage==="ar"?"نوع الموعد":"Appointment Type"}),g("select",{value:T.type,onChange:O=>D({...T,type:O.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[u("option",{value:"",children:currentLanguage==="ar"?"اختر نوع الموعد":"Select appointment type"}),u("option",{value:"general",children:currentLanguage==="ar"?"استشارة عامة":"General Consultation"}),u("option",{value:"followup",children:currentLanguage==="ar"?"متابعة":"Follow-up"}),u("option",{value:"specialist",children:currentLanguage==="ar"?"استشاري متخصص":"Specialist Consultation"})]})]}),g("div",{children:[u("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:currentLanguage==="ar"?"التاريخ المفضل":"Preferred Date"}),u("input",{type:"date",value:T.preferredDate,onChange:O=>D({...T,preferredDate:O.target.value}),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),g("div",{children:[u("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:currentLanguage==="ar"?"ملاحظات إضافية":"Additional Notes"}),u("textarea",{value:T.notes,onChange:O=>D({...T,notes:O.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:currentLanguage==="ar"?"اكتب أي ملاحظات أو أعراض تريد مناقشتها...":"Write any notes or symptoms you want to discuss..."})]}),g("div",{className:"flex items-center space-x-4",children:[u("button",{onClick:F,disabled:!T.type||!T.preferredDate||S,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:currentLanguage==="ar"?"إرسال الطلب":"Submit Request"}),u("button",{onClick:()=>D({type:"",preferredDate:"",notes:""}),className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:currentLanguage==="ar"?"مسح":"Clear"})]})]})]})]})]})})},$T=()=>{const{currentLanguage:t,isRTL:e}=Se(),{user:n}=js(),[s,i]=b.useState("dashboard"),r=[{id:"dashboard",label:t==="ar"?"لوحة التحكم":"Dashboard",icon:"📊"},{id:"users",label:t==="ar"?"إدارة المستخدمين":"User Management",icon:"👥"},{id:"system",label:t==="ar"?"إعدادات النظام":"System Settings",icon:"⚙️"},{id:"audit",label:t==="ar"?"سجل الأحداث":"Audit Logs",icon:"📝"}];return g("div",{className:`min-h-screen bg-gray-50 ${e?"rtl":"ltr"}`,children:[u("div",{className:"bg-gradient-to-r from-gray-800 to-gray-900 text-white shadow-lg",children:u("div",{className:"container mx-auto px-6 py-4",children:u("div",{className:"flex items-center justify-between",children:g("div",{className:"flex items-center space-x-4",children:[u("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:u("span",{className:"text-2xl",children:"⚙️"})}),g("div",{children:[u("h1",{className:"text-2xl font-bold",children:t==="ar"?"لوحة الإدارة":"Admin Portal"}),u("p",{className:"text-gray-300",children:t==="ar"?`مرحباً ${n?.name||""}`:`Welcome ${n?.name||""}`})]})]})})})}),u("div",{className:"bg-white shadow-sm border-b",children:u("div",{className:"container mx-auto px-6",children:u("nav",{className:"flex space-x-8",children:r.map(a=>g("button",{onClick:()=>i(a.id),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors ${s===a.id?"border-gray-500 text-gray-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[u("span",{className:"mr-2",children:a.icon}),a.label]},a.id))})})}),g("div",{className:"container mx-auto px-6 py-8",children:[s==="dashboard"&&g("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[g("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[u("div",{className:"text-3xl font-bold text-blue-600",children:"156"}),u("div",{className:"text-gray-600 text-sm",children:t==="ar"?"إجمالي المستخدمين":"Total Users"})]}),g("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[u("div",{className:"text-3xl font-bold text-green-600",children:"89"}),u("div",{className:"text-gray-600 text-sm",children:t==="ar"?"المستخدمون النشطون":"Active Users"})]}),g("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[u("div",{className:"text-3xl font-bold text-purple-600",children:"1,234"}),u("div",{className:"text-gray-600 text-sm",children:t==="ar"?"معرفات OID":"OID Identifiers"})]}),g("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[u("div",{className:"text-3xl font-bold text-orange-600",children:"99.9%"}),u("div",{className:"text-gray-600 text-sm",children:t==="ar"?"وقت التشغيل":"System Uptime"})]})]}),s==="users"&&g("div",{className:"bg-white rounded-lg shadow p-6",children:[u("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:t==="ar"?"إدارة المستخدمين":"User Management"}),u("p",{className:"text-gray-600",children:t==="ar"?"إدارة المستخدمين والأدوار والصلاحيات":"Manage users, roles, and permissions"})]}),s==="system"&&g("div",{className:"bg-white rounded-lg shadow p-6",children:[u("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:t==="ar"?"إعدادات النظام":"System Settings"}),u("p",{className:"text-gray-600",children:t==="ar"?"تكوين إعدادات النظام والأمان":"Configure system settings and security"})]}),s==="audit"&&g("div",{className:"bg-white rounded-lg shadow p-6",children:[u("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:t==="ar"?"سجل الأحداث":"Audit Logs"}),u("p",{className:"text-gray-600",children:t==="ar"?"مراجعة سجلات النظام والأنشطة":"Review system logs and activities"})]})]})]})},es=()=>{const{user:t,isAuthenticated:e,hasRole:n,isLoading:s}=js(),{error:i,clearError:r}=gr(),{language:a,isRTL:o,t:l}=Se(),[c,d]=b.useState(!1);if(b.useEffect(()=>{s||d(!0)},[s]),!c||s)return u("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:u($t,{message:a==="ar"?"جاري التحميل...":"Loading..."})});if(!e)return u(Cr,{to:"/login",replace:!0});const h=({error:m,onClear:p})=>u("div",{className:`bg-red-50 border border-red-200 rounded-lg p-4 mb-4 ${o?"text-right":"text-left"}`,children:g("div",{className:"flex items-center justify-between",children:[g("div",{className:"text-red-800",children:[u("h3",{className:"font-medium",children:a==="ar"?"خطأ في النظام":"System Error"}),u("p",{className:"text-sm mt-1",children:m})]}),u("button",{onClick:p,className:"text-red-600 hover:text-red-800 font-medium text-sm",children:a==="ar"?"إغلاق":"Dismiss"})]})}),f=({children:m,requiredRoles:p,fallback:x=null})=>(p?n(p):!0)?m:x||g("div",{className:"text-center py-8",children:[u("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:a==="ar"?"وصول غير مسموح":"Access Denied"}),u("p",{className:"text-gray-600",children:a==="ar"?"ليس لديك صلاحية للوصول إلى هذه الصفحة":"You do not have permission to access this page"})]});return u(dr,{children:g("div",{className:`min-h-screen bg-gray-50 ${o?"rtl":"ltr"}`,children:[i&&u("div",{className:"fixed top-4 left-4 right-4 z-50",children:u(h,{error:i,onClear:r})}),u("div",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-3",children:g("div",{className:"flex items-center justify-between",children:[g("div",{className:`flex items-center space-x-4 ${o?"space-x-reverse":""}`,children:[u("div",{className:"w-8 h-8 bg-indigo-100 rounded-full flex items-center justify-center",children:u("span",{className:"text-indigo-600 font-semibold text-sm",children:t?.name?.charAt(0)||t?.email?.charAt(0)||"U"})}),g("div",{children:[u("p",{className:"text-sm font-medium text-gray-900",children:t?.name||t?.email}),g("p",{className:"text-xs text-gray-500",children:[a==="ar"?"الدور:":"Role:"," ",t?.role]})]})]}),u("div",{className:"text-xs text-gray-500",children:a==="ar"?"منصة برين سايت الموحدة":"BrainSAIT Unified Platform"})]})}),u("div",{className:"container mx-auto px-4 py-6",children:g(sd,{children:[u(Y,{path:"/doctor-portal/*",element:u(f,{requiredRoles:[se.DOCTOR],children:u(UT,{})})}),u(Y,{path:"/nurse-portal/*",element:u(f,{requiredRoles:[se.NURSE],children:u(BT,{})})}),u(Y,{path:"/patient-portal/*",element:u(f,{requiredRoles:[se.PATIENT],children:u(HT,{})})}),u(Y,{path:"/admin-dashboard/*",element:u(f,{requiredRoles:[se.ADMIN],children:u($T,{})})}),u(Y,{path:"/",element:u(Cr,{to:t?.role===se.DOCTOR?"/doctor-portal":t?.role===se.NURSE?"/nurse-portal":t?.role===se.PATIENT?"/patient-portal":t?.role===se.ADMIN?"/admin-dashboard":"/dashboard",replace:!0})}),u(Y,{path:"*",element:u("div",{className:`text-center py-12 ${o?"rtl":"ltr"}`,dir:o?"rtl":"ltr",children:g("div",{className:"max-w-md mx-auto",children:[u("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u("span",{className:"text-2xl text-gray-400",children:"📄"})}),u("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:l("pageNotFound")||(o?"الصفحة غير موجودة":"Page Not Found")}),u("p",{className:"text-gray-600 mb-6",children:l("pageNotFoundMessage")||(o?"الصفحة التي تبحث عنها غير موجودة في نظام برين سايت":"The healthcare page you are looking for does not exist in BrainSAIT system")}),u("p",{className:"text-sm text-gray-500 mb-6",children:l("redirectingToDashboard")||(o?"جاري التوجيه إلى لوحة التحكم...":"Redirecting to dashboard...")}),u(Cr,{to:"/",replace:!0})]})})})]})})]})})},WT=()=>{const{isRTL:t}=Se(),[e,n]=b.useState(""),[s,i]=b.useState([{id:1,type:"assistant",content:t?"مرحباً! أنا مساعد الذكاء الاصطناعي للرعاية الصحية. كيف يمكنني مساعدتك اليوم؟":"Hello! I am your AI healthcare assistant. How can I help you today?",timestamp:new Date}]),[r,a]=b.useState(!1),o=()=>{if(!e.trim())return;const d={id:Date.now(),type:"user",content:e,timestamp:new Date};i(h=>[...h,d]),n(""),a(!0),setTimeout(()=>{const h={id:Date.now()+1,type:"assistant",content:t?"شكراً لك على رسالتك. أنا أعمل على تحليل استفسارك وسأقدم لك الإجابة المناسبة قريباً.":"Thank you for your message. I am analyzing your query and will provide an appropriate response soon.",timestamp:new Date};i(f=>[...f,h]),a(!1)},2e3)};return g(k,{sx:{height:"80vh",display:"flex",flexDirection:"column"},children:[u(Lt,{sx:{p:2,mb:2},children:g(k,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[g(k,{display:"flex",alignItems:"center",gap:2,children:[u(_m,{sx:{color:"primary.main",fontSize:32}}),g(k,{children:[u(L,{variant:"h6",children:t?"مساعد الذكاء الاصطناعي الطبي":"Medical AI Assistant"}),u(L,{variant:"caption",color:"text.secondary",children:t?"متاح 24/7 لمساعدتك":"Available 24/7 to help you"})]})]}),u(Fe,{variant:"outlined",startIcon:u(Sm,{}),onClick:()=>{i([{id:1,type:"assistant",content:t?"مرحباً! أنا مساعد الذكاء الاصطناعي للرعاية الصحية. كيف يمكنني مساعدتك اليوم؟":"Hello! I am your AI healthcare assistant. How can I help you today?",timestamp:new Date}])},size:"small",children:t?"مسح المحادثة":"Clear Chat"})]})}),g(Lt,{sx:{p:2,mb:2},children:[u(L,{variant:"subtitle2",gutterBottom:!0,children:t?"أسئلة سريعة:":"Quick Questions:"}),u(k,{display:"flex",gap:1,flexWrap:"wrap",children:[t?"كيف أقدم مطالبة نفيس؟":"How to submit NPHIES claim?",t?"ما هي معايير FHIR؟":"What are FHIR standards?",t?"كيف أدير بيانات المرضى؟":"How to manage patient data?",t?"شرح نظام OID":"Explain OID system"].map((d,h)=>u(J,{label:d,variant:"outlined",clickable:!0,onClick:()=>n(d),size:"small"},h))})]}),u(Lt,{sx:{flexGrow:1,p:2,overflow:"auto",mb:2},children:g(k,{display:"flex",flexDirection:"column",gap:2,children:[s.map(d=>u(k,{display:"flex",justifyContent:d.type==="user"?"flex-end":"flex-start",children:u(ve,{sx:{maxWidth:"70%",bgcolor:d.type==="user"?"primary.main":"background.paper",color:d.type==="user"?"primary.contrastText":"text.primary"},children:u(Ee,{sx:{p:2,"&:last-child":{pb:2}},children:g(k,{display:"flex",alignItems:"flex-start",gap:1,children:[d.type==="assistant"&&u(al,{sx:{color:"secondary.main",mt:.5}}),g(k,{children:[u(L,{variant:"body2",children:d.content}),u(L,{variant:"caption",sx:{opacity:.7,mt:1,display:"block"},children:d.timestamp.toLocaleTimeString()})]})]})})})},d.id)),r&&u(k,{display:"flex",justifyContent:"flex-start",children:u(ve,{sx:{bgcolor:"background.paper"},children:u(Ee,{sx:{p:2},children:g(k,{display:"flex",alignItems:"center",gap:1,children:[u(al,{sx:{color:"secondary.main"}}),u(L,{variant:"body2",children:t?"يكتب...":"Typing..."})]})})})})]})}),u(Lt,{sx:{p:2},children:g(k,{display:"flex",gap:1,alignItems:"flex-end",children:[u(Be,{fullWidth:!0,multiline:!0,maxRows:3,placeholder:t?"اكتب رسالتك هنا...":"Type your message here...",value:e,onChange:d=>n(d.target.value),onKeyPress:d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),o())}}),u(Xe,{color:"primary",children:u(wm,{})}),u(Xe,{color:"primary",children:u(Tm,{})}),u(Fe,{variant:"contained",onClick:o,disabled:!e.trim()||r,sx:{minWidth:"auto",px:2},children:u(Am,{})})]})})]})},qT=()=>{const{isRTL:t}=Se(),{oid:e}=jm(),[n,s]=b.useState(!0);return b.useEffect(()=>{setTimeout(()=>{s(!1)},1e3)},[]),n?u(k,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh",children:u(qa,{})}):g(k,{children:[u(L,{variant:"h4",gutterBottom:!0,children:t?"تعديل المعرف":"Edit Identity"}),u(L,{variant:"body2",color:"text.secondary",mb:4,children:t?`تعديل المعرف: ${e}`:`Editing identifier: ${e}`}),u(Lt,{sx:{p:3},children:u(un,{severity:"info",children:t?"صفحة التعديل قيد التطوير":"Edit page under development"})})]})},GT=()=>{const{isRTL:t}=Se(),e=Ya(),[n,s]=b.useState({name:"",nameAr:"",type:"",organization:"",department:"",nationalId:"",accessLevel:"",description:""}),[i,r]=b.useState({}),[a,o]=b.useState(!1),l=[{value:"provider",label:t?"مقدم خدمة":"Provider",icon:u(gs,{})},{value:"organization",label:t?"مؤسسة":"Organization",icon:u(bs,{})},{value:"person",label:t?"شخص":"Person",icon:u(an,{})},{value:"system",label:t?"نظام":"System",icon:u(ys,{})}],c=[{value:"low",label:t?"منخفض":"Low"},{value:"medium",label:t?"متوسط":"Medium"},{value:"high",label:t?"عالي":"High"},{value:"critical",label:t?"حرج":"Critical"}],d=p=>x=>{s({...n,[p]:x.target.value}),i[p]&&r({...i,[p]:""})},h=()=>{const p={};return n.name.trim()||(p.name=t?"الاسم مطلوب":"Name is required"),n.type||(p.type=t?"نوع الكيان مطلوب":"Entity type is required"),n.organization.trim()||(p.organization=t?"المؤسسة مطلوبة":"Organization is required"),n.accessLevel||(p.accessLevel=t?"مستوى الوصول مطلوب":"Access level is required"),r(p),Object.keys(p).length===0},f=p=>{p.preventDefault(),h()&&setTimeout(()=>{o(!0),setTimeout(()=>{e("/oid-tree")},2e3)},1e3)},m=()=>{e(-1)};return a?u(k,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh",children:g(un,{severity:"success",sx:{maxWidth:400},children:[u(L,{variant:"h6",gutterBottom:!0,children:t?"تم التسجيل بنجاح!":"Registration Successful!"}),u(L,{variant:"body2",children:t?"سيتم توجيهك إلى شجرة المعرفات...":"Redirecting to OID tree..."})]})}):g(k,{children:[u(L,{variant:"h4",gutterBottom:!0,children:t?"تسجيل معرف جديد":"Register New Identity"}),u(L,{variant:"body2",color:"text.secondary",mb:4,children:t?"إنشاء معرف جديد في النظام الصحي الموحد":"Create a new identifier in the unified healthcare system"}),u(Lt,{sx:{p:3,maxWidth:800,mx:"auto"},children:u("form",{onSubmit:f,children:g(G,{container:!0,spacing:3,children:[u(G,{item:!0,xs:12,children:g(L,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[u(ys,{}),t?"المعلومات الأساسية":"Basic Information"]})}),u(G,{item:!0,xs:12,md:6,children:u(Be,{fullWidth:!0,label:t?"الاسم (إنجليزي)":"Name (English)",value:n.name,onChange:d("name"),error:!!i.name,helperText:i.name,required:!0})}),u(G,{item:!0,xs:12,md:6,children:u(Be,{fullWidth:!0,label:t?"الاسم (عربي)":"Name (Arabic)",value:n.nameAr,onChange:d("nameAr")})}),u(G,{item:!0,xs:12,md:6,children:g(fa,{fullWidth:!0,error:!!i.type,required:!0,children:[u(ma,{children:t?"نوع الكيان":"Entity Type"}),u(pa,{value:n.type,onChange:d("type"),label:t?"نوع الكيان":"Entity Type",children:l.map(p=>u(ge,{value:p.value,children:g(k,{display:"flex",alignItems:"center",gap:1,children:[p.icon,p.label]})},p.value))})]})}),u(G,{item:!0,xs:12,md:6,children:g(fa,{fullWidth:!0,error:!!i.accessLevel,required:!0,children:[u(ma,{children:t?"مستوى الوصول":"Access Level"}),u(pa,{value:n.accessLevel,onChange:d("accessLevel"),label:t?"مستوى الوصول":"Access Level",children:c.map(p=>u(ge,{value:p.value,children:p.label},p.value))})]})}),u(G,{item:!0,xs:12,children:g(L,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,mt:2},children:[u(bs,{}),t?"معلومات المؤسسة":"Organization Information"]})}),u(G,{item:!0,xs:12,md:6,children:u(Be,{fullWidth:!0,label:t?"المؤسسة":"Organization",value:n.organization,onChange:d("organization"),error:!!i.organization,helperText:i.organization,required:!0})}),u(G,{item:!0,xs:12,md:6,children:u(Be,{fullWidth:!0,label:t?"القسم":"Department",value:n.department,onChange:d("department")})}),u(G,{item:!0,xs:12,md:6,children:u(Be,{fullWidth:!0,label:t?"رقم الهوية الوطنية":"National ID",value:n.nationalId,onChange:d("nationalId")})}),u(G,{item:!0,xs:12,children:u(Be,{fullWidth:!0,label:t?"الوصف":"Description",value:n.description,onChange:d("description"),multiline:!0,rows:4,helperText:t?"وصف مفصل للكيان ودوره في النظام":"Detailed description of the entity and its role in the system"})}),n.name&&n.type&&u(G,{item:!0,xs:12,children:u(ve,{sx:{bgcolor:"primary.main",color:"primary.contrastText"},children:g(Ee,{children:[u(L,{variant:"h6",gutterBottom:!0,children:t?"معاينة المعرف":"Identity Preview"}),g(k,{display:"flex",gap:1,flexWrap:"wrap",children:[u(J,{label:`${t?"الاسم:":"Name:"} ${n.name}`}),u(J,{label:`${t?"النوع:":"Type:"} ${n.type}`}),u(J,{label:`${t?"المؤسسة:":"Org:"} ${n.organization}`}),n.accessLevel&&u(J,{label:`${t?"المستوى:":"Level:"} ${n.accessLevel}`})]})]})})}),u(G,{item:!0,xs:12,children:g(k,{display:"flex",gap:2,justifyContent:"flex-end",mt:2,children:[u(Fe,{variant:"outlined",startIcon:u(Em,{}),onClick:m,children:t?"إلغاء":"Cancel"}),u(Fe,{variant:"contained",type:"submit",startIcon:u(Cm,{}),children:t?"تسجيل":"Register"})]})})]})})})]})},KT=()=>{const{toggleLanguage:t,isRTL:e}=Se(),{unifiedData:n,systemStatus:s,user:i}=Pt();return g(k,{sx:{p:3},children:[u(L,{variant:"h4",component:"h1",gutterBottom:!0,children:e?"صفحة اختبار النظام":"System Test Page"}),u(un,{severity:"success",sx:{mb:3},children:u(L,{variant:"body2",children:e?"تم تحميل الواجهة بنجاح! جميع المكونات الأساسية تعمل بشكل صحيح.":"UI loaded successfully! All core components are working properly."})}),g(G,{container:!0,spacing:3,children:[u(G,{item:!0,xs:12,md:6,children:u(ve,{children:g(Ee,{children:[u(L,{variant:"h6",gutterBottom:!0,children:e?"اختبار اللغة":"Language Test"}),u(L,{variant:"body2",color:"text.secondary",paragraph:!0,children:e?"اللغة الحالية: العربية (RTL)":"Current Language: English (LTR)"}),u(Fe,{variant:"contained",onClick:t,sx:{mb:2},children:e?"التبديل إلى الإنجليزية":"Switch to Arabic"}),g(k,{children:[u(J,{icon:u(Ye,{}),label:e?"RTL مفعل":"RTL Active",color:e?"success":"default",sx:{mr:1}}),u(J,{icon:u(Ye,{}),label:e?"LTR مفعل":"LTR Active",color:e?"default":"success"})]})]})})}),u(G,{item:!0,xs:12,md:6,children:u(ve,{children:g(Ee,{children:[u(L,{variant:"h6",gutterBottom:!0,children:e?"اختبار السياق":"Context Test"}),u(L,{variant:"body2",color:"text.secondary",paragraph:!0,children:e?"بيانات السياق الموحد محملة ومتاحة":"Unified context data loaded and available"}),g(k,{sx:{display:"flex",flexDirection:"column",gap:1},children:[u(J,{icon:u(Ye,{}),label:`${e?"المطالبات:":"Claims:"} ${n.overview.totalClaims?.toLocaleString()||"N/A"}`,color:"success",size:"small"}),u(J,{icon:u(Ye,{}),label:`${e?"الدقة:":"Accuracy:"} ${n.overview.accuracy||"N/A"}%`,color:"info",size:"small"}),u(J,{icon:u(Ye,{}),label:`${e?"المستخدمين:":"Users:"} ${n.overview.users?.toLocaleString()||"N/A"}`,color:"primary",size:"small"})]})]})})}),u(G,{item:!0,xs:12,md:6,children:u(ve,{children:g(Ee,{children:[u(L,{variant:"h6",gutterBottom:!0,children:e?"حالة النظام":"System Status"}),u(L,{variant:"body2",color:"text.secondary",paragraph:!0,children:e?"معلومات حالة النظام والخدمات":"System and services status information"}),g(k,{sx:{display:"flex",flexDirection:"column",gap:1},children:[u(J,{icon:s.status==="operational"?u(Ye,{}):u(Pm,{}),label:`${e?"الحالة:":"Status:"} ${s.status||"Unknown"}`,color:s.status==="operational"?"success":"error",size:"small"}),u(J,{icon:u(Bu,{}),label:`${e?"وقت التشغيل:":"Uptime:"} ${s.uptime||"N/A"}%`,color:"info",size:"small"})]})]})})}),u(G,{item:!0,xs:12,md:6,children:u(ve,{children:g(Ee,{children:[u(L,{variant:"h6",gutterBottom:!0,children:e?"بيانات المستخدم":"User Data"}),u(L,{variant:"body2",color:"text.secondary",paragraph:!0,children:e?"معلومات المستخدم الحالي والصلاحيات":"Current user information and permissions"}),g(k,{sx:{display:"flex",flexDirection:"column",gap:1},children:[u(J,{icon:u(Ye,{}),label:`${e?"الاسم:":"Name:"} ${i.name||"N/A"}`,color:"primary",size:"small"}),u(J,{icon:u(Ye,{}),label:`${e?"الدور:":"Role:"} ${i.role||"N/A"}`,color:"secondary",size:"small"}),u(J,{icon:u(Ye,{}),label:`${e?"الصلاحيات:":"Permissions:"} ${i.permissions?.length||0}`,color:"info",size:"small"})]})]})})}),u(G,{item:!0,xs:12,md:6,children:u(ve,{children:g(Ee,{children:[u(L,{variant:"h6",gutterBottom:!0,children:e?"اختبار نفيس":"NPHIES Test"}),u(L,{variant:"body2",color:"text.secondary",paragraph:!0,children:e?"بيانات تكامل منصة نفيس السعودية":"Saudi NPHIES platform integration data"}),g(k,{sx:{display:"flex",flexDirection:"column",gap:1},children:[u(J,{icon:u(Ye,{}),label:`${e?"فحوصات الأهلية:":"Eligibility Checks:"} ${n.nphies?.eligibilityChecks?.toLocaleString()||"N/A"}`,color:"success",size:"small"}),u(J,{icon:u(Ye,{}),label:`${e?"المطالبات المرسلة:":"Claims Submitted:"} ${n.nphies?.claimsSubmitted?.toLocaleString()||"N/A"}`,color:"info",size:"small"}),u(J,{icon:u(Ye,{}),label:`${e?"معدل النجاح:":"Success Rate:"} ${n.nphies?.successRate||"N/A"}%`,color:"primary",size:"small"})]})]})})}),u(G,{item:!0,xs:12,md:6,children:u(ve,{children:g(Ee,{children:[u(L,{variant:"h6",gutterBottom:!0,children:e?"اختبار المظهر":"Theme Test"}),u(L,{variant:"body2",color:"text.secondary",paragraph:!0,children:e?"ألوان ومكونات المظهر الداكن":"Dark theme colors and components"}),g(k,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[u(J,{label:"Primary",color:"primary"}),u(J,{label:"Secondary",color:"secondary"}),u(J,{label:"Success",color:"success"}),u(J,{label:"Error",color:"error"}),u(J,{label:"Warning",color:"warning"}),u(J,{label:"Info",color:"info"})]})]})})})]}),u(k,{sx:{mt:4},children:u(un,{severity:"info",children:u(L,{variant:"body2",children:e?"تم إصلاح جميع مشاكل العرض الأساسية. النظام جاهز للاستخدام مع دعم كامل للغة العربية ومنصة نفيس.":"All critical rendering issues have been fixed. System is ready for use with full Arabic support and NPHIES integration."})})})]})},YT=b.createContext(),XT=({children:t})=>{const[e,n]=b.useState(null),[s,i]=b.useState(!1),[r,a]=b.useState(!0),[o,l]=b.useState(null);b.useEffect(()=>{const m=Jr();l(m),sessionStorage.setItem("brainsait-csrf-token",m)},[]),b.useEffect(()=>{(async()=>{try{if(localStorage.getItem("brainsait-token")){const x={id:"user_001",name:"Dr. Ahmed Al-Rashid",nameAr:"د. أحمد الراشد",email:"ahmed.rashid@brainsait.sa",role:"physician",accessLevel:"high",organization:"King Faisal Specialist Hospital",nphiesId:"NPHIES_DR_001",avatar:null};n(x),i(!0),Ae.auditLog("AUTH_CHECK_SUCCESS",x.id,"USER_SESSION",x.id,{role:x.role,organization:x.organization})}}catch(p){Ae.error("Auth check failed",p),Ae.security("AUTH_CHECK_FAILED","medium",{error:p.message})}finally{a(!1)}})()},[]);const f={user:e,isAuthenticated:s,isLoading:r,csrfToken:o,login:async m=>{try{if(a(!0),!m.email||!m.password){const y="Email and password are required";return Ae.security("LOGIN_ATTEMPT_INVALID_INPUT","low",{email:An(m.email)}),{success:!1,error:y}}if(!d_(m.email)){const y="Invalid email format";return Ae.security("LOGIN_ATTEMPT_INVALID_EMAIL","medium",{email:An(m.email)}),{success:!1,error:y}}const p=sessionStorage.getItem("brainsait-csrf-token");if(!h_(m.csrfToken,p)){const y="Invalid security token";return Ae.security("LOGIN_ATTEMPT_CSRF_FAILURE","high",{email:An(m.email),providedToken:!!m.csrfToken,storedToken:!!p}),{success:!1,error:y}}const x=An(m.email);Ae.auditLog("LOGIN_ATTEMPT","UNKNOWN","USER_SESSION",null,{email:x}),await new Promise(y=>setTimeout(y,1e3));const S="mock-jwt-token",A={id:"user_001",name:"Dr. Ahmed Al-Rashid",nameAr:"د. أحمد الراشد",email:x,role:"physician",accessLevel:"high",organization:"King Faisal Specialist Hospital",nphiesId:"NPHIES_DR_001",avatar:null};localStorage.setItem("brainsait-token",S),n(A),i(!0);const w=Jr();return l(w),sessionStorage.setItem("brainsait-csrf-token",w),Ae.auditLog("LOGIN_SUCCESS",A.id,"USER_SESSION",A.id,{role:A.role,organization:A.organization,email:x}),{success:!0,user:A,csrfToken:w}}catch(p){return Ae.error("Login failed",p),Ae.security("LOGIN_ERROR","high",{email:An(m.email),error:p.message}),{success:!1,error:p.message}}finally{a(!1)}},logout:()=>{const m=e?.id;try{localStorage.removeItem("brainsait-token"),sessionStorage.removeItem("brainsait-csrf-token"),n(null),i(!1),l(null),Ae.auditLog("LOGOUT_SUCCESS",m||"UNKNOWN","USER_SESSION",m,{})}catch(p){Ae.error("Logout failed",p),Ae.security("LOGOUT_ERROR","medium",{userId:m||"UNKNOWN",error:p.message})}},refreshCSRFToken:()=>{const m=Jr();return l(m),sessionStorage.setItem("brainsait-csrf-token",m),m}};return u(YT.Provider,{value:f,children:t})},ZT=new Fm({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:5*60*1e3}}}),JT=nd({key:"muirtl",stylisPlugins:[Bm,Hm]}),QT=nd({key:"muiltr"});function eA(){const{language:t,isRTL:e}=Se(),[n,s]=b.useState(!0),i=Rm({direction:e?"rtl":"ltr",palette:{mode:"dark",primary:{main:"#00b4d8",light:"#48cae4",dark:"#0077b6",contrastText:"#ffffff"},secondary:{main:"#f72585",light:"#ff6b9d",dark:"#c41e3a",contrastText:"#ffffff"},success:{main:"#06d6a0",light:"#40e0d0",dark:"#048a81"},warning:{main:"#ffd166",light:"#ffe066",dark:"#ffb700"},error:{main:"#f72585",light:"#ff6b9d",dark:"#c41e3a"},background:{default:"#0f1419",paper:"#1a1f2e"},text:{primary:"#ffffff",secondary:"#b0bec5"}},typography:{fontFamily:e?'"Noto Sans Arabic", "Cairo", "Tajawal", "Arial", sans-serif':'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',h1:{fontSize:"2.5rem",fontWeight:700,lineHeight:1.2},h2:{fontSize:"2rem",fontWeight:600,lineHeight:1.3},h3:{fontSize:"1.75rem",fontWeight:600,lineHeight:1.4},h4:{fontSize:"1.5rem",fontWeight:500,lineHeight:1.4},h5:{fontSize:"1.25rem",fontWeight:500,lineHeight:1.5},h6:{fontSize:"1rem",fontWeight:500,lineHeight:1.5},body1:{fontSize:"1rem",lineHeight:1.6},body2:{fontSize:"0.875rem",lineHeight:1.5}},components:{MuiCssBaseline:{styleOverrides:{body:{scrollbarColor:"#6b6b6b #2b2b2b","&::-webkit-scrollbar, & *::-webkit-scrollbar":{backgroundColor:"#2b2b2b",width:"8px"},"&::-webkit-scrollbar-thumb, & *::-webkit-scrollbar-thumb":{borderRadius:8,backgroundColor:"#6b6b6b",minHeight:24}},"@font-face":[{fontFamily:"Cairo",fontStyle:"normal",fontDisplay:"swap",fontWeight:400,src:"url('https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;500;600;700;800;900&display=swap')"},{fontFamily:"Noto Sans Arabic",fontStyle:"normal",fontDisplay:"swap",fontWeight:400,src:"url('https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@100;200;300;400;500;600;700;800;900&display=swap')"}]}},MuiButton:{styleOverrides:{root:{borderRadius:8,textTransform:"none",fontWeight:500}}},MuiCard:{styleOverrides:{root:{borderRadius:12,backgroundColor:"#1a1f2e",border:"1px solid #2d3748"}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:8}}}}}});return b.useEffect(()=>{const r=setTimeout(()=>{s(!1)},1e3);return()=>clearTimeout(r)},[]),n?u(k,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"background.default",children:u(qa,{size:60})}):u(Om,{value:e?JT:QT,children:g(Nm,{theme:i,children:[u(Dm,{}),g(np,{children:[u(Um,{children:u(Kp,{children:g(sd,{children:[u(Y,{path:"/",element:u(Te,{})}),u(Y,{path:"/workspace",element:u(Te,{})}),u(Y,{path:"/dashboard",element:u(Te,{})}),u(Y,{path:"/oid-tree",element:u(Yp,{})}),u(Y,{path:"/register",element:u(GT,{})}),u(Y,{path:"/edit/:oid",element:u(qT,{})}),u(Y,{path:"/chat",element:u(WT,{})}),u(Y,{path:"/test",element:u(KT,{})}),u(Y,{path:"/portals/*",element:u(es,{})}),u(Y,{path:"/doctor-portal/*",element:u(es,{})}),u(Y,{path:"/nurse-portal/*",element:u(es,{})}),u(Y,{path:"/patient-portal/*",element:u(es,{})}),u(Y,{path:"/admin-dashboard/*",element:u(es,{})}),u(Y,{path:"/healthcare",element:u(Te,{})}),u(Y,{path:"/nphies",element:u(Te,{})}),u(Y,{path:"/rcm",element:u(Te,{})}),u(Y,{path:"/ai-analytics",element:u(Te,{})}),u(Y,{path:"/training",element:u(Te,{})}),u(Y,{path:"/bot-dashboard",element:u(Te,{})}),u(Y,{path:"/home",element:u(Te,{})}),u(Y,{path:"/legacy/home",element:u(Te,{})}),u(Y,{path:"/legacy/healthcare",element:u(Te,{})}),u(Y,{path:"/legacy/nphies",element:u(Te,{})}),u(Y,{path:"/legacy/rcm",element:u(Te,{})}),u(Y,{path:"/legacy/ai-analytics",element:u(Te,{})}),u(Y,{path:"/legacy/training",element:u(Te,{})}),u(Y,{path:"/legacy/bot-dashboard",element:u(Te,{})})]})})}),u(qp,{position:e?"top-left":"top-right",toastOptions:{duration:4e3,style:{background:"#1a1f2e",color:"#ffffff",border:"1px solid #2d3748",borderRadius:"8px",fontFamily:i.typography.fontFamily}}})]})]})})}function tA(){return u(Vm,{client:ZT,children:u(XT,{children:u(Gp,{children:u(b_,{children:u(eA,{})})})})})}ga.createRoot(document.getElementById("root")).render(u(dt.StrictMode,{children:u(tA,{})}));
